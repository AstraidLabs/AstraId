function Um(a,o){for(var c=0;c<o.length;c++){const u=o[c];if(typeof u!="string"&&!Array.isArray(u)){for(const m in u)if(m!=="default"&&!(m in a)){const f=Object.getOwnPropertyDescriptor(u,m);f&&Object.defineProperty(a,m,f.get?f:{enumerable:!0,get:()=>u[m]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function c(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(m){if(m.ep)return;m.ep=!0;const f=c(m);fetch(m.href,f)}})();function ud(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ni={exports:{}},rn={},bi={exports:{}},ye={};var Lu;function Dm(){if(Lu)return ye;Lu=1;var a=Symbol.for("react.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),b=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function v(k,F,ce){this.props=k,this.context=F,this.refs=U,this.updater=ce||z}v.prototype.isReactComponent={},v.prototype.setState=function(k,F){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,F,"setState")},v.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=v.prototype;function y(k,F,ce){this.props=k,this.context=F,this.refs=U,this.updater=ce||z}var C=y.prototype=new R;C.constructor=y,O(C,v.prototype),C.isPureReactComponent=!0;var I=Array.isArray,A=Object.prototype.hasOwnProperty,H={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function pe(k,F,ce){var he,be={},ve=null,$=null;if(F!=null)for(he in F.ref!==void 0&&($=F.ref),F.key!==void 0&&(ve=""+F.key),F)A.call(F,he)&&!M.hasOwnProperty(he)&&(be[he]=F[he]);var Y=arguments.length-2;if(Y===1)be.children=ce;else if(1<Y){for(var ee=Array(Y),oe=0;oe<Y;oe++)ee[oe]=arguments[oe+2];be.children=ee}if(k&&k.defaultProps)for(he in Y=k.defaultProps,Y)be[he]===void 0&&(be[he]=Y[he]);return{$$typeof:a,type:k,key:ve,ref:$,props:be,_owner:H.current}}function xe(k,F){return{$$typeof:a,type:k.type,key:F,ref:k.ref,props:k.props,_owner:k._owner}}function G(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function q(k){var F={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return F[ce]})}var fe=/\/+/g;function ke(k,F){return typeof k=="object"&&k!==null&&k.key!=null?q(""+k.key):F.toString(36)}function Ne(k,F,ce,he,be){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var $=!1;if(k===null)$=!0;else switch(ve){case"string":case"number":$=!0;break;case"object":switch(k.$$typeof){case a:case o:$=!0}}if($)return $=k,be=be($),k=he===""?"."+ke($,0):he,I(be)?(ce="",k!=null&&(ce=k.replace(fe,"$&/")+"/"),Ne(be,F,ce,"",function(oe){return oe})):be!=null&&(G(be)&&(be=xe(be,ce+(!be.key||$&&$.key===be.key?"":(""+be.key).replace(fe,"$&/")+"/")+k)),F.push(be)),1;if($=0,he=he===""?".":he+":",I(k))for(var Y=0;Y<k.length;Y++){ve=k[Y];var ee=he+ke(ve,Y);$+=Ne(ve,F,ce,ee,be)}else if(ee=w(k),typeof ee=="function")for(k=ee.call(k),Y=0;!(ve=k.next()).done;)ve=ve.value,ee=he+ke(ve,Y++),$+=Ne(ve,F,ce,ee,be);else if(ve==="object")throw F=String(k),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return $}function Ae(k,F,ce){if(k==null)return k;var he=[],be=0;return Ne(k,he,"","",function(ve){return F.call(ce,ve,be++)}),he}function Pe(k){if(k._status===-1){var F=k._result;F=F(),F.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=F)}if(k._status===1)return k._result.default;throw k._result}var we={current:null},J={transition:null},K={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:J,ReactCurrentOwner:H};function _(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:Ae,forEach:function(k,F,ce){Ae(k,function(){F.apply(this,arguments)},ce)},count:function(k){var F=0;return Ae(k,function(){F++}),F},toArray:function(k){return Ae(k,function(F){return F})||[]},only:function(k){if(!G(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ye.Component=v,ye.Fragment=c,ye.Profiler=m,ye.PureComponent=y,ye.StrictMode=u,ye.Suspense=g,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ye.act=_,ye.cloneElement=function(k,F,ce){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var he=O({},k.props),be=k.key,ve=k.ref,$=k._owner;if(F!=null){if(F.ref!==void 0&&(ve=F.ref,$=H.current),F.key!==void 0&&(be=""+F.key),k.type&&k.type.defaultProps)var Y=k.type.defaultProps;for(ee in F)A.call(F,ee)&&!M.hasOwnProperty(ee)&&(he[ee]=F[ee]===void 0&&Y!==void 0?Y[ee]:F[ee])}var ee=arguments.length-2;if(ee===1)he.children=ce;else if(1<ee){Y=Array(ee);for(var oe=0;oe<ee;oe++)Y[oe]=arguments[oe+2];he.children=Y}return{$$typeof:a,type:k.type,key:be,ref:ve,props:he,_owner:$}},ye.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:f,_context:k},k.Consumer=k},ye.createElement=pe,ye.createFactory=function(k){var F=pe.bind(null,k);return F.type=k,F},ye.createRef=function(){return{current:null}},ye.forwardRef=function(k){return{$$typeof:j,render:k}},ye.isValidElement=G,ye.lazy=function(k){return{$$typeof:P,_payload:{_status:-1,_result:k},_init:Pe}},ye.memo=function(k,F){return{$$typeof:E,type:k,compare:F===void 0?null:F}},ye.startTransition=function(k){var F=J.transition;J.transition={};try{k()}finally{J.transition=F}},ye.unstable_act=_,ye.useCallback=function(k,F){return we.current.useCallback(k,F)},ye.useContext=function(k){return we.current.useContext(k)},ye.useDebugValue=function(){},ye.useDeferredValue=function(k){return we.current.useDeferredValue(k)},ye.useEffect=function(k,F){return we.current.useEffect(k,F)},ye.useId=function(){return we.current.useId()},ye.useImperativeHandle=function(k,F,ce){return we.current.useImperativeHandle(k,F,ce)},ye.useInsertionEffect=function(k,F){return we.current.useInsertionEffect(k,F)},ye.useLayoutEffect=function(k,F){return we.current.useLayoutEffect(k,F)},ye.useMemo=function(k,F){return we.current.useMemo(k,F)},ye.useReducer=function(k,F,ce){return we.current.useReducer(k,F,ce)},ye.useRef=function(k){return we.current.useRef(k)},ye.useState=function(k){return we.current.useState(k)},ye.useSyncExternalStore=function(k,F,ce){return we.current.useSyncExternalStore(k,F,ce)},ye.useTransition=function(){return we.current.useTransition()},ye.version="18.3.1",ye}var Iu;function Ui(){return Iu||(Iu=1,bi.exports=Dm()),bi.exports}var Uu;function _m(){if(Uu)return rn;Uu=1;var a=Ui(),o=Symbol.for("react.element"),c=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,m=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(j,g,E){var P,b={},w=null,z=null;E!==void 0&&(w=""+E),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(z=g.ref);for(P in g)u.call(g,P)&&!f.hasOwnProperty(P)&&(b[P]=g[P]);if(j&&j.defaultProps)for(P in g=j.defaultProps,g)b[P]===void 0&&(b[P]=g[P]);return{$$typeof:o,type:j,key:w,ref:z,props:b,_owner:m.current}}return rn.Fragment=c,rn.jsx=h,rn.jsxs=h,rn}var Du;function Am(){return Du||(Du=1,Ni.exports=_m()),Ni.exports}var s=Am(),p=Ui();const dd=ud(p),zm=Um({__proto__:null,default:dd},[p]);var vl={},wi={exports:{}},ft={},Si={exports:{}},ki={};var _u;function Om(){return _u||(_u=1,(function(a){function o(J,K){var _=J.length;J.push(K);e:for(;0<_;){var k=_-1>>>1,F=J[k];if(0<m(F,K))J[k]=K,J[_]=F,_=k;else break e}}function c(J){return J.length===0?null:J[0]}function u(J){if(J.length===0)return null;var K=J[0],_=J.pop();if(_!==K){J[0]=_;e:for(var k=0,F=J.length,ce=F>>>1;k<ce;){var he=2*(k+1)-1,be=J[he],ve=he+1,$=J[ve];if(0>m(be,_))ve<F&&0>m($,be)?(J[k]=$,J[ve]=_,k=ve):(J[k]=be,J[he]=_,k=he);else if(ve<F&&0>m($,_))J[k]=$,J[ve]=_,k=ve;else break e}}return K}function m(J,K){var _=J.sortIndex-K.sortIndex;return _!==0?_:J.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,j=h.now();a.unstable_now=function(){return h.now()-j}}var g=[],E=[],P=1,b=null,w=3,z=!1,O=!1,U=!1,v=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var K=c(E);K!==null;){if(K.callback===null)u(E);else if(K.startTime<=J)u(E),K.sortIndex=K.expirationTime,o(g,K);else break;K=c(E)}}function I(J){if(U=!1,C(J),!O)if(c(g)!==null)O=!0,Pe(A);else{var K=c(E);K!==null&&we(I,K.startTime-J)}}function A(J,K){O=!1,U&&(U=!1,R(pe),pe=-1),z=!0;var _=w;try{for(C(K),b=c(g);b!==null&&(!(b.expirationTime>K)||J&&!q());){var k=b.callback;if(typeof k=="function"){b.callback=null,w=b.priorityLevel;var F=k(b.expirationTime<=K);K=a.unstable_now(),typeof F=="function"?b.callback=F:b===c(g)&&u(g),C(K)}else u(g);b=c(g)}if(b!==null)var ce=!0;else{var he=c(E);he!==null&&we(I,he.startTime-K),ce=!1}return ce}finally{b=null,w=_,z=!1}}var H=!1,M=null,pe=-1,xe=5,G=-1;function q(){return!(a.unstable_now()-G<xe)}function fe(){if(M!==null){var J=a.unstable_now();G=J;var K=!0;try{K=M(!0,J)}finally{K?ke():(H=!1,M=null)}}else H=!1}var ke;if(typeof y=="function")ke=function(){y(fe)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ae=Ne.port2;Ne.port1.onmessage=fe,ke=function(){Ae.postMessage(null)}}else ke=function(){v(fe,0)};function Pe(J){M=J,H||(H=!0,ke())}function we(J,K){pe=v(function(){J(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(J){J.callback=null},a.unstable_continueExecution=function(){O||z||(O=!0,Pe(A))},a.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<J?Math.floor(1e3/J):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_getFirstCallbackNode=function(){return c(g)},a.unstable_next=function(J){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var _=w;w=K;try{return J()}finally{w=_}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(J,K){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _=w;w=J;try{return K()}finally{w=_}},a.unstable_scheduleCallback=function(J,K,_){var k=a.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?k+_:k):_=k,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=_+F,J={id:P++,callback:K,priorityLevel:J,startTime:_,expirationTime:F,sortIndex:-1},_>k?(J.sortIndex=_,o(E,J),c(g)===null&&J===c(E)&&(U?(R(pe),pe=-1):U=!0,we(I,_-k))):(J.sortIndex=F,o(g,J),O||z||(O=!0,Pe(A))),J},a.unstable_shouldYield=q,a.unstable_wrapCallback=function(J){var K=w;return function(){var _=w;w=K;try{return J.apply(this,arguments)}finally{w=_}}}})(ki)),ki}var Au;function Mm(){return Au||(Au=1,Si.exports=Om()),Si.exports}var zu;function Fm(){if(zu)return ft;zu=1;var a=Ui(),o=Mm();function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,m={};function f(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(m[e]=t,e=0;e<t.length;e++)u.add(t[e])}var j=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P={},b={};function w(e){return g.call(b,e)?!0:g.call(P,e)?!1:E.test(e)?b[e]=!0:(P[e]=!0,!1)}function z(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,r,n){if(t===null||typeof t>"u"||z(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,r,n,l,i,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=d}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,y);v[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,y);v[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,y);v[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function C(e,t,r,n){var l=v.hasOwnProperty(t)?v[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,r,l,n)&&(r=null),n||l===null?w(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,n=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var I=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),q=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),J=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var _=Object.assign,k;function F(e){if(k===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var ce=!1;function he(e,t){if(!e||ce)return"";ce=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(D){var n=D}Reflect.construct(e,[],t)}else{try{t.call()}catch(D){n=D}e.call(t.prototype)}else{try{throw Error()}catch(D){n=D}e()}}catch(D){if(D&&n&&typeof D.stack=="string"){for(var l=D.stack.split(`
`),i=n.stack.split(`
`),d=l.length-1,x=i.length-1;1<=d&&0<=x&&l[d]!==i[x];)x--;for(;1<=d&&0<=x;d--,x--)if(l[d]!==i[x]){if(d!==1||x!==1)do if(d--,x--,0>x||l[d]!==i[x]){var N=`
`+l[d].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=d&&0<=x);break}}}finally{ce=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function be(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case H:return"Portal";case xe:return"Profiler";case pe:return"StrictMode";case ke:return"Suspense";case Ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case G:return(e._context.displayName||"Context")+".Provider";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oe(e){var t=ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){n=""+d,i.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vt(e){e._valueTracker||(e._valueTracker=oe(e))}function es(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ee(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _t(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xr(e,t){var r=t.checked;return _({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cn(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Y(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function me(e,t){t=t.checked,t!=null&&C(e,"checked",t,!1)}function Ee(e,t){me(e,t);var r=Y(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gr(e,t.type,r):t.hasOwnProperty("defaultValue")&&gr(e,t.type,Y(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gr(e,t,r){(t!=="number"||_t(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vr=Array.isArray;function Ms(e,t,r,n){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Y(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(c(91));return _({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fi(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(c(92));if(vr(r)){if(1<r.length)throw Error(c(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Y(r)}}function $i(e,t){var r=Y(t.value),n=Y(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vi(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var un,Wi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=un.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zd=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){zd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function Ki(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function Hi(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,l=Ki(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,l):e[r]=l}}var Od=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(e,t){if(t){if(Od[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(c(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(c(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(t.style!=null&&typeof t.style!="object")throw Error(c(62))}}function Dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=null;function Al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zl=null,Fs=null,$s=null;function Qi(e){if(e=Br(e)){if(typeof zl!="function")throw Error(c(280));var t=e.stateNode;t&&(t=Un(t),zl(e.stateNode,e.type,t))}}function Ji(e){Fs?$s?$s.push(e):$s=[e]:Fs=e}function qi(){if(Fs){var e=Fs,t=$s;if($s=Fs=null,Qi(e),t)for(e=0;e<t.length;e++)Qi(t[e])}}function Gi(e,t){return e(t)}function Yi(){}var Ol=!1;function Xi(e,t,r){if(Ol)return e(t,r);Ol=!0;try{return Gi(e,t,r)}finally{Ol=!1,(Fs!==null||$s!==null)&&(Yi(),qi())}}function Nr(e,t){var r=e.stateNode;if(r===null)return null;var n=Un(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(c(231,t,typeof r));return r}var Ml=!1;if(j)try{var br={};Object.defineProperty(br,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Ml=!1}function Md(e,t,r,n,l,i,d,x,N){var D=Array.prototype.slice.call(arguments,3);try{t.apply(r,D)}catch(V){this.onError(V)}}var wr=!1,dn=null,pn=!1,Fl=null,Fd={onError:function(e){wr=!0,dn=e}};function $d(e,t,r,n,l,i,d,x,N){wr=!1,dn=null,Md.apply(Fd,arguments)}function Bd(e,t,r,n,l,i,d,x,N){if($d.apply(this,arguments),wr){if(wr){var D=dn;wr=!1,dn=null}else throw Error(c(198));pn||(pn=!0,Fl=D)}}function Ss(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Zi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eo(e){if(Ss(e)!==e)throw Error(c(188))}function Vd(e){var t=e.alternate;if(!t){if(t=Ss(e),t===null)throw Error(c(188));return t!==e?null:e}for(var r=e,n=t;;){var l=r.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){r=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===r)return eo(l),e;if(i===n)return eo(l),t;i=i.sibling}throw Error(c(188))}if(r.return!==n.return)r=l,n=i;else{for(var d=!1,x=l.child;x;){if(x===r){d=!0,r=l,n=i;break}if(x===n){d=!0,n=l,r=i;break}x=x.sibling}if(!d){for(x=i.child;x;){if(x===r){d=!0,r=i,n=l;break}if(x===n){d=!0,n=i,r=l;break}x=x.sibling}if(!d)throw Error(c(189))}}if(r.alternate!==n)throw Error(c(190))}if(r.tag!==3)throw Error(c(188));return r.stateNode.current===r?e:t}function to(e){return e=Vd(e),e!==null?so(e):null}function so(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=so(e);if(t!==null)return t;e=e.sibling}return null}var ro=o.unstable_scheduleCallback,no=o.unstable_cancelCallback,Wd=o.unstable_shouldYield,Kd=o.unstable_requestPaint,Be=o.unstable_now,Hd=o.unstable_getCurrentPriorityLevel,$l=o.unstable_ImmediatePriority,lo=o.unstable_UserBlockingPriority,mn=o.unstable_NormalPriority,Qd=o.unstable_LowPriority,ao=o.unstable_IdlePriority,fn=null,At=null;function Jd(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(fn,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Yd,qd=Math.log,Gd=Math.LN2;function Yd(e){return e>>>=0,e===0?32:31-(qd(e)/Gd|0)|0}var hn=64,xn=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gn(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,l=e.suspendedLanes,i=e.pingedLanes,d=r&268435455;if(d!==0){var x=d&~l;x!==0?n=Sr(x):(i&=d,i!==0&&(n=Sr(i)))}else d=r&~l,d!==0?n=Sr(d):i!==0&&(n=Sr(i));if(n===0)return 0;if(t!==0&&t!==n&&(t&l)===0&&(l=n&-n,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),l=1<<r,n|=e[r],t&=~l;return n}function Xd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var d=31-Pt(i),x=1<<d,N=l[d];N===-1?((x&r)===0||(x&n)!==0)&&(l[d]=Xd(x,t)):N<=t&&(e.expiredLanes|=x),i&=~x}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function io(){var e=hn;return hn<<=1,(hn&4194240)===0&&(hn=64),e}function Vl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function ep(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Pt(r),i=1<<l;t[l]=0,n[l]=-1,e[l]=-1,r&=~i}}function Wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),l=1<<n;l&t|e[n]&t&&(e[n]|=t),r&=~l}}var Te=0;function oo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var co,Kl,uo,po,mo,Hl=!1,vn=[],ts=null,ss=null,rs=null,Er=new Map,Cr=new Map,ns=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fo(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function Pr(e,t,r,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Br(t),t!==null&&Kl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function sp(e,t,r,n,l){switch(t){case"focusin":return ts=Pr(ts,e,t,r,n,l),!0;case"dragenter":return ss=Pr(ss,e,t,r,n,l),!0;case"mouseover":return rs=Pr(rs,e,t,r,n,l),!0;case"pointerover":var i=l.pointerId;return Er.set(i,Pr(Er.get(i)||null,e,t,r,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Cr.set(i,Pr(Cr.get(i)||null,e,t,r,n,l)),!0}return!1}function ho(e){var t=ks(e.target);if(t!==null){var r=Ss(t);if(r!==null){if(t=r.tag,t===13){if(t=Zi(r),t!==null){e.blockedOn=t,mo(e.priority,function(){uo(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_l=n,r.target.dispatchEvent(n),_l=null}else return t=Br(r),t!==null&&Kl(t),e.blockedOn=r,!1;t.shift()}return!0}function xo(e,t,r){yn(e)&&r.delete(t)}function rp(){Hl=!1,ts!==null&&yn(ts)&&(ts=null),ss!==null&&yn(ss)&&(ss=null),rs!==null&&yn(rs)&&(rs=null),Er.forEach(xo),Cr.forEach(xo)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Hl||(Hl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,rp)))}function Tr(e){function t(l){return Rr(l,e)}if(0<vn.length){Rr(vn[0],e);for(var r=1;r<vn.length;r++){var n=vn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ts!==null&&Rr(ts,e),ss!==null&&Rr(ss,e),rs!==null&&Rr(rs,e),Er.forEach(t),Cr.forEach(t),r=0;r<ns.length;r++)n=ns[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ns.length&&(r=ns[0],r.blockedOn===null);)ho(r),r.blockedOn===null&&ns.shift()}var Bs=I.ReactCurrentBatchConfig,jn=!0;function np(e,t,r,n){var l=Te,i=Bs.transition;Bs.transition=null;try{Te=1,Ql(e,t,r,n)}finally{Te=l,Bs.transition=i}}function lp(e,t,r,n){var l=Te,i=Bs.transition;Bs.transition=null;try{Te=4,Ql(e,t,r,n)}finally{Te=l,Bs.transition=i}}function Ql(e,t,r,n){if(jn){var l=Jl(e,t,r,n);if(l===null)da(e,t,n,Nn,r),fo(e,n);else if(sp(l,e,t,r,n))n.stopPropagation();else if(fo(e,n),t&4&&-1<tp.indexOf(e)){for(;l!==null;){var i=Br(l);if(i!==null&&co(i),i=Jl(e,t,r,n),i===null&&da(e,t,n,Nn,r),i===l)break;l=i}l!==null&&n.stopPropagation()}else da(e,t,n,null,r)}}var Nn=null;function Jl(e,t,r,n){if(Nn=null,e=Al(n),e=ks(e),e!==null)if(t=Ss(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Zi(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nn=e,null}function go(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hd()){case $l:return 1;case lo:return 4;case mn:case Qd:return 16;case ao:return 536870912;default:return 16}default:return 16}}var ls=null,ql=null,bn=null;function vo(){if(bn)return bn;var e,t=ql,r=t.length,n,l="value"in ls?ls.value:ls.textContent,i=l.length;for(e=0;e<r&&t[e]===l[e];e++);var d=r-e;for(n=1;n<=d&&t[r-n]===l[i-n];n++);return bn=l.slice(e,1<n?1-n:void 0)}function wn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sn(){return!0}function yo(){return!1}function xt(e){function t(r,n,l,i,d){this._reactName=r,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sn:yo,this.isPropagationStopped=yo,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sn)},persist:function(){},isPersistent:Sn}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=xt(Vs),Lr=_({},Vs,{view:0,detail:0}),ap=xt(Lr),Yl,Xl,Ir,kn=_({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Yl=e.screenX-Ir.screenX,Xl=e.screenY-Ir.screenY):Xl=Yl=0,Ir=e),Yl)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),jo=xt(kn),ip=_({},kn,{dataTransfer:0}),op=xt(ip),cp=_({},Lr,{relatedTarget:0}),Zl=xt(cp),up=_({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=xt(up),pp=_({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mp=xt(pp),fp=_({},Vs,{data:0}),No=xt(fp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gp[e])?!!t[e]:!1}function ea(){return vp}var yp=_({},Lr,{key:function(e){if(e.key){var t=hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(e){return e.type==="keypress"?wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jp=xt(yp),Np=_({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=xt(Np),bp=_({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),wp=xt(bp),Sp=_({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=xt(Sp),Ep=_({},kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cp=xt(Ep),Pp=[9,13,27,32],ta=j&&"CompositionEvent"in window,Ur=null;j&&"documentMode"in document&&(Ur=document.documentMode);var Rp=j&&"TextEvent"in window&&!Ur,wo=j&&(!ta||Ur&&8<Ur&&11>=Ur),So=" ",ko=!1;function Eo(e,t){switch(e){case"keyup":return Pp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Co(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ws=!1;function Tp(e,t){switch(e){case"compositionend":return Co(t);case"keypress":return t.which!==32?null:(ko=!0,So);case"textInput":return e=t.data,e===So&&ko?null:e;default:return null}}function Lp(e,t){if(Ws)return e==="compositionend"||!ta&&Eo(e,t)?(e=vo(),bn=ql=ls=null,Ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wo&&t.locale!=="ko"?null:t.data;default:return null}}var Ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ip[e.type]:t==="textarea"}function Ro(e,t,r,n){Ji(n),t=Tn(t,"onChange"),0<t.length&&(r=new Gl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dr=null,_r=null;function Up(e){Qo(e,0)}function En(e){var t=qs(e);if(es(t))return e}function Dp(e,t){if(e==="change")return t}var To=!1;if(j){var sa;if(j){var ra="oninput"in document;if(!ra){var Lo=document.createElement("div");Lo.setAttribute("oninput","return;"),ra=typeof Lo.oninput=="function"}sa=ra}else sa=!1;To=sa&&(!document.documentMode||9<document.documentMode)}function Io(){Dr&&(Dr.detachEvent("onpropertychange",Uo),_r=Dr=null)}function Uo(e){if(e.propertyName==="value"&&En(_r)){var t=[];Ro(t,_r,e,Al(e)),Xi(Up,t)}}function _p(e,t,r){e==="focusin"?(Io(),Dr=t,_r=r,Dr.attachEvent("onpropertychange",Uo)):e==="focusout"&&Io()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return En(_r)}function zp(e,t){if(e==="click")return En(t)}function Op(e,t){if(e==="input"||e==="change")return En(t)}function Mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Mp;function Ar(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var l=r[n];if(!g.call(t,l)||!Rt(e[l],t[l]))return!1}return!0}function Do(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _o(e,t){var r=Do(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Do(r)}}function Ao(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ao(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zo(){for(var e=window,t=_t();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_t(e.document)}return t}function na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fp(e){var t=zo(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ao(r.ownerDocument.documentElement,r)){if(n!==null&&na(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,i=Math.min(n.start,l);n=n.end===void 0?i:Math.min(n.end,l),!e.extend&&i>n&&(l=n,n=i,i=l),l=_o(r,i);var d=_o(r,n);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $p=j&&"documentMode"in document&&11>=document.documentMode,Ks=null,la=null,zr=null,aa=!1;function Oo(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aa||Ks==null||Ks!==_t(n)||(n=Ks,"selectionStart"in n&&na(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zr&&Ar(zr,n)||(zr=n,n=Tn(la,"onSelect"),0<n.length&&(t=new Gl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ks)))}function Cn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hs={animationend:Cn("Animation","AnimationEnd"),animationiteration:Cn("Animation","AnimationIteration"),animationstart:Cn("Animation","AnimationStart"),transitionend:Cn("Transition","TransitionEnd")},ia={},Mo={};j&&(Mo=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Pn(e){if(ia[e])return ia[e];if(!Hs[e])return e;var t=Hs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Mo)return ia[e]=t[r];return e}var Fo=Pn("animationend"),$o=Pn("animationiteration"),Bo=Pn("animationstart"),Vo=Pn("transitionend"),Wo=new Map,Ko="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){Wo.set(e,t),f(t,[e])}for(var oa=0;oa<Ko.length;oa++){var ca=Ko[oa],Bp=ca.toLowerCase(),Vp=ca[0].toUpperCase()+ca.slice(1);as(Bp,"on"+Vp)}as(Fo,"onAnimationEnd"),as($o,"onAnimationIteration"),as(Bo,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(Vo,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ho(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Bd(n,t,void 0,e),e.currentTarget=null}function Qo(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var d=n.length-1;0<=d;d--){var x=n[d],N=x.instance,D=x.currentTarget;if(x=x.listener,N!==i&&l.isPropagationStopped())break e;Ho(l,x,D),i=N}else for(d=0;d<n.length;d++){if(x=n[d],N=x.instance,D=x.currentTarget,x=x.listener,N!==i&&l.isPropagationStopped())break e;Ho(l,x,D),i=N}}}if(pn)throw e=Fl,pn=!1,Fl=null,e}function Ue(e,t){var r=t[ga];r===void 0&&(r=t[ga]=new Set);var n=e+"__bubble";r.has(n)||(Jo(t,e,2,!1),r.add(n))}function ua(e,t,r){var n=0;t&&(n|=4),Jo(r,e,n,t)}var Rn="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[Rn]){e[Rn]=!0,u.forEach(function(r){r!=="selectionchange"&&(Wp.has(r)||ua(r,!1,e),ua(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rn]||(t[Rn]=!0,ua("selectionchange",!1,t))}}function Jo(e,t,r,n){switch(go(t)){case 1:var l=np;break;case 4:l=lp;break;default:l=Ql}r=l.bind(null,t,r,e),l=void 0,!Ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function da(e,t,r,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var d=n.tag;if(d===3||d===4){var x=n.stateNode.containerInfo;if(x===l||x.nodeType===8&&x.parentNode===l)break;if(d===4)for(d=n.return;d!==null;){var N=d.tag;if((N===3||N===4)&&(N=d.stateNode.containerInfo,N===l||N.nodeType===8&&N.parentNode===l))return;d=d.return}for(;x!==null;){if(d=ks(x),d===null)return;if(N=d.tag,N===5||N===6){n=i=d;continue e}x=x.parentNode}}n=n.return}Xi(function(){var D=i,V=Al(r),W=[];e:{var B=Wo.get(e);if(B!==void 0){var Z=Gl,se=e;switch(e){case"keypress":if(wn(r)===0)break e;case"keydown":case"keyup":Z=jp;break;case"focusin":se="focus",Z=Zl;break;case"focusout":se="blur",Z=Zl;break;case"beforeblur":case"afterblur":Z=Zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=wp;break;case Fo:case $o:case Bo:Z=dp;break;case Vo:Z=kp;break;case"scroll":Z=ap;break;case"wheel":Z=Cp;break;case"copy":case"cut":case"paste":Z=mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bo}var re=(t&4)!==0,Ve=!re&&e==="scroll",T=re?B!==null?B+"Capture":null:B;re=[];for(var S=D,L;S!==null;){L=S;var Q=L.stateNode;if(L.tag===5&&Q!==null&&(L=Q,T!==null&&(Q=Nr(S,T),Q!=null&&re.push(Fr(S,Q,L)))),Ve)break;S=S.return}0<re.length&&(B=new Z(B,se,null,r,V),W.push({event:B,listeners:re}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",B&&r!==_l&&(se=r.relatedTarget||r.fromElement)&&(ks(se)||se[Wt]))break e;if((Z||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,Z?(se=r.relatedTarget||r.toElement,Z=D,se=se?ks(se):null,se!==null&&(Ve=Ss(se),se!==Ve||se.tag!==5&&se.tag!==6)&&(se=null)):(Z=null,se=D),Z!==se)){if(re=jo,Q="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(re=bo,Q="onPointerLeave",T="onPointerEnter",S="pointer"),Ve=Z==null?B:qs(Z),L=se==null?B:qs(se),B=new re(Q,S+"leave",Z,r,V),B.target=Ve,B.relatedTarget=L,Q=null,ks(V)===D&&(re=new re(T,S+"enter",se,r,V),re.target=L,re.relatedTarget=Ve,Q=re),Ve=Q,Z&&se)t:{for(re=Z,T=se,S=0,L=re;L;L=Qs(L))S++;for(L=0,Q=T;Q;Q=Qs(Q))L++;for(;0<S-L;)re=Qs(re),S--;for(;0<L-S;)T=Qs(T),L--;for(;S--;){if(re===T||T!==null&&re===T.alternate)break t;re=Qs(re),T=Qs(T)}re=null}else re=null;Z!==null&&qo(W,B,Z,re,!1),se!==null&&Ve!==null&&qo(W,Ve,se,re,!0)}}e:{if(B=D?qs(D):window,Z=B.nodeName&&B.nodeName.toLowerCase(),Z==="select"||Z==="input"&&B.type==="file")var ne=Dp;else if(Po(B))if(To)ne=Op;else{ne=Ap;var ae=_p}else(Z=B.nodeName)&&Z.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ne=zp);if(ne&&(ne=ne(e,D))){Ro(W,ne,r,V);break e}ae&&ae(e,B,D),e==="focusout"&&(ae=B._wrapperState)&&ae.controlled&&B.type==="number"&&gr(B,"number",B.value)}switch(ae=D?qs(D):window,e){case"focusin":(Po(ae)||ae.contentEditable==="true")&&(Ks=ae,la=D,zr=null);break;case"focusout":zr=la=Ks=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Oo(W,r,V);break;case"selectionchange":if($p)break;case"keydown":case"keyup":Oo(W,r,V)}var ie;if(ta)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Ws?Eo(e,r)&&(de="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(de="onCompositionStart");de&&(wo&&r.locale!=="ko"&&(Ws||de!=="onCompositionStart"?de==="onCompositionEnd"&&Ws&&(ie=vo()):(ls=V,ql="value"in ls?ls.value:ls.textContent,Ws=!0)),ae=Tn(D,de),0<ae.length&&(de=new No(de,e,null,r,V),W.push({event:de,listeners:ae}),ie?de.data=ie:(ie=Co(r),ie!==null&&(de.data=ie)))),(ie=Rp?Tp(e,r):Lp(e,r))&&(D=Tn(D,"onBeforeInput"),0<D.length&&(V=new No("onBeforeInput","beforeinput",null,r,V),W.push({event:V,listeners:D}),V.data=ie))}Qo(W,t)})}function Fr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tn(e,t){for(var r=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Nr(e,r),i!=null&&n.unshift(Fr(e,i,l)),i=Nr(e,t),i!=null&&n.push(Fr(e,i,l))),e=e.return}return n}function Qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qo(e,t,r,n,l){for(var i=t._reactName,d=[];r!==null&&r!==n;){var x=r,N=x.alternate,D=x.stateNode;if(N!==null&&N===n)break;x.tag===5&&D!==null&&(x=D,l?(N=Nr(r,i),N!=null&&d.unshift(Fr(r,N,x))):l||(N=Nr(r,i),N!=null&&d.push(Fr(r,N,x)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var Kp=/\r\n?/g,Hp=/\u0000|\uFFFD/g;function Go(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(Hp,"")}function Ln(e,t,r){if(t=Go(t),Go(e)!==t&&r)throw Error(c(425))}function In(){}var pa=null,ma=null;function fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,Qp=typeof clearTimeout=="function"?clearTimeout:void 0,Yo=typeof Promise=="function"?Promise:void 0,Jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yo<"u"?function(e){return Yo.resolve(null).then(e).catch(qp)}:ha;function qp(e){setTimeout(function(){throw e})}function xa(e,t){var r=t,n=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0){e.removeChild(l),Tr(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=l}while(r);Tr(t)}function is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Js=Math.random().toString(36).slice(2),zt="__reactFiber$"+Js,$r="__reactProps$"+Js,Wt="__reactContainer$"+Js,ga="__reactEvents$"+Js,Gp="__reactListeners$"+Js,Yp="__reactHandles$"+Js;function ks(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wt]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xo(e);e!==null;){if(r=e[zt])return r;e=Xo(e)}return t}e=r,r=e.parentNode}return null}function Br(e){return e=e[zt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(c(33))}function Un(e){return e[$r]||null}var va=[],Gs=-1;function os(e){return{current:e}}function De(e){0>Gs||(e.current=va[Gs],va[Gs]=null,Gs--)}function Ie(e,t){Gs++,va[Gs]=e.current,e.current=t}var cs={},tt=os(cs),ct=os(!1),Es=cs;function Ys(e,t){var r=e.type.contextTypes;if(!r)return cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in r)l[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ut(e){return e=e.childContextTypes,e!=null}function Dn(){De(ct),De(tt)}function Zo(e,t,r){if(tt.current!==cs)throw Error(c(168));Ie(tt,t),Ie(ct,r)}function ec(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(c(108,$(e)||"Unknown",l));return _({},r,n)}function _n(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,Es=tt.current,Ie(tt,e),Ie(ct,ct.current),!0}function tc(e,t,r){var n=e.stateNode;if(!n)throw Error(c(169));r?(e=ec(e,t,Es),n.__reactInternalMemoizedMergedChildContext=e,De(ct),De(tt),Ie(tt,e)):De(ct),Ie(ct,r)}var Kt=null,An=!1,ya=!1;function sc(e){Kt===null?Kt=[e]:Kt.push(e)}function Xp(e){An=!0,sc(e)}function us(){if(!ya&&Kt!==null){ya=!0;var e=0,t=Te;try{var r=Kt;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kt=null,An=!1}catch(l){throw Kt!==null&&(Kt=Kt.slice(e+1)),ro($l,us),l}finally{Te=t,ya=!1}}return null}var Xs=[],Zs=0,zn=null,On=0,bt=[],wt=0,Cs=null,Ht=1,Qt="";function Ps(e,t){Xs[Zs++]=On,Xs[Zs++]=zn,zn=e,On=t}function rc(e,t,r){bt[wt++]=Ht,bt[wt++]=Qt,bt[wt++]=Cs,Cs=e;var n=Ht;e=Qt;var l=32-Pt(n)-1;n&=~(1<<l),r+=1;var i=32-Pt(t)+l;if(30<i){var d=l-l%5;i=(n&(1<<d)-1).toString(32),n>>=d,l-=d,Ht=1<<32-Pt(t)+l|r<<l|n,Qt=i+e}else Ht=1<<i|r<<l|n,Qt=e}function ja(e){e.return!==null&&(Ps(e,1),rc(e,1,0))}function Na(e){for(;e===zn;)zn=Xs[--Zs],Xs[Zs]=null,On=Xs[--Zs],Xs[Zs]=null;for(;e===Cs;)Cs=bt[--wt],bt[wt]=null,Qt=bt[--wt],bt[wt]=null,Ht=bt[--wt],bt[wt]=null}var gt=null,vt=null,_e=!1,Tt=null;function nc(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,vt=is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cs!==null?{id:Ht,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gt=e,vt=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wa(e){if(_e){var t=vt;if(t){var r=t;if(!lc(e,t)){if(ba(e))throw Error(c(418));t=is(r.nextSibling);var n=gt;t&&lc(e,t)?nc(n,r):(e.flags=e.flags&-4097|2,_e=!1,gt=e)}}else{if(ba(e))throw Error(c(418));e.flags=e.flags&-4097|2,_e=!1,gt=e}}}function ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Mn(e){if(e!==gt)return!1;if(!_e)return ac(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fa(e.type,e.memoizedProps)),t&&(t=vt)){if(ba(e))throw ic(),Error(c(418));for(;t;)nc(e,t),t=is(t.nextSibling)}if(ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=is(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=gt?is(e.stateNode.nextSibling):null;return!0}function ic(){for(var e=vt;e;)e=is(e.nextSibling)}function er(){vt=gt=null,_e=!1}function Sa(e){Tt===null?Tt=[e]:Tt.push(e)}var Zp=I.ReactCurrentBatchConfig;function Vr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(c(309));var n=r.stateNode}if(!n)throw Error(c(147,e));var l=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(d){var x=l.refs;d===null?delete x[i]:x[i]=d},t._stringRef=i,t)}if(typeof e!="string")throw Error(c(284));if(!r._owner)throw Error(c(290,e))}return e}function Fn(e,t){throw e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oc(e){var t=e._init;return t(e._payload)}function cc(e){function t(T,S){if(e){var L=T.deletions;L===null?(T.deletions=[S],T.flags|=16):L.push(S)}}function r(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function n(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function l(T,S){return T=vs(T,S),T.index=0,T.sibling=null,T}function i(T,S,L){return T.index=L,e?(L=T.alternate,L!==null?(L=L.index,L<S?(T.flags|=2,S):L):(T.flags|=2,S)):(T.flags|=1048576,S)}function d(T){return e&&T.alternate===null&&(T.flags|=2),T}function x(T,S,L,Q){return S===null||S.tag!==6?(S=hi(L,T.mode,Q),S.return=T,S):(S=l(S,L),S.return=T,S)}function N(T,S,L,Q){var ne=L.type;return ne===M?V(T,S,L.props.children,Q,L.key):S!==null&&(S.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Pe&&oc(ne)===S.type)?(Q=l(S,L.props),Q.ref=Vr(T,S,L),Q.return=T,Q):(Q=ul(L.type,L.key,L.props,null,T.mode,Q),Q.ref=Vr(T,S,L),Q.return=T,Q)}function D(T,S,L,Q){return S===null||S.tag!==4||S.stateNode.containerInfo!==L.containerInfo||S.stateNode.implementation!==L.implementation?(S=xi(L,T.mode,Q),S.return=T,S):(S=l(S,L.children||[]),S.return=T,S)}function V(T,S,L,Q,ne){return S===null||S.tag!==7?(S=As(L,T.mode,Q,ne),S.return=T,S):(S=l(S,L),S.return=T,S)}function W(T,S,L){if(typeof S=="string"&&S!==""||typeof S=="number")return S=hi(""+S,T.mode,L),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case A:return L=ul(S.type,S.key,S.props,null,T.mode,L),L.ref=Vr(T,null,S),L.return=T,L;case H:return S=xi(S,T.mode,L),S.return=T,S;case Pe:var Q=S._init;return W(T,Q(S._payload),L)}if(vr(S)||K(S))return S=As(S,T.mode,L,null),S.return=T,S;Fn(T,S)}return null}function B(T,S,L,Q){var ne=S!==null?S.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ne!==null?null:x(T,S,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return L.key===ne?N(T,S,L,Q):null;case H:return L.key===ne?D(T,S,L,Q):null;case Pe:return ne=L._init,B(T,S,ne(L._payload),Q)}if(vr(L)||K(L))return ne!==null?null:V(T,S,L,Q,null);Fn(T,L)}return null}function Z(T,S,L,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return T=T.get(L)||null,x(S,T,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return T=T.get(Q.key===null?L:Q.key)||null,N(S,T,Q,ne);case H:return T=T.get(Q.key===null?L:Q.key)||null,D(S,T,Q,ne);case Pe:var ae=Q._init;return Z(T,S,L,ae(Q._payload),ne)}if(vr(Q)||K(Q))return T=T.get(L)||null,V(S,T,Q,ne,null);Fn(S,Q)}return null}function se(T,S,L,Q){for(var ne=null,ae=null,ie=S,de=S=0,Ye=null;ie!==null&&de<L.length;de++){ie.index>de?(Ye=ie,ie=null):Ye=ie.sibling;var Ce=B(T,ie,L[de],Q);if(Ce===null){ie===null&&(ie=Ye);break}e&&ie&&Ce.alternate===null&&t(T,ie),S=i(Ce,S,de),ae===null?ne=Ce:ae.sibling=Ce,ae=Ce,ie=Ye}if(de===L.length)return r(T,ie),_e&&Ps(T,de),ne;if(ie===null){for(;de<L.length;de++)ie=W(T,L[de],Q),ie!==null&&(S=i(ie,S,de),ae===null?ne=ie:ae.sibling=ie,ae=ie);return _e&&Ps(T,de),ne}for(ie=n(T,ie);de<L.length;de++)Ye=Z(ie,T,de,L[de],Q),Ye!==null&&(e&&Ye.alternate!==null&&ie.delete(Ye.key===null?de:Ye.key),S=i(Ye,S,de),ae===null?ne=Ye:ae.sibling=Ye,ae=Ye);return e&&ie.forEach(function(ys){return t(T,ys)}),_e&&Ps(T,de),ne}function re(T,S,L,Q){var ne=K(L);if(typeof ne!="function")throw Error(c(150));if(L=ne.call(L),L==null)throw Error(c(151));for(var ae=ne=null,ie=S,de=S=0,Ye=null,Ce=L.next();ie!==null&&!Ce.done;de++,Ce=L.next()){ie.index>de?(Ye=ie,ie=null):Ye=ie.sibling;var ys=B(T,ie,Ce.value,Q);if(ys===null){ie===null&&(ie=Ye);break}e&&ie&&ys.alternate===null&&t(T,ie),S=i(ys,S,de),ae===null?ne=ys:ae.sibling=ys,ae=ys,ie=Ye}if(Ce.done)return r(T,ie),_e&&Ps(T,de),ne;if(ie===null){for(;!Ce.done;de++,Ce=L.next())Ce=W(T,Ce.value,Q),Ce!==null&&(S=i(Ce,S,de),ae===null?ne=Ce:ae.sibling=Ce,ae=Ce);return _e&&Ps(T,de),ne}for(ie=n(T,ie);!Ce.done;de++,Ce=L.next())Ce=Z(ie,T,de,Ce.value,Q),Ce!==null&&(e&&Ce.alternate!==null&&ie.delete(Ce.key===null?de:Ce.key),S=i(Ce,S,de),ae===null?ne=Ce:ae.sibling=Ce,ae=Ce);return e&&ie.forEach(function(Im){return t(T,Im)}),_e&&Ps(T,de),ne}function Ve(T,S,L,Q){if(typeof L=="object"&&L!==null&&L.type===M&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case A:e:{for(var ne=L.key,ae=S;ae!==null;){if(ae.key===ne){if(ne=L.type,ne===M){if(ae.tag===7){r(T,ae.sibling),S=l(ae,L.props.children),S.return=T,T=S;break e}}else if(ae.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Pe&&oc(ne)===ae.type){r(T,ae.sibling),S=l(ae,L.props),S.ref=Vr(T,ae,L),S.return=T,T=S;break e}r(T,ae);break}else t(T,ae);ae=ae.sibling}L.type===M?(S=As(L.props.children,T.mode,Q,L.key),S.return=T,T=S):(Q=ul(L.type,L.key,L.props,null,T.mode,Q),Q.ref=Vr(T,S,L),Q.return=T,T=Q)}return d(T);case H:e:{for(ae=L.key;S!==null;){if(S.key===ae)if(S.tag===4&&S.stateNode.containerInfo===L.containerInfo&&S.stateNode.implementation===L.implementation){r(T,S.sibling),S=l(S,L.children||[]),S.return=T,T=S;break e}else{r(T,S);break}else t(T,S);S=S.sibling}S=xi(L,T.mode,Q),S.return=T,T=S}return d(T);case Pe:return ae=L._init,Ve(T,S,ae(L._payload),Q)}if(vr(L))return se(T,S,L,Q);if(K(L))return re(T,S,L,Q);Fn(T,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,S!==null&&S.tag===6?(r(T,S.sibling),S=l(S,L),S.return=T,T=S):(r(T,S),S=hi(L,T.mode,Q),S.return=T,T=S),d(T)):r(T,S)}return Ve}var tr=cc(!0),uc=cc(!1),$n=os(null),Bn=null,sr=null,ka=null;function Ea(){ka=sr=Bn=null}function Ca(e){var t=$n.current;De($n),e._currentValue=t}function Pa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rr(e,t){Bn=e,ka=sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(dt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},sr===null){if(Bn===null)throw Error(c(308));sr=e,Bn.dependencies={lanes:0,firstContext:e}}else sr=sr.next=e;return t}var Rs=null;function Ra(e){Rs===null?Rs=[e]:Rs.push(e)}function dc(e,t,r,n){var l=t.interleaved;return l===null?(r.next=r,Ra(t)):(r.next=l.next,l.next=r),t.interleaved=r,Jt(e,n)}function Jt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ds=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ps(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Se&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,Jt(e,r)}return l=n.interleaved,l===null?(t.next=t,Ra(n)):(t.next=l.next,l.next=t),n.interleaved=t,Jt(e,r)}function Vn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wl(e,r)}}function mc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var l=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?l=i=d:i=i.next=d,r=r.next}while(r!==null);i===null?l=i=t:i=i.next=t}else l=i=t;r={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wn(e,t,r,n){var l=e.updateQueue;ds=!1;var i=l.firstBaseUpdate,d=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var N=x,D=N.next;N.next=null,d===null?i=D:d.next=D,d=N;var V=e.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==d&&(x===null?V.firstBaseUpdate=D:x.next=D,V.lastBaseUpdate=N))}if(i!==null){var W=l.baseState;d=0,V=D=N=null,x=i;do{var B=x.lane,Z=x.eventTime;if((n&B)===B){V!==null&&(V=V.next={eventTime:Z,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var se=e,re=x;switch(B=t,Z=r,re.tag){case 1:if(se=re.payload,typeof se=="function"){W=se.call(Z,W,B);break e}W=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=re.payload,B=typeof se=="function"?se.call(Z,W,B):se,B==null)break e;W=_({},W,B);break e;case 2:ds=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,B=l.effects,B===null?l.effects=[x]:B.push(x))}else Z={eventTime:Z,lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(D=V=Z,N=W):V=V.next=Z,d|=B;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;B=x,x=B.next,B.next=null,l.lastBaseUpdate=B,l.shared.pending=null}}while(!0);if(V===null&&(N=W),l.baseState=N,l.firstBaseUpdate=D,l.lastBaseUpdate=V,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Is|=d,e.lanes=d,e.memoizedState=W}}function fc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],l=n.callback;if(l!==null){if(n.callback=null,n=r,typeof l!="function")throw Error(c(191,l));l.call(n)}}}var Wr={},Ot=os(Wr),Kr=os(Wr),Hr=os(Wr);function Ts(e){if(e===Wr)throw Error(c(174));return e}function La(e,t){switch(Ie(Hr,t),Ie(Kr,e),Ie(Ot,Wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Il(t,e)}De(Ot),Ie(Ot,t)}function nr(){De(Ot),De(Kr),De(Hr)}function hc(e){Ts(Hr.current);var t=Ts(Ot.current),r=Il(t,e.type);t!==r&&(Ie(Kr,e),Ie(Ot,r))}function Ia(e){Kr.current===e&&(De(Ot),De(Kr))}var ze=os(0);function Kn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function Da(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var Hn=I.ReactCurrentDispatcher,_a=I.ReactCurrentBatchConfig,Ls=0,Oe=null,Qe=null,qe=null,Qn=!1,Qr=!1,Jr=0,em=0;function st(){throw Error(c(321))}function Aa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function za(e,t,r,n,l,i){if(Ls=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hn.current=e===null||e.memoizedState===null?nm:lm,e=r(n,l),Qr){i=0;do{if(Qr=!1,Jr=0,25<=i)throw Error(c(301));i+=1,qe=Qe=null,t.updateQueue=null,Hn.current=am,e=r(n,l)}while(Qr)}if(Hn.current=Gn,t=Qe!==null&&Qe.next!==null,Ls=0,qe=Qe=Oe=null,Qn=!1,t)throw Error(c(300));return e}function Oa(){var e=Jr!==0;return Jr=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Oe.memoizedState=qe=e:qe=qe.next=e,qe}function kt(){if(Qe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=qe===null?Oe.memoizedState:qe.next;if(t!==null)qe=t,Qe=e;else{if(e===null)throw Error(c(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},qe===null?Oe.memoizedState=qe=e:qe=qe.next=e}return qe}function qr(e,t){return typeof t=="function"?t(e):t}function Ma(e){var t=kt(),r=t.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=e;var n=Qe,l=n.baseQueue,i=r.pending;if(i!==null){if(l!==null){var d=l.next;l.next=i.next,i.next=d}n.baseQueue=l=i,r.pending=null}if(l!==null){i=l.next,n=n.baseState;var x=d=null,N=null,D=i;do{var V=D.lane;if((Ls&V)===V)N!==null&&(N=N.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),n=D.hasEagerState?D.eagerState:e(n,D.action);else{var W={lane:V,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};N===null?(x=N=W,d=n):N=N.next=W,Oe.lanes|=V,Is|=V}D=D.next}while(D!==null&&D!==i);N===null?d=n:N.next=x,Rt(n,t.memoizedState)||(dt=!0),t.memoizedState=n,t.baseState=d,t.baseQueue=N,r.lastRenderedState=n}if(e=r.interleaved,e!==null){l=e;do i=l.lane,Oe.lanes|=i,Is|=i,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fa(e){var t=kt(),r=t.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=e;var n=r.dispatch,l=r.pending,i=t.memoizedState;if(l!==null){r.pending=null;var d=l=l.next;do i=e(i,d.action),d=d.next;while(d!==l);Rt(i,t.memoizedState)||(dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function xc(){}function gc(e,t){var r=Oe,n=kt(),l=t(),i=!Rt(n.memoizedState,l);if(i&&(n.memoizedState=l,dt=!0),n=n.queue,$a(jc.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,Gr(9,yc.bind(null,r,n,l,t),void 0,null),Ge===null)throw Error(c(349));(Ls&30)!==0||vc(r,t,l)}return l}function vc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yc(e,t,r,n){t.value=r,t.getSnapshot=n,Nc(t)&&bc(e)}function jc(e,t,r){return r(function(){Nc(t)&&bc(e)})}function Nc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function bc(e){var t=Jt(e,1);t!==null&&Dt(t,e,1,-1)}function wc(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:e},t.queue=e,e=e.dispatch=rm.bind(null,Oe,e),[t.memoizedState,e]}function Gr(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Sc(){return kt().memoizedState}function Jn(e,t,r,n){var l=Mt();Oe.flags|=e,l.memoizedState=Gr(1|t,r,void 0,n===void 0?null:n)}function qn(e,t,r,n){var l=kt();n=n===void 0?null:n;var i=void 0;if(Qe!==null){var d=Qe.memoizedState;if(i=d.destroy,n!==null&&Aa(n,d.deps)){l.memoizedState=Gr(t,r,i,n);return}}Oe.flags|=e,l.memoizedState=Gr(1|t,r,i,n)}function kc(e,t){return Jn(8390656,8,e,t)}function $a(e,t){return qn(2048,8,e,t)}function Ec(e,t){return qn(4,2,e,t)}function Cc(e,t){return qn(4,4,e,t)}function Pc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rc(e,t,r){return r=r!=null?r.concat([e]):null,qn(4,4,Pc.bind(null,t,e),r)}function Ba(){}function Tc(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Aa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Lc(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Aa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ic(e,t,r){return(Ls&21)===0?(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=r):(Rt(r,t)||(r=io(),Oe.lanes|=r,Is|=r,e.baseState=!0),t)}function tm(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=_a.transition;_a.transition={};try{e(!1),t()}finally{Te=r,_a.transition=n}}function Uc(){return kt().memoizedState}function sm(e,t,r){var n=xs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dc(e))_c(t,r);else if(r=dc(e,t,r,n),r!==null){var l=at();Dt(r,e,n,l),Ac(r,t,n)}}function rm(e,t,r){var n=xs(e),l={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))_c(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var d=t.lastRenderedState,x=i(d,r);if(l.hasEagerState=!0,l.eagerState=x,Rt(x,d)){var N=t.interleaved;N===null?(l.next=l,Ra(t)):(l.next=N.next,N.next=l),t.interleaved=l;return}}catch{}r=dc(e,t,l,n),r!==null&&(l=at(),Dt(r,e,n,l),Ac(r,t,n))}}function Dc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function _c(e,t){Qr=Qn=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ac(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wl(e,r)}}var Gn={readContext:St,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},nm={readContext:St,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:kc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jn(4194308,4,Pc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jn(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jn(4,2,e,t)},useMemo:function(e,t){var r=Mt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Mt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sm.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:wc,useDebugValue:Ba,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=wc(!1),t=e[0];return e=tm.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Oe,l=Mt();if(_e){if(r===void 0)throw Error(c(407));r=r()}else{if(r=t(),Ge===null)throw Error(c(349));(Ls&30)!==0||vc(n,t,r)}l.memoizedState=r;var i={value:r,getSnapshot:t};return l.queue=i,kc(jc.bind(null,n,i,e),[e]),n.flags|=2048,Gr(9,yc.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Mt(),t=Ge.identifierPrefix;if(_e){var r=Qt,n=Ht;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=em++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lm={readContext:St,useCallback:Tc,useContext:St,useEffect:$a,useImperativeHandle:Rc,useInsertionEffect:Ec,useLayoutEffect:Cc,useMemo:Lc,useReducer:Ma,useRef:Sc,useState:function(){return Ma(qr)},useDebugValue:Ba,useDeferredValue:function(e){var t=kt();return Ic(t,Qe.memoizedState,e)},useTransition:function(){var e=Ma(qr)[0],t=kt().memoizedState;return[e,t]},useMutableSource:xc,useSyncExternalStore:gc,useId:Uc,unstable_isNewReconciler:!1},am={readContext:St,useCallback:Tc,useContext:St,useEffect:$a,useImperativeHandle:Rc,useInsertionEffect:Ec,useLayoutEffect:Cc,useMemo:Lc,useReducer:Fa,useRef:Sc,useState:function(){return Fa(qr)},useDebugValue:Ba,useDeferredValue:function(e){var t=kt();return Qe===null?t.memoizedState=e:Ic(t,Qe.memoizedState,e)},useTransition:function(){var e=Fa(qr)[0],t=kt().memoizedState;return[e,t]},useMutableSource:xc,useSyncExternalStore:gc,useId:Uc,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=_({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Va(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yn={isMounted:function(e){return(e=e._reactInternals)?Ss(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=at(),l=xs(e),i=qt(n,l);i.payload=t,r!=null&&(i.callback=r),t=ps(e,i,l),t!==null&&(Dt(t,e,l,n),Vn(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=at(),l=xs(e),i=qt(n,l);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ps(e,i,l),t!==null&&(Dt(t,e,l,n),Vn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),n=xs(e),l=qt(r,n);l.tag=2,t!=null&&(l.callback=t),t=ps(e,l,n),t!==null&&(Dt(t,e,n,r),Vn(t,e,n))}};function zc(e,t,r,n,l,i,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,d):t.prototype&&t.prototype.isPureReactComponent?!Ar(r,n)||!Ar(l,i):!0}function Oc(e,t,r){var n=!1,l=cs,i=t.contextType;return typeof i=="object"&&i!==null?i=St(i):(l=ut(t)?Es:tt.current,n=t.contextTypes,i=(n=n!=null)?Ys(e,l):cs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yn,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yn.enqueueReplaceState(t,t.state,null)}function Wa(e,t,r,n){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Ta(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=St(i):(i=ut(t)?Es:tt.current,l.context=Ys(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Va(e,t,i,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Yn.enqueueReplaceState(l,l.state,null),Wn(e,r,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function lr(e,t){try{var r="",n=t;do r+=be(n),n=n.return;while(n);var l=r}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Ka(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var im=typeof WeakMap=="function"?WeakMap:Map;function Fc(e,t,r){r=qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nl||(nl=!0,ii=n),Ha(e,t)},r}function $c(e,t,r){r=qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;r.payload=function(){return n(l)},r.callback=function(){Ha(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ha(e,t),typeof n!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function Bc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new im;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(r)||(l.add(r),e=Nm.bind(null,e,t,r),t.then(e,e))}function Vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wc(e,t,r,n,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=qt(-1,1),t.tag=2,ps(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var om=I.ReactCurrentOwner,dt=!1;function lt(e,t,r,n){t.child=e===null?uc(t,null,r,n):tr(t,e.child,r,n)}function Kc(e,t,r,n,l){r=r.render;var i=t.ref;return rr(t,l),n=za(e,t,r,n,i,l),r=Oa(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(_e&&r&&ja(t),t.flags|=1,lt(e,t,n,l),t.child)}function Hc(e,t,r,n,l){if(e===null){var i=r.type;return typeof i=="function"&&!fi(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Qc(e,t,i,n,l)):(e=ul(r.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&l)===0){var d=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ar,r(d,n)&&e.ref===t.ref)return Gt(e,t,l)}return t.flags|=1,e=vs(i,n),e.ref=t.ref,e.return=t,t.child=e}function Qc(e,t,r,n,l){if(e!==null){var i=e.memoizedProps;if(Ar(i,n)&&e.ref===t.ref)if(dt=!1,t.pendingProps=n=i,(e.lanes&l)!==0)(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,Gt(e,t,l)}return Qa(e,t,r,n,l)}function Jc(e,t,r){var n=t.pendingProps,l=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ir,yt),yt|=r;else{if((r&1073741824)===0)return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(ir,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ie(ir,yt),yt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ie(ir,yt),yt|=n;return lt(e,t,l,r),t.child}function qc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qa(e,t,r,n,l){var i=ut(r)?Es:tt.current;return i=Ys(t,i),rr(t,l),r=za(e,t,r,n,i,l),n=Oa(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(_e&&n&&ja(t),t.flags|=1,lt(e,t,r,l),t.child)}function Gc(e,t,r,n,l){if(ut(r)){var i=!0;_n(t)}else i=!1;if(rr(t,l),t.stateNode===null)Zn(e,t),Oc(t,r,n),Wa(t,r,n,l),n=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var N=d.context,D=r.contextType;typeof D=="object"&&D!==null?D=St(D):(D=ut(r)?Es:tt.current,D=Ys(t,D));var V=r.getDerivedStateFromProps,W=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function";W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==n||N!==D)&&Mc(t,d,n,D),ds=!1;var B=t.memoizedState;d.state=B,Wn(t,n,d,l),N=t.memoizedState,x!==n||B!==N||ct.current||ds?(typeof V=="function"&&(Va(t,r,V,n),N=t.memoizedState),(x=ds||zc(t,r,x,n,B,N,D))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=N),d.props=n,d.state=N,d.context=D,n=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,pc(e,t),x=t.memoizedProps,D=t.type===t.elementType?x:Lt(t.type,x),d.props=D,W=t.pendingProps,B=d.context,N=r.contextType,typeof N=="object"&&N!==null?N=St(N):(N=ut(r)?Es:tt.current,N=Ys(t,N));var Z=r.getDerivedStateFromProps;(V=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==W||B!==N)&&Mc(t,d,n,N),ds=!1,B=t.memoizedState,d.state=B,Wn(t,n,d,l);var se=t.memoizedState;x!==W||B!==se||ct.current||ds?(typeof Z=="function"&&(Va(t,r,Z,n),se=t.memoizedState),(D=ds||zc(t,r,D,n,B,se,N)||!1)?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,se,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,se,N)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=se),d.props=n,d.state=se,d.context=N,n=D):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),n=!1)}return Ja(e,t,r,n,i,l)}function Ja(e,t,r,n,l,i){qc(e,t);var d=(t.flags&128)!==0;if(!n&&!d)return l&&tc(t,r,!1),Gt(e,t,i);n=t.stateNode,om.current=t;var x=d&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&d?(t.child=tr(t,e.child,null,i),t.child=tr(t,null,x,i)):lt(e,t,x,i),t.memoizedState=n.state,l&&tc(t,r,!0),t.child}function Yc(e){var t=e.stateNode;t.pendingContext?Zo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zo(e,t.context,!1),La(e,t.containerInfo)}function Xc(e,t,r,n,l){return er(),Sa(l),t.flags|=256,lt(e,t,r,n),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zc(e,t,r){var n=t.pendingProps,l=ze.current,i=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(l&2)!==0),x?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ie(ze,l&1),e===null)return wa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=n.children,e=n.fallback,i?(n=t.mode,i=t.child,d={mode:"hidden",children:d},(n&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=d):i=dl(d,n,0,null),e=As(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ga(r),t.memoizedState=qa,e):Ya(t,d));if(l=e.memoizedState,l!==null&&(x=l.dehydrated,x!==null))return cm(e,t,d,n,x,l,r);if(i){i=n.fallback,d=t.mode,l=e.child,x=l.sibling;var N={mode:"hidden",children:n.children};return(d&1)===0&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=N,t.deletions=null):(n=vs(l,N),n.subtreeFlags=l.subtreeFlags&14680064),x!==null?i=vs(x,i):(i=As(i,d,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,d=e.child.memoizedState,d=d===null?Ga(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},i.memoizedState=d,i.childLanes=e.childLanes&~r,t.memoizedState=qa,n}return i=e.child,e=i.sibling,n=vs(i,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ya(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xn(e,t,r,n){return n!==null&&Sa(n),tr(t,e.child,null,r),e=Ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cm(e,t,r,n,l,i,d){if(r)return t.flags&256?(t.flags&=-257,n=Ka(Error(c(422))),Xn(e,t,d,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,l=t.mode,n=dl({mode:"visible",children:n.children},l,0,null),i=As(i,l,d,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,(t.mode&1)!==0&&tr(t,e.child,null,d),t.child.memoizedState=Ga(d),t.memoizedState=qa,i);if((t.mode&1)===0)return Xn(e,t,d,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var x=n.dgst;return n=x,i=Error(c(419)),n=Ka(i,n,void 0),Xn(e,t,d,n)}if(x=(d&e.childLanes)!==0,dt||x){if(n=Ge,n!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(n.suspendedLanes|d))!==0?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Jt(e,l),Dt(n,e,l,-1))}return mi(),n=Ka(Error(c(421))),Xn(e,t,d,n)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=bm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,vt=is(l.nextSibling),gt=t,_e=!0,Tt=null,e!==null&&(bt[wt++]=Ht,bt[wt++]=Qt,bt[wt++]=Cs,Ht=e.id,Qt=e.overflow,Cs=t),t=Ya(t,n.children),t.flags|=4096,t)}function eu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pa(e.return,t,r)}function Xa(e,t,r,n,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=l)}function tu(e,t,r){var n=t.pendingProps,l=n.revealOrder,i=n.tail;if(lt(e,t,n.children,r),n=ze.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,r,t);else if(e.tag===19)eu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ie(ze,n),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Kn(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Xa(t,!1,l,r,i);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Kn(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Xa(t,!0,r,null,i);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zn(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Is|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,r=vs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function um(e,t,r){switch(t.tag){case 3:Yc(t),er();break;case 5:hc(t);break;case 1:ut(t.type)&&_n(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;Ie($n,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ie(ze,ze.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Zc(e,t,r):(Ie(ze,ze.current&1),e=Gt(e,t,r),e!==null?e.sibling:null);Ie(ze,ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return tu(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ie(ze,ze.current),n)break;return null;case 22:case 23:return t.lanes=0,Jc(e,t,r)}return Gt(e,t,r)}var su,Za,ru,nu;su=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Za=function(){},ru=function(e,t,r,n){var l=e.memoizedProps;if(l!==n){e=t.stateNode,Ts(Ot.current);var i=null;switch(r){case"input":l=xr(e,l),n=xr(e,n),i=[];break;case"select":l=_({},l,{value:void 0}),n=_({},n,{value:void 0}),i=[];break;case"textarea":l=Ll(e,l),n=Ll(e,n),i=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=In)}Ul(r,n);var d;r=null;for(D in l)if(!n.hasOwnProperty(D)&&l.hasOwnProperty(D)&&l[D]!=null)if(D==="style"){var x=l[D];for(d in x)x.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(m.hasOwnProperty(D)?i||(i=[]):(i=i||[]).push(D,null));for(D in n){var N=n[D];if(x=l?.[D],n.hasOwnProperty(D)&&N!==x&&(N!=null||x!=null))if(D==="style")if(x){for(d in x)!x.hasOwnProperty(d)||N&&N.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in N)N.hasOwnProperty(d)&&x[d]!==N[d]&&(r||(r={}),r[d]=N[d])}else r||(i||(i=[]),i.push(D,r)),r=N;else D==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,x=x?x.__html:void 0,N!=null&&x!==N&&(i=i||[]).push(D,N)):D==="children"?typeof N!="string"&&typeof N!="number"||(i=i||[]).push(D,""+N):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(m.hasOwnProperty(D)?(N!=null&&D==="onScroll"&&Ue("scroll",e),i||x===N||(i=[])):(i=i||[]).push(D,N))}r&&(i=i||[]).push("style",r);var D=i;(t.updateQueue=D)&&(t.flags|=4)}},nu=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dm(e,t,r){var n=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return ut(t.type)&&Dn(),rt(t),null;case 3:return n=t.stateNode,nr(),De(ct),De(tt),Da(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tt!==null&&(ui(Tt),Tt=null))),Za(e,t),rt(t),null;case 5:Ia(t);var l=Ts(Hr.current);if(r=t.type,e!==null&&t.stateNode!=null)ru(e,t,r,n,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(c(166));return rt(t),null}if(e=Ts(Ot.current),Mn(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zt]=t,n[$r]=i,e=(t.mode&1)!==0,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(l=0;l<Or.length;l++)Ue(Or[l],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":cn(n,i),Ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",n);break;case"textarea":Fi(n,i),Ue("invalid",n)}Ul(r,i),l=null;for(var d in i)if(i.hasOwnProperty(d)){var x=i[d];d==="children"?typeof x=="string"?n.textContent!==x&&(i.suppressHydrationWarning!==!0&&Ln(n.textContent,x,e),l=["children",x]):typeof x=="number"&&n.textContent!==""+x&&(i.suppressHydrationWarning!==!0&&Ln(n.textContent,x,e),l=["children",""+x]):m.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&Ue("scroll",n)}switch(r){case"input":Vt(n),Fe(n,i,!0);break;case"textarea":Vt(n),Bi(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=In)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vi(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=d.createElement(r,{is:n.is}):(e=d.createElement(r),r==="select"&&(d=e,n.multiple?d.multiple=!0:n.size&&(d.size=n.size))):e=d.createElementNS(e,r),e[zt]=t,e[$r]=n,su(e,t,!1,!1),t.stateNode=e;e:{switch(d=Dl(r,n),r){case"dialog":Ue("cancel",e),Ue("close",e),l=n;break;case"iframe":case"object":case"embed":Ue("load",e),l=n;break;case"video":case"audio":for(l=0;l<Or.length;l++)Ue(Or[l],e);l=n;break;case"source":Ue("error",e),l=n;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),l=n;break;case"details":Ue("toggle",e),l=n;break;case"input":cn(e,n),l=xr(e,n),Ue("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=_({},n,{value:void 0}),Ue("invalid",e);break;case"textarea":Fi(e,n),l=Ll(e,n),Ue("invalid",e);break;default:l=n}Ul(r,l),x=l;for(i in x)if(x.hasOwnProperty(i)){var N=x[i];i==="style"?Hi(e,N):i==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Wi(e,N)):i==="children"?typeof N=="string"?(r!=="textarea"||N!=="")&&yr(e,N):typeof N=="number"&&yr(e,""+N):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(m.hasOwnProperty(i)?N!=null&&i==="onScroll"&&Ue("scroll",e):N!=null&&C(e,i,N,d))}switch(r){case"input":Vt(e),Fe(e,n,!1);break;case"textarea":Vt(e),Bi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Y(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ms(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ms(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=In)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)nu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(c(166));if(r=Ts(Hr.current),Ts(Ot.current),Mn(t)){if(n=t.stateNode,r=t.memoizedProps,n[zt]=t,(i=n.nodeValue!==r)&&(e=gt,e!==null))switch(e.tag){case 3:Ln(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ln(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=t,t.stateNode=n}return rt(t),null;case 13:if(De(ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&vt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ic(),er(),t.flags|=98560,i=!1;else if(i=Mn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[zt]=t}else er(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),i=!1}else Tt!==null&&(ui(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ze.current&1)!==0?Je===0&&(Je=3):mi())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return nr(),Za(e,t),e===null&&Mr(t.stateNode.containerInfo),rt(t),null;case 10:return Ca(t.type._context),rt(t),null;case 17:return ut(t.type)&&Dn(),rt(t),null;case 19:if(De(ze),i=t.memoizedState,i===null)return rt(t),null;if(n=(t.flags&128)!==0,d=i.rendering,d===null)if(n)Yr(i,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Kn(e),d!==null){for(t.flags|=128,Yr(i,!1),n=d.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,d=i.alternate,d===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,e=d.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(ze,ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&Be()>or&&(t.flags|=128,n=!0,Yr(i,!1),t.lanes=4194304)}else{if(!n)if(e=Kn(d),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!_e)return rt(t),null}else 2*Be()-i.renderingStartTime>or&&r!==1073741824&&(t.flags|=128,n=!0,Yr(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(r=i.last,r!==null?r.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Be(),t.sibling=null,r=ze.current,Ie(ze,n?r&1|2:r&1),t):(rt(t),null);case 22:case 23:return pi(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(yt&1073741824)!==0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(c(156,t.tag))}function pm(e,t){switch(Na(t),t.tag){case 1:return ut(t.type)&&Dn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),De(ct),De(tt),Da(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ia(t),null;case 13:if(De(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(ze),null;case 4:return nr(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return pi(),null;case 24:return null;default:return null}}var el=!1,nt=!1,mm=typeof WeakSet=="function"?WeakSet:Set,te=null;function ar(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function ei(e,t,r){try{r()}catch(n){$e(e,t,n)}}var lu=!1;function fm(e,t){if(pa=jn,e=zo(),na(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var d=0,x=-1,N=-1,D=0,V=0,W=e,B=null;t:for(;;){for(var Z;W!==r||l!==0&&W.nodeType!==3||(x=d+l),W!==i||n!==0&&W.nodeType!==3||(N=d+n),W.nodeType===3&&(d+=W.nodeValue.length),(Z=W.firstChild)!==null;)B=W,W=Z;for(;;){if(W===e)break t;if(B===r&&++D===l&&(x=d),B===i&&++V===n&&(N=d),(Z=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=Z}r=x===-1||N===-1?null:{start:x,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(ma={focusedElem:e,selectionRange:r},jn=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var se=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var re=se.memoizedProps,Ve=se.memoizedState,T=t.stateNode,S=T.getSnapshotBeforeUpdate(t.elementType===t.type?re:Lt(t.type,re),Ve);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(Q){$e(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return se=lu,lu=!1,se}function Xr(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&ei(t,r,i)}l=l.next}while(l!==n)}}function tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ti(e){var t=e.ref;if(t!==null){var r=e.stateNode;e.tag,e=r,typeof t=="function"?t(e):t.current=e}}function au(e){var t=e.alternate;t!==null&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[$r],delete t[ga],delete t[Gp],delete t[Yp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iu(e){return e.tag===5||e.tag===3||e.tag===4}function ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function si(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=In));else if(n!==4&&(e=e.child,e!==null))for(si(e,t,r),e=e.sibling;e!==null;)si(e,t,r),e=e.sibling}function ri(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ri(e,t,r),e=e.sibling;e!==null;)ri(e,t,r),e=e.sibling}var Xe=null,It=!1;function ms(e,t,r){for(r=r.child;r!==null;)cu(e,t,r),r=r.sibling}function cu(e,t,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(fn,r)}catch{}switch(r.tag){case 5:nt||ar(r,t);case 6:var n=Xe,l=It;Xe=null,ms(e,t,r),Xe=n,It=l,Xe!==null&&(It?(e=Xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(It?(e=Xe,r=r.stateNode,e.nodeType===8?xa(e.parentNode,r):e.nodeType===1&&xa(e,r),Tr(e)):xa(Xe,r.stateNode));break;case 4:n=Xe,l=It,Xe=r.stateNode.containerInfo,It=!0,ms(e,t,r),Xe=n,It=l;break;case 0:case 11:case 14:case 15:if(!nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var i=l,d=i.destroy;i=i.tag,d!==void 0&&((i&2)!==0||(i&4)!==0)&&ei(r,t,d),l=l.next}while(l!==n)}ms(e,t,r);break;case 1:if(!nt&&(ar(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(x){$e(r,t,x)}ms(e,t,r);break;case 21:ms(e,t,r);break;case 22:r.mode&1?(nt=(n=nt)||r.memoizedState!==null,ms(e,t,r),nt=n):ms(e,t,r);break;default:ms(e,t,r)}}function uu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mm),t.forEach(function(n){var l=wm.bind(null,e,n);r.has(n)||(r.add(n),n.then(l,l))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var l=r[n];try{var i=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:Xe=x.stateNode,It=!1;break e;case 3:Xe=x.stateNode.containerInfo,It=!0;break e;case 4:Xe=x.stateNode.containerInfo,It=!0;break e}x=x.return}if(Xe===null)throw Error(c(160));cu(i,d,l),Xe=null,It=!1;var N=l.alternate;N!==null&&(N.return=null),l.return=null}catch(D){$e(l,t,D)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)du(t,e),t=t.sibling}function du(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Ft(e),n&4){try{Xr(3,e,e.return),tl(3,e)}catch(re){$e(e,e.return,re)}try{Xr(5,e,e.return)}catch(re){$e(e,e.return,re)}}break;case 1:Ut(t,e),Ft(e),n&512&&r!==null&&ar(r,r.return);break;case 5:if(Ut(t,e),Ft(e),n&512&&r!==null&&ar(r,r.return),e.flags&32){var l=e.stateNode;try{yr(l,"")}catch(re){$e(e,e.return,re)}}if(n&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,d=r!==null?r.memoizedProps:i,x=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{x==="input"&&i.type==="radio"&&i.name!=null&&me(l,i),Dl(x,d);var D=Dl(x,i);for(d=0;d<N.length;d+=2){var V=N[d],W=N[d+1];V==="style"?Hi(l,W):V==="dangerouslySetInnerHTML"?Wi(l,W):V==="children"?yr(l,W):C(l,V,W,D)}switch(x){case"input":Ee(l,i);break;case"textarea":$i(l,i);break;case"select":var B=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var Z=i.value;Z!=null?Ms(l,!!i.multiple,Z,!1):B!==!!i.multiple&&(i.defaultValue!=null?Ms(l,!!i.multiple,i.defaultValue,!0):Ms(l,!!i.multiple,i.multiple?[]:"",!1))}l[$r]=i}catch(re){$e(e,e.return,re)}}break;case 6:if(Ut(t,e),Ft(e),n&4){if(e.stateNode===null)throw Error(c(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(re){$e(e,e.return,re)}}break;case 3:if(Ut(t,e),Ft(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(re){$e(e,e.return,re)}break;case 4:Ut(t,e),Ft(e);break;case 13:Ut(t,e),Ft(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(ai=Be())),n&4&&uu(e);break;case 22:if(V=r!==null&&r.memoizedState!==null,e.mode&1?(nt=(D=nt)||V,Ut(t,e),nt=D):Ut(t,e),Ft(e),n&8192){if(D=e.memoizedState!==null,(e.stateNode.isHidden=D)&&!V&&(e.mode&1)!==0)for(te=e,V=e.child;V!==null;){for(W=te=V;te!==null;){switch(B=te,Z=B.child,B.tag){case 0:case 11:case 14:case 15:Xr(4,B,B.return);break;case 1:ar(B,B.return);var se=B.stateNode;if(typeof se.componentWillUnmount=="function"){n=B,r=B.return;try{t=n,se.props=t.memoizedProps,se.state=t.memoizedState,se.componentWillUnmount()}catch(re){$e(n,r,re)}}break;case 5:ar(B,B.return);break;case 22:if(B.memoizedState!==null){fu(W);continue}}Z!==null?(Z.return=B,te=Z):fu(W)}V=V.sibling}e:for(V=null,W=e;;){if(W.tag===5){if(V===null){V=W;try{l=W.stateNode,D?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(x=W.stateNode,N=W.memoizedProps.style,d=N!=null&&N.hasOwnProperty("display")?N.display:null,x.style.display=Ki("display",d))}catch(re){$e(e,e.return,re)}}}else if(W.tag===6){if(V===null)try{W.stateNode.nodeValue=D?"":W.memoizedProps}catch(re){$e(e,e.return,re)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;V===W&&(V=null),W=W.return}V===W&&(V=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Ut(t,e),Ft(e),n&4&&uu(e);break;case 21:break;default:Ut(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iu(r)){var n=r;break e}r=r.return}throw Error(c(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(yr(l,""),n.flags&=-33);var i=ou(e);ri(e,i,l);break;case 3:case 4:var d=n.stateNode.containerInfo,x=ou(e);si(e,x,d);break;default:throw Error(c(161))}}catch(N){$e(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e,t,r){te=e,pu(e)}function pu(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var l=te,i=l.child;if(l.tag===22&&n){var d=l.memoizedState!==null||el;if(!d){var x=l.alternate,N=x!==null&&x.memoizedState!==null||nt;x=el;var D=nt;if(el=d,(nt=N)&&!D)for(te=l;te!==null;)d=te,N=d.child,d.tag===22&&d.memoizedState!==null?hu(l):N!==null?(N.return=d,te=N):hu(l);for(;i!==null;)te=i,pu(i),i=i.sibling;te=l,el=x,nt=D}mu(e)}else(l.subtreeFlags&8772)!==0&&i!==null?(i.return=l,te=i):mu(e)}}function mu(e){for(;te!==null;){var t=te;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:nt||tl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nt)if(r===null)n.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Lt(t.type,r.memoizedProps);n.componentDidUpdate(l,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&fc(t,i,n);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fc(t,d,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&r.focus();break;case"img":N.src&&(r.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var D=t.alternate;if(D!==null){var V=D.memoizedState;if(V!==null){var W=V.dehydrated;W!==null&&Tr(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}nt||t.flags&512&&ti(t)}catch(B){$e(t,t.return,B)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function fu(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function hu(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{tl(4,t)}catch(N){$e(t,r,N)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(N){$e(t,l,N)}}var i=t.return;try{ti(t)}catch(N){$e(t,i,N)}break;case 5:var d=t.return;try{ti(t)}catch(N){$e(t,d,N)}}}catch(N){$e(t,t.return,N)}if(t===e){te=null;break}var x=t.sibling;if(x!==null){x.return=t.return,te=x;break}te=t.return}}var xm=Math.ceil,sl=I.ReactCurrentDispatcher,ni=I.ReactCurrentOwner,Et=I.ReactCurrentBatchConfig,Se=0,Ge=null,Ke=null,Ze=0,yt=0,ir=os(0),Je=0,Zr=null,Is=0,rl=0,li=0,en=null,pt=null,ai=0,or=1/0,Yt=null,nl=!1,ii=null,fs=null,ll=!1,hs=null,al=0,tn=0,oi=null,il=-1,ol=0;function at(){return(Se&6)!==0?Be():il!==-1?il:il=Be()}function xs(e){return(e.mode&1)===0?1:(Se&2)!==0&&Ze!==0?Ze&-Ze:Zp.transition!==null?(ol===0&&(ol=io()),ol):(e=Te,e!==0||(e=window.event,e=e===void 0?16:go(e.type)),e)}function Dt(e,t,r,n){if(50<tn)throw tn=0,oi=null,Error(c(185));kr(e,r,n),((Se&2)===0||e!==Ge)&&(e===Ge&&((Se&2)===0&&(rl|=r),Je===4&&gs(e,Ze)),mt(e,n),r===1&&Se===0&&(t.mode&1)===0&&(or=Be()+500,An&&us()))}function mt(e,t){var r=e.callbackNode;Zd(e,t);var n=gn(e,e===Ge?Ze:0);if(n===0)r!==null&&no(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&no(r),t===1)e.tag===0?Xp(gu.bind(null,e)):sc(gu.bind(null,e)),Jp(function(){(Se&6)===0&&us()}),r=null;else{switch(oo(n)){case 1:r=$l;break;case 4:r=lo;break;case 16:r=mn;break;case 536870912:r=ao;break;default:r=mn}r=ku(r,xu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xu(e,t){if(il=-1,ol=0,(Se&6)!==0)throw Error(c(327));var r=e.callbackNode;if(cr()&&e.callbackNode!==r)return null;var n=gn(e,e===Ge?Ze:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=cl(e,n);else{t=n;var l=Se;Se|=2;var i=yu();(Ge!==e||Ze!==t)&&(Yt=null,or=Be()+500,Ds(e,t));do try{ym();break}catch(x){vu(e,x)}while(!0);Ea(),sl.current=i,Se=l,Ke!==null?t=0:(Ge=null,Ze=0,t=Je)}if(t!==0){if(t===2&&(l=Bl(e),l!==0&&(n=l,t=ci(e,l))),t===1)throw r=Zr,Ds(e,0),gs(e,n),mt(e,Be()),r;if(t===6)gs(e,n);else{if(l=e.current.alternate,(n&30)===0&&!gm(l)&&(t=cl(e,n),t===2&&(i=Bl(e),i!==0&&(n=i,t=ci(e,i))),t===1))throw r=Zr,Ds(e,0),gs(e,n),mt(e,Be()),r;switch(e.finishedWork=l,e.finishedLanes=n,t){case 0:case 1:throw Error(c(345));case 2:_s(e,pt,Yt);break;case 3:if(gs(e,n),(n&130023424)===n&&(t=ai+500-Be(),10<t)){if(gn(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){at(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ha(_s.bind(null,e,pt,Yt),t);break}_s(e,pt,Yt);break;case 4:if(gs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,l=-1;0<n;){var d=31-Pt(n);i=1<<d,d=t[d],d>l&&(l=d),n&=~i}if(n=l,n=Be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xm(n/1960))-n,10<n){e.timeoutHandle=ha(_s.bind(null,e,pt,Yt),n);break}_s(e,pt,Yt);break;case 5:_s(e,pt,Yt);break;default:throw Error(c(329))}}}return mt(e,Be()),e.callbackNode===r?xu.bind(null,e):null}function ci(e,t){var r=en;return e.current.memoizedState.isDehydrated&&(Ds(e,t).flags|=256),e=cl(e,t),e!==2&&(t=pt,pt=r,t!==null&&ui(t)),e}function ui(e){pt===null?pt=e:pt.push.apply(pt,e)}function gm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var l=r[n],i=l.getSnapshot;l=l.value;try{if(!Rt(i(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gs(e,t){for(t&=~li,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function gu(e){if((Se&6)!==0)throw Error(c(327));cr();var t=gn(e,0);if((t&1)===0)return mt(e,Be()),null;var r=cl(e,t);if(e.tag!==0&&r===2){var n=Bl(e);n!==0&&(t=n,r=ci(e,n))}if(r===1)throw r=Zr,Ds(e,0),gs(e,t),mt(e,Be()),r;if(r===6)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e,pt,Yt),mt(e,Be()),null}function di(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(or=Be()+500,An&&us())}}function Us(e){hs!==null&&hs.tag===0&&(Se&6)===0&&cr();var t=Se;Se|=1;var r=Et.transition,n=Te;try{if(Et.transition=null,Te=1,e)return e()}finally{Te=n,Et.transition=r,Se=t,(Se&6)===0&&us()}}function pi(){yt=ir.current,De(ir)}function Ds(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Qp(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(Na(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dn();break;case 3:nr(),De(ct),De(tt),Da();break;case 5:Ia(n);break;case 4:nr();break;case 13:De(ze);break;case 19:De(ze);break;case 10:Ca(n.type._context);break;case 22:case 23:pi()}r=r.return}if(Ge=e,Ke=e=vs(e.current,null),Ze=yt=t,Je=0,Zr=null,li=rl=Is=0,pt=en=null,Rs!==null){for(t=0;t<Rs.length;t++)if(r=Rs[t],n=r.interleaved,n!==null){r.interleaved=null;var l=n.next,i=r.pending;if(i!==null){var d=i.next;i.next=l,n.next=d}r.pending=n}Rs=null}return e}function vu(e,t){do{var r=Ke;try{if(Ea(),Hn.current=Gn,Qn){for(var n=Oe.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Qn=!1}if(Ls=0,qe=Qe=Oe=null,Qr=!1,Jr=0,ni.current=null,r===null||r.return===null){Je=1,Zr=t,Ke=null;break}e:{var i=e,d=r.return,x=r,N=t;if(t=Ze,x.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var D=N,V=x,W=V.tag;if((V.mode&1)===0&&(W===0||W===11||W===15)){var B=V.alternate;B?(V.updateQueue=B.updateQueue,V.memoizedState=B.memoizedState,V.lanes=B.lanes):(V.updateQueue=null,V.memoizedState=null)}var Z=Vc(d);if(Z!==null){Z.flags&=-257,Wc(Z,d,x,i,t),Z.mode&1&&Bc(i,D,t),t=Z,N=D;var se=t.updateQueue;if(se===null){var re=new Set;re.add(N),t.updateQueue=re}else se.add(N);break e}else{if((t&1)===0){Bc(i,D,t),mi();break e}N=Error(c(426))}}else if(_e&&x.mode&1){var Ve=Vc(d);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Wc(Ve,d,x,i,t),Sa(lr(N,x));break e}}i=N=lr(N,x),Je!==4&&(Je=2),en===null?en=[i]:en.push(i),i=d;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var T=Fc(i,N,t);mc(i,T);break e;case 1:x=N;var S=i.type,L=i.stateNode;if((i.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(fs===null||!fs.has(L)))){i.flags|=65536,t&=-t,i.lanes|=t;var Q=$c(i,x,t);mc(i,Q);break e}}i=i.return}while(i!==null)}Nu(r)}catch(ne){t=ne,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function yu(){var e=sl.current;return sl.current=Gn,e===null?Gn:e}function mi(){(Je===0||Je===3||Je===2)&&(Je=4),Ge===null||(Is&268435455)===0&&(rl&268435455)===0||gs(Ge,Ze)}function cl(e,t){var r=Se;Se|=2;var n=yu();(Ge!==e||Ze!==t)&&(Yt=null,Ds(e,t));do try{vm();break}catch(l){vu(e,l)}while(!0);if(Ea(),Se=r,sl.current=n,Ke!==null)throw Error(c(261));return Ge=null,Ze=0,Je}function vm(){for(;Ke!==null;)ju(Ke)}function ym(){for(;Ke!==null&&!Wd();)ju(Ke)}function ju(e){var t=Su(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Nu(e):Ke=t,ni.current=null}function Nu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=dm(r,t,yt),r!==null){Ke=r;return}}else{if(r=pm(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ke=null;return}}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Je===0&&(Je=5)}function _s(e,t,r){var n=Te,l=Et.transition;try{Et.transition=null,Te=1,jm(e,t,r,n)}finally{Et.transition=l,Te=n}return null}function jm(e,t,r,n){do cr();while(hs!==null);if((Se&6)!==0)throw Error(c(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ep(e,i),e===Ge&&(Ke=Ge=null,Ze=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ll||(ll=!0,ku(mn,function(){return cr(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=Et.transition,Et.transition=null;var d=Te;Te=1;var x=Se;Se|=4,ni.current=null,fm(e,r),du(r,e),Fp(ma),jn=!!pa,ma=pa=null,e.current=r,hm(r),Kd(),Se=x,Te=d,Et.transition=i}else e.current=r;if(ll&&(ll=!1,hs=e,al=l),i=e.pendingLanes,i===0&&(fs=null),Jd(r.stateNode),mt(e,Be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],n(l.value,{componentStack:l.stack,digest:l.digest});if(nl)throw nl=!1,e=ii,ii=null,e;return(al&1)!==0&&e.tag!==0&&cr(),i=e.pendingLanes,(i&1)!==0?e===oi?tn++:(tn=0,oi=e):tn=0,us(),null}function cr(){if(hs!==null){var e=oo(al),t=Et.transition,r=Te;try{if(Et.transition=null,Te=16>e?16:e,hs===null)var n=!1;else{if(e=hs,hs=null,al=0,(Se&6)!==0)throw Error(c(331));var l=Se;for(Se|=4,te=e.current;te!==null;){var i=te,d=i.child;if((te.flags&16)!==0){var x=i.deletions;if(x!==null){for(var N=0;N<x.length;N++){var D=x[N];for(te=D;te!==null;){var V=te;switch(V.tag){case 0:case 11:case 15:Xr(8,V,i)}var W=V.child;if(W!==null)W.return=V,te=W;else for(;te!==null;){V=te;var B=V.sibling,Z=V.return;if(au(V),V===D){te=null;break}if(B!==null){B.return=Z,te=B;break}te=Z}}}var se=i.alternate;if(se!==null){var re=se.child;if(re!==null){se.child=null;do{var Ve=re.sibling;re.sibling=null,re=Ve}while(re!==null)}}te=i}}if((i.subtreeFlags&2064)!==0&&d!==null)d.return=i,te=d;else e:for(;te!==null;){if(i=te,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,te=T;break e}te=i.return}}var S=e.current;for(te=S;te!==null;){d=te;var L=d.child;if((d.subtreeFlags&2064)!==0&&L!==null)L.return=d,te=L;else e:for(d=S;te!==null;){if(x=te,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:tl(9,x)}}catch(ne){$e(x,x.return,ne)}if(x===d){te=null;break e}var Q=x.sibling;if(Q!==null){Q.return=x.return,te=Q;break e}te=x.return}}if(Se=l,us(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(fn,e)}catch{}n=!0}return n}finally{Te=r,Et.transition=t}}return!1}function bu(e,t,r){t=lr(r,t),t=Fc(e,t,1),e=ps(e,t,1),t=at(),e!==null&&(kr(e,1,t),mt(e,t))}function $e(e,t,r){if(e.tag===3)bu(e,e,r);else for(;t!==null;){if(t.tag===3){bu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fs===null||!fs.has(n))){e=lr(r,e),e=$c(t,e,1),t=ps(t,e,1),e=at(),t!==null&&(kr(t,1,e),mt(t,e));break}}t=t.return}}function Nm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Ze&r)===r&&(Je===4||Je===3&&(Ze&130023424)===Ze&&500>Be()-ai?Ds(e,0):li|=r),mt(e,t)}function wu(e,t){t===0&&((e.mode&1)===0?t=1:(t=xn,xn<<=1,(xn&130023424)===0&&(xn=4194304)));var r=at();e=Jt(e,t),e!==null&&(kr(e,t,r),mt(e,r))}function bm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wu(e,r)}function wm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(c(314))}n!==null&&n.delete(t),wu(e,r)}var Su;Su=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)dt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return dt=!1,um(e,t,r);dt=(e.flags&131072)!==0}else dt=!1,_e&&(t.flags&1048576)!==0&&rc(t,On,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zn(e,t),e=t.pendingProps;var l=Ys(t,tt.current);rr(t,r),l=za(null,t,n,e,l,r);var i=Oa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(n)?(i=!0,_n(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ta(t),l.updater=Yn,t.stateNode=l,l._reactInternals=t,Wa(t,n,e,r),t=Ja(null,t,n,!0,i,r)):(t.tag=0,_e&&i&&ja(t),lt(null,t,l,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zn(e,t),e=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=km(n),e=Lt(n,e),l){case 0:t=Qa(null,t,n,e,r);break e;case 1:t=Gc(null,t,n,e,r);break e;case 11:t=Kc(null,t,n,e,r);break e;case 14:t=Hc(null,t,n,Lt(n.type,e),r);break e}throw Error(c(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),Qa(e,t,n,l,r);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),Gc(e,t,n,l,r);case 3:e:{if(Yc(t),e===null)throw Error(c(387));n=t.pendingProps,i=t.memoizedState,l=i.element,pc(e,t),Wn(t,n,null,r);var d=t.memoizedState;if(n=d.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=lr(Error(c(423)),t),t=Xc(e,t,n,r,l);break e}else if(n!==l){l=lr(Error(c(424)),t),t=Xc(e,t,n,r,l);break e}else for(vt=is(t.stateNode.containerInfo.firstChild),gt=t,_e=!0,Tt=null,r=uc(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(er(),n===l){t=Gt(e,t,r);break e}lt(e,t,n,r)}t=t.child}return t;case 5:return hc(t),e===null&&wa(t),n=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,d=l.children,fa(n,l)?d=null:i!==null&&fa(n,i)&&(t.flags|=32),qc(e,t),lt(e,t,d,r),t.child;case 6:return e===null&&wa(t),null;case 13:return Zc(e,t,r);case 4:return La(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=tr(t,null,n,r):lt(e,t,n,r),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),Kc(e,t,n,l,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,i=t.memoizedProps,d=l.value,Ie($n,n._currentValue),n._currentValue=d,i!==null)if(Rt(i.value,d)){if(i.children===l.children&&!ct.current){t=Gt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var x=i.dependencies;if(x!==null){d=i.child;for(var N=x.firstContext;N!==null;){if(N.context===n){if(i.tag===1){N=qt(-1,r&-r),N.tag=2;var D=i.updateQueue;if(D!==null){D=D.shared;var V=D.pending;V===null?N.next=N:(N.next=V.next,V.next=N),D.pending=N}}i.lanes|=r,N=i.alternate,N!==null&&(N.lanes|=r),Pa(i.return,r,t),x.lanes|=r;break}N=N.next}}else if(i.tag===10)d=i.type===t.type?null:i.child;else if(i.tag===18){if(d=i.return,d===null)throw Error(c(341));d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),Pa(d,r,t),d=i.sibling}else d=i.child;if(d!==null)d.return=i;else for(d=i;d!==null;){if(d===t){d=null;break}if(i=d.sibling,i!==null){i.return=d.return,d=i;break}d=d.return}i=d}lt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,rr(t,r),l=St(l),n=n(l),t.flags|=1,lt(e,t,n,r),t.child;case 14:return n=t.type,l=Lt(n,t.pendingProps),l=Lt(n.type,l),Hc(e,t,n,l,r);case 15:return Qc(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),Zn(e,t),t.tag=1,ut(n)?(e=!0,_n(t)):e=!1,rr(t,r),Oc(t,n,l),Wa(t,n,l,r),Ja(null,t,n,!0,e,r);case 19:return tu(e,t,r);case 22:return Jc(e,t,r)}throw Error(c(156,t.tag))};function ku(e,t){return ro(e,t)}function Sm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new Sm(e,t,r,n)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function km(e){if(typeof e=="function")return fi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fe)return 11;if(e===Ae)return 14}return 2}function vs(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ul(e,t,r,n,l,i){var d=2;if(n=e,typeof e=="function")fi(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case M:return As(r.children,l,i,t);case pe:d=8,l|=8;break;case xe:return e=Ct(12,r,t,l|2),e.elementType=xe,e.lanes=i,e;case ke:return e=Ct(13,r,t,l),e.elementType=ke,e.lanes=i,e;case Ne:return e=Ct(19,r,t,l),e.elementType=Ne,e.lanes=i,e;case we:return dl(r,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:d=10;break e;case q:d=9;break e;case fe:d=11;break e;case Ae:d=14;break e;case Pe:d=16,n=null;break e}throw Error(c(130,e==null?e:typeof e,""))}return t=Ct(d,r,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function As(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function dl(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=we,e.lanes=r,e.stateNode={isHidden:!1},e}function hi(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function xi(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Em(e,t,r,n,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function gi(e,t,r,n,l,i,d,x,N){return e=new Em(e,t,r,x,N),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(i),e}function Cm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Eu(e){if(!e)return cs;e=e._reactInternals;e:{if(Ss(e)!==e||e.tag!==1)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(c(171))}if(e.tag===1){var r=e.type;if(ut(r))return ec(e,r,t)}return t}function Cu(e,t,r,n,l,i,d,x,N){return e=gi(r,n,!0,e,l,i,d,x,N),e.context=Eu(null),r=e.current,n=at(),l=xs(r),i=qt(n,l),i.callback=t??null,ps(r,i,l),e.current.lanes=l,kr(e,l,n),mt(e,n),e}function pl(e,t,r,n){var l=t.current,i=at(),d=xs(l);return r=Eu(r),t.context===null?t.context=r:t.pendingContext=r,t=qt(i,d),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ps(l,t,d),e!==null&&(Dt(e,l,d,i),Vn(e,l,d)),d}function ml(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Pu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vi(e,t){Pu(e,t),(e=e.alternate)&&Pu(e,t)}function Pm(){return null}var Ru=typeof reportError=="function"?reportError:function(e){console.error(e)};function yi(e){this._internalRoot=e}fl.prototype.render=yi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));pl(e,t,null,null)},fl.prototype.unmount=yi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Us(function(){pl(null,e,null,null)}),t[Wt]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=po();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ns.length&&t!==0&&t<ns[r].priority;r++);ns.splice(r,0,e),r===0&&ho(e)}};function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function Rm(e,t,r,n,l){if(l){if(typeof n=="function"){var i=n;n=function(){var D=ml(d);i.call(D)}}var d=Cu(t,n,e,0,null,!1,!1,"",Tu);return e._reactRootContainer=d,e[Wt]=d.current,Mr(e.nodeType===8?e.parentNode:e),Us(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var x=n;n=function(){var D=ml(N);x.call(D)}}var N=gi(e,0,!1,null,null,!1,!1,"",Tu);return e._reactRootContainer=N,e[Wt]=N.current,Mr(e.nodeType===8?e.parentNode:e),Us(function(){pl(t,N,r,n)}),N}function xl(e,t,r,n,l){var i=r._reactRootContainer;if(i){var d=i;if(typeof l=="function"){var x=l;l=function(){var N=ml(d);x.call(N)}}pl(t,d,e,l)}else d=Rm(r,t,e,l,n);return ml(d)}co=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sr(t.pendingLanes);r!==0&&(Wl(t,r|1),mt(t,Be()),(Se&6)===0&&(or=Be()+500,us()))}break;case 13:Us(function(){var n=Jt(e,1);if(n!==null){var l=at();Dt(n,e,1,l)}}),vi(e,1)}},Kl=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var r=at();Dt(t,e,134217728,r)}vi(e,134217728)}},uo=function(e){if(e.tag===13){var t=xs(e),r=Jt(e,t);if(r!==null){var n=at();Dt(r,e,t,n)}vi(e,t)}},po=function(){return Te},mo=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}},zl=function(e,t,r){switch(t){case"input":if(Ee(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var l=Un(n);if(!l)throw Error(c(90));es(n),Ee(n,l)}}}break;case"textarea":$i(e,r);break;case"select":t=r.value,t!=null&&Ms(e,!!r.multiple,t,!1)}},Gi=di,Yi=Us;var Tm={usingClientEntryPoint:!1,Events:[Br,qs,Un,Ji,qi,di]},sn={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lm={bundleType:sn.bundleType,version:sn.version,rendererPackageName:sn.rendererPackageName,rendererConfig:sn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=to(e),e===null?null:e.stateNode},findFiberByHostInstance:sn.findFiberByHostInstance||Pm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{fn=gl.inject(Lm),At=gl}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tm,ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ji(t))throw Error(c(200));return Cm(e,t,null,r)},ft.createRoot=function(e,t){if(!ji(e))throw Error(c(299));var r=!1,n="",l=Ru;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=gi(e,1,!1,null,null,r,!1,n,l),e[Wt]=t.current,Mr(e.nodeType===8?e.parentNode:e),new yi(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=to(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Us(e)},ft.hydrate=function(e,t,r){if(!hl(t))throw Error(c(200));return xl(null,e,t,!0,r)},ft.hydrateRoot=function(e,t,r){if(!ji(e))throw Error(c(405));var n=r!=null&&r.hydratedSources||null,l=!1,i="",d=Ru;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=Cu(t,null,e,1,r??null,l,!1,i,d),e[Wt]=t.current,Mr(e),n)for(e=0;e<n.length;e++)r=n[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new fl(t)},ft.render=function(e,t,r){if(!hl(t))throw Error(c(200));return xl(null,e,t,!1,r)},ft.unmountComponentAtNode=function(e){if(!hl(e))throw Error(c(40));return e._reactRootContainer?(Us(function(){xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1},ft.unstable_batchedUpdates=di,ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hl(r))throw Error(c(200));if(e==null||e._reactInternals===void 0)throw Error(c(38));return xl(e,t,r,!1,n)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var Ou;function pd(){if(Ou)return wi.exports;Ou=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(o){console.error(o)}}return a(),wi.exports=Fm(),wi.exports}var Mu;function $m(){if(Mu)return vl;Mu=1;var a=pd();return vl.createRoot=a.createRoot,vl.hydrateRoot=a.hydrateRoot,vl}var Bm=$m();const Vm=ud(Bm);pd();function nn(){return nn=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(a[u]=c[u])}return a},nn.apply(this,arguments)}var Ns;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Ns||(Ns={}));const Fu="popstate";function Wm(a){a===void 0&&(a={});function o(u,m){let{pathname:f,search:h,hash:j}=u.location;return Ci("",{pathname:f,search:h,hash:j},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function c(u,m){return typeof m=="string"?m:wl(m)}return Hm(o,c,null,a)}function Me(a,o){if(a===!1||a===null||typeof a>"u")throw new Error(o)}function Di(a,o){if(!a){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function Km(){return Math.random().toString(36).substr(2,8)}function $u(a,o){return{usr:a.state,key:a.key,idx:o}}function Ci(a,o,c,u){return c===void 0&&(c=null),nn({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof o=="string"?fr(o):o,{state:c,key:o&&o.key||u||Km()})}function wl(a){let{pathname:o="/",search:c="",hash:u=""}=a;return c&&c!=="?"&&(o+=c.charAt(0)==="?"?c:"?"+c),u&&u!=="#"&&(o+=u.charAt(0)==="#"?u:"#"+u),o}function fr(a){let o={};if(a){let c=a.indexOf("#");c>=0&&(o.hash=a.substr(c),a=a.substr(0,c));let u=a.indexOf("?");u>=0&&(o.search=a.substr(u),a=a.substr(0,u)),a&&(o.pathname=a)}return o}function Hm(a,o,c,u){u===void 0&&(u={});let{window:m=document.defaultView,v5Compat:f=!1}=u,h=m.history,j=Ns.Pop,g=null,E=P();E==null&&(E=0,h.replaceState(nn({},h.state,{idx:E}),""));function P(){return(h.state||{idx:null}).idx}function b(){j=Ns.Pop;let v=P(),R=v==null?null:v-E;E=v,g&&g({action:j,location:U.location,delta:R})}function w(v,R){j=Ns.Push;let y=Ci(U.location,v,R);E=P()+1;let C=$u(y,E),I=U.createHref(y);try{h.pushState(C,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;m.location.assign(I)}f&&g&&g({action:j,location:U.location,delta:1})}function z(v,R){j=Ns.Replace;let y=Ci(U.location,v,R);E=P();let C=$u(y,E),I=U.createHref(y);h.replaceState(C,"",I),f&&g&&g({action:j,location:U.location,delta:0})}function O(v){let R=m.location.origin!=="null"?m.location.origin:m.location.href,y=typeof v=="string"?v:wl(v);return y=y.replace(/ $/,"%20"),Me(R,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,R)}let U={get action(){return j},get location(){return a(m,h)},listen(v){if(g)throw new Error("A history only accepts one active listener");return m.addEventListener(Fu,b),g=v,()=>{m.removeEventListener(Fu,b),g=null}},createHref(v){return o(m,v)},createURL:O,encodeLocation(v){let R=O(v);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:z,go(v){return h.go(v)}};return U}var Bu;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Bu||(Bu={}));function Qm(a,o,c){return c===void 0&&(c="/"),Jm(a,o,c)}function Jm(a,o,c,u){let m=typeof o=="string"?fr(o):o,f=mr(m.pathname||"/",c);if(f==null)return null;let h=md(a);qm(h);let j=null;for(let g=0;j==null&&g<h.length;++g){let E=af(f);j=nf(h[g],E)}return j}function md(a,o,c,u){o===void 0&&(o=[]),c===void 0&&(c=[]),u===void 0&&(u="");let m=(f,h,j)=>{let g={relativePath:j===void 0?f.path||"":j,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};g.relativePath.startsWith("/")&&(Me(g.relativePath.startsWith(u),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(u.length));let E=ws([u,g.relativePath]),P=c.concat(g);f.children&&f.children.length>0&&(Me(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),md(f.children,o,P,E)),!(f.path==null&&!f.index)&&o.push({path:E,score:sf(E,f.index),routesMeta:P})};return a.forEach((f,h)=>{var j;if(f.path===""||!((j=f.path)!=null&&j.includes("?")))m(f,h);else for(let g of fd(f.path))m(f,h,g)}),o}function fd(a){let o=a.split("/");if(o.length===0)return[];let[c,...u]=o,m=c.endsWith("?"),f=c.replace(/\?$/,"");if(u.length===0)return m?[f,""]:[f];let h=fd(u.join("/")),j=[];return j.push(...h.map(g=>g===""?f:[f,g].join("/"))),m&&j.push(...h),j.map(g=>a.startsWith("/")&&g===""?"/":g)}function qm(a){a.sort((o,c)=>o.score!==c.score?c.score-o.score:rf(o.routesMeta.map(u=>u.childrenIndex),c.routesMeta.map(u=>u.childrenIndex)))}const Gm=/^:[\w-]+$/,Ym=3,Xm=2,Zm=1,ef=10,tf=-2,Vu=a=>a==="*";function sf(a,o){let c=a.split("/"),u=c.length;return c.some(Vu)&&(u+=tf),o&&(u+=Xm),c.filter(m=>!Vu(m)).reduce((m,f)=>m+(Gm.test(f)?Ym:f===""?Zm:ef),u)}function rf(a,o){return a.length===o.length&&a.slice(0,-1).every((u,m)=>u===o[m])?a[a.length-1]-o[o.length-1]:0}function nf(a,o,c){let{routesMeta:u}=a,m={},f="/",h=[];for(let j=0;j<u.length;++j){let g=u[j],E=j===u.length-1,P=f==="/"?o:o.slice(f.length)||"/",b=Pi({path:g.relativePath,caseSensitive:g.caseSensitive,end:E},P),w=g.route;if(!b)return null;Object.assign(m,b.params),h.push({params:m,pathname:ws([f,b.pathname]),pathnameBase:pf(ws([f,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(f=ws([f,b.pathnameBase]))}return h}function Pi(a,o){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[c,u]=lf(a.path,a.caseSensitive,a.end),m=o.match(c);if(!m)return null;let f=m[0],h=f.replace(/(.)\/+$/,"$1"),j=m.slice(1);return{params:u.reduce((E,P,b)=>{let{paramName:w,isOptional:z}=P;if(w==="*"){let U=j[b]||"";h=f.slice(0,f.length-U.length).replace(/(.)\/+$/,"$1")}const O=j[b];return z&&!O?E[w]=void 0:E[w]=(O||"").replace(/%2F/g,"/"),E},{}),pathname:f,pathnameBase:h,pattern:a}}function lf(a,o,c){o===void 0&&(o=!1),c===void 0&&(c=!0),Di(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let u=[],m="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,j,g)=>(u.push({paramName:j,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(u.push({paramName:"*"}),m+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?m+="\\/*$":a!==""&&a!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,o?void 0:"i"),u]}function af(a){try{return a.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Di(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),a}}function mr(a,o){if(o==="/")return a;if(!a.toLowerCase().startsWith(o.toLowerCase()))return null;let c=o.endsWith("/")?o.length-1:o.length,u=a.charAt(c);return u&&u!=="/"?null:a.slice(c)||"/"}const of=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=a=>of.test(a);function uf(a,o){o===void 0&&(o="/");let{pathname:c,search:u="",hash:m=""}=typeof a=="string"?fr(a):a,f;if(c)if(cf(c))f=c;else{if(c.includes("//")){let h=c;c=c.replace(/\/\/+/g,"/"),Di(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+c))}c.startsWith("/")?f=Wu(c.substring(1),"/"):f=Wu(c,o)}else f=o;return{pathname:f,search:mf(u),hash:ff(m)}}function Wu(a,o){let c=o.replace(/\/+$/,"").split("/");return a.split("/").forEach(m=>{m===".."?c.length>1&&c.pop():m!=="."&&c.push(m)}),c.length>1?c.join("/"):"/"}function Ei(a,o,c,u){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+c+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function df(a){return a.filter((o,c)=>c===0||o.route.path&&o.route.path.length>0)}function _i(a,o){let c=df(a);return o?c.map((u,m)=>m===c.length-1?u.pathname:u.pathnameBase):c.map(u=>u.pathnameBase)}function Ai(a,o,c,u){u===void 0&&(u=!1);let m;typeof a=="string"?m=fr(a):(m=nn({},a),Me(!m.pathname||!m.pathname.includes("?"),Ei("?","pathname","search",m)),Me(!m.pathname||!m.pathname.includes("#"),Ei("#","pathname","hash",m)),Me(!m.search||!m.search.includes("#"),Ei("#","search","hash",m)));let f=a===""||m.pathname==="",h=f?"/":m.pathname,j;if(h==null)j=c;else{let b=o.length-1;if(!u&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;m.pathname=w.join("/")}j=b>=0?o[b]:"/"}let g=uf(m,j),E=h&&h!=="/"&&h.endsWith("/"),P=(f||h===".")&&c.endsWith("/");return!g.pathname.endsWith("/")&&(E||P)&&(g.pathname+="/"),g}const ws=a=>a.join("/").replace(/\/\/+/g,"/"),pf=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),mf=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,ff=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function hf(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const hd=["post","put","patch","delete"];new Set(hd);const xf=["get",...hd];new Set(xf);function ln(){return ln=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(a[u]=c[u])}return a},ln.apply(this,arguments)}const Pl=p.createContext(null),xd=p.createContext(null),Xt=p.createContext(null),Rl=p.createContext(null),$t=p.createContext({outlet:null,matches:[],isDataRoute:!1}),gd=p.createContext(null);function gf(a,o){let{relative:c}=o===void 0?{}:o;hr()||Me(!1);let{basename:u,navigator:m}=p.useContext(Xt),{hash:f,pathname:h,search:j}=Tl(a,{relative:c}),g=h;return u!=="/"&&(g=h==="/"?u:ws([u,h])),m.createHref({pathname:g,search:j,hash:f})}function hr(){return p.useContext(Rl)!=null}function Bt(){return hr()||Me(!1),p.useContext(Rl).location}function vd(a){p.useContext(Xt).static||p.useLayoutEffect(a)}function ot(){let{isDataRoute:a}=p.useContext($t);return a?If():vf()}function vf(){hr()||Me(!1);let a=p.useContext(Pl),{basename:o,future:c,navigator:u}=p.useContext(Xt),{matches:m}=p.useContext($t),{pathname:f}=Bt(),h=JSON.stringify(_i(m,c.v7_relativeSplatPath)),j=p.useRef(!1);return vd(()=>{j.current=!0}),p.useCallback(function(E,P){if(P===void 0&&(P={}),!j.current)return;if(typeof E=="number"){u.go(E);return}let b=Ai(E,JSON.parse(h),f,P.relative==="path");a==null&&o!=="/"&&(b.pathname=b.pathname==="/"?o:ws([o,b.pathname])),(P.replace?u.replace:u.push)(b,P.state,P)},[o,u,h,f,a])}const yf=p.createContext(null);function jf(a){let o=p.useContext($t).outlet;return o&&p.createElement(yf.Provider,{value:a},o)}function Zt(){let{matches:a}=p.useContext($t),o=a[a.length-1];return o?o.params:{}}function Tl(a,o){let{relative:c}=o===void 0?{}:o,{future:u}=p.useContext(Xt),{matches:m}=p.useContext($t),{pathname:f}=Bt(),h=JSON.stringify(_i(m,u.v7_relativeSplatPath));return p.useMemo(()=>Ai(a,JSON.parse(h),f,c==="path"),[a,h,f,c])}function Nf(a,o){return bf(a,o)}function bf(a,o,c,u){hr()||Me(!1);let{navigator:m}=p.useContext(Xt),{matches:f}=p.useContext($t),h=f[f.length-1],j=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let E=Bt(),P;if(o){var b;let v=typeof o=="string"?fr(o):o;g==="/"||(b=v.pathname)!=null&&b.startsWith(g)||Me(!1),P=v}else P=E;let w=P.pathname||"/",z=w;if(g!=="/"){let v=g.replace(/^\//,"").split("/");z="/"+w.replace(/^\//,"").split("/").slice(v.length).join("/")}let O=Qm(a,{pathname:z}),U=Cf(O&&O.map(v=>Object.assign({},v,{params:Object.assign({},j,v.params),pathname:ws([g,m.encodeLocation?m.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?g:ws([g,m.encodeLocation?m.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),f,c,u);return o&&U?p.createElement(Rl.Provider,{value:{location:ln({pathname:"/",search:"",hash:"",state:null,key:"default"},P),navigationType:Ns.Pop}},U):U}function wf(){let a=Lf(),o=hf(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),c=a instanceof Error?a.stack:null,m={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},o),c?p.createElement("pre",{style:m},c):null,null)}const Sf=p.createElement(wf,null);class kf extends p.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,c){return c.location!==o.location||c.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:c.error,location:c.location,revalidation:o.revalidation||c.revalidation}}componentDidCatch(o,c){console.error("React Router caught the following error during render",o,c)}render(){return this.state.error!==void 0?p.createElement($t.Provider,{value:this.props.routeContext},p.createElement(gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ef(a){let{routeContext:o,match:c,children:u}=a,m=p.useContext(Pl);return m&&m.static&&m.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=c.route.id),p.createElement($t.Provider,{value:o},u)}function Cf(a,o,c,u){var m;if(o===void 0&&(o=[]),c===void 0&&(c=null),u===void 0&&(u=null),a==null){var f;if(!c)return null;if(c.errors)a=c.matches;else if((f=u)!=null&&f.v7_partialHydration&&o.length===0&&!c.initialized&&c.matches.length>0)a=c.matches;else return null}let h=a,j=(m=c)==null?void 0:m.errors;if(j!=null){let P=h.findIndex(b=>b.route.id&&j?.[b.route.id]!==void 0);P>=0||Me(!1),h=h.slice(0,Math.min(h.length,P+1))}let g=!1,E=-1;if(c&&u&&u.v7_partialHydration)for(let P=0;P<h.length;P++){let b=h[P];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(E=P),b.route.id){let{loaderData:w,errors:z}=c,O=b.route.loader&&w[b.route.id]===void 0&&(!z||z[b.route.id]===void 0);if(b.route.lazy||O){g=!0,E>=0?h=h.slice(0,E+1):h=[h[0]];break}}}return h.reduceRight((P,b,w)=>{let z,O=!1,U=null,v=null;c&&(z=j&&b.route.id?j[b.route.id]:void 0,U=b.route.errorElement||Sf,g&&(E<0&&w===0?(Uf("route-fallback"),O=!0,v=null):E===w&&(O=!0,v=b.route.hydrateFallbackElement||null)));let R=o.concat(h.slice(0,w+1)),y=()=>{let C;return z?C=U:O?C=v:b.route.Component?C=p.createElement(b.route.Component,null):b.route.element?C=b.route.element:C=P,p.createElement(Ef,{match:b,routeContext:{outlet:P,matches:R,isDataRoute:c!=null},children:C})};return c&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?p.createElement(kf,{location:c.location,revalidation:c.revalidation,component:U,error:z,children:y(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):y()},null)}var yd=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(yd||{}),jd=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(jd||{});function Pf(a){let o=p.useContext(Pl);return o||Me(!1),o}function Rf(a){let o=p.useContext(xd);return o||Me(!1),o}function Tf(a){let o=p.useContext($t);return o||Me(!1),o}function Nd(a){let o=Tf(),c=o.matches[o.matches.length-1];return c.route.id||Me(!1),c.route.id}function Lf(){var a;let o=p.useContext(gd),c=Rf(),u=Nd();return o!==void 0?o:(a=c.errors)==null?void 0:a[u]}function If(){let{router:a}=Pf(yd.UseNavigateStable),o=Nd(jd.UseNavigateStable),c=p.useRef(!1);return vd(()=>{c.current=!0}),p.useCallback(function(m,f){f===void 0&&(f={}),c.current&&(typeof m=="number"?a.navigate(m):a.navigate(m,ln({fromRouteId:o},f)))},[a,o])}const Ku={};function Uf(a,o,c){Ku[a]||(Ku[a]=!0)}function Df(a,o){a?.v7_startTransition,a?.v7_relativeSplatPath}function bl(a){let{to:o,replace:c,state:u,relative:m}=a;hr()||Me(!1);let{future:f,static:h}=p.useContext(Xt),{matches:j}=p.useContext($t),{pathname:g}=Bt(),E=ot(),P=Ai(o,_i(j,f.v7_relativeSplatPath),g,m==="path"),b=JSON.stringify(P);return p.useEffect(()=>E(JSON.parse(b),{replace:c,state:u,relative:m}),[E,b,m,c,u]),null}function bd(a){return jf(a.context)}function ue(a){Me(!1)}function _f(a){let{basename:o="/",children:c=null,location:u,navigationType:m=Ns.Pop,navigator:f,static:h=!1,future:j}=a;hr()&&Me(!1);let g=o.replace(/^\/*/,"/"),E=p.useMemo(()=>({basename:g,navigator:f,static:h,future:ln({v7_relativeSplatPath:!1},j)}),[g,j,f,h]);typeof u=="string"&&(u=fr(u));let{pathname:P="/",search:b="",hash:w="",state:z=null,key:O="default"}=u,U=p.useMemo(()=>{let v=mr(P,g);return v==null?null:{location:{pathname:v,search:b,hash:w,state:z,key:O},navigationType:m}},[g,P,b,w,z,O,m]);return U==null?null:p.createElement(Xt.Provider,{value:E},p.createElement(Rl.Provider,{children:c,value:U}))}function Af(a){let{children:o,location:c}=a;return Nf(Ri(o),c)}new Promise(()=>{});function Ri(a,o){o===void 0&&(o=[]);let c=[];return p.Children.forEach(a,(u,m)=>{if(!p.isValidElement(u))return;let f=[...o,m];if(u.type===p.Fragment){c.push.apply(c,Ri(u.props.children,f));return}u.type!==ue&&Me(!1),!u.props.index||!u.props.children||Me(!1);let h={id:u.props.id||f.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(h.children=Ri(u.props.children,f)),c.push(h)}),c}function Sl(){return Sl=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(a[u]=c[u])}return a},Sl.apply(this,arguments)}function wd(a,o){if(a==null)return{};var c={},u=Object.keys(a),m,f;for(f=0;f<u.length;f++)m=u[f],!(o.indexOf(m)>=0)&&(c[m]=a[m]);return c}function zf(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Of(a,o){return a.button===0&&(!o||o==="_self")&&!zf(a)}function Ti(a){return a===void 0&&(a=""),new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((o,c)=>{let u=a[c];return o.concat(Array.isArray(u)?u.map(m=>[c,m]):[[c,u]])},[]))}function Mf(a,o){let c=Ti(a);return o&&o.forEach((u,m)=>{c.has(m)||o.getAll(m).forEach(f=>{c.append(m,f)})}),c}const Ff=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Bf="6";try{window.__reactRouterVersion=Bf}catch{}const Vf=p.createContext({isTransitioning:!1}),Wf="startTransition",Hu=zm[Wf];function Kf(a){let{basename:o,children:c,future:u,window:m}=a,f=p.useRef();f.current==null&&(f.current=Wm({window:m,v5Compat:!0}));let h=f.current,[j,g]=p.useState({action:h.action,location:h.location}),{v7_startTransition:E}=u||{},P=p.useCallback(b=>{E&&Hu?Hu(()=>g(b)):g(b)},[g,E]);return p.useLayoutEffect(()=>h.listen(P),[h,P]),p.useEffect(()=>Df(u),[u]),p.createElement(_f,{basename:o,children:c,location:j.location,navigationType:j.action,navigator:h,future:u})}const Hf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=p.forwardRef(function(o,c){let{onClick:u,relative:m,reloadDocument:f,replace:h,state:j,target:g,to:E,preventScrollReset:P,viewTransition:b}=o,w=wd(o,Ff),{basename:z}=p.useContext(Xt),O,U=!1;if(typeof E=="string"&&Qf.test(E)&&(O=E,Hf))try{let C=new URL(window.location.href),I=E.startsWith("//")?new URL(C.protocol+E):new URL(E),A=mr(I.pathname,z);I.origin===C.origin&&A!=null?E=A+I.search+I.hash:U=!0}catch{}let v=gf(E,{relative:m}),R=qf(E,{replace:h,state:j,target:g,preventScrollReset:P,relative:m,viewTransition:b});function y(C){u&&u(C),C.defaultPrevented||R(C)}return p.createElement("a",Sl({},w,{href:O||v,onClick:U||f?u:y,ref:c,target:g}))}),zs=p.forwardRef(function(o,c){let{"aria-current":u="page",caseSensitive:m=!1,className:f="",end:h=!1,style:j,to:g,viewTransition:E,children:P}=o,b=wd(o,$f),w=Tl(g,{relative:b.relative}),z=Bt(),O=p.useContext(xd),{navigator:U,basename:v}=p.useContext(Xt),R=O!=null&&Gf(w)&&E===!0,y=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,C=z.pathname,I=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;m||(C=C.toLowerCase(),I=I?I.toLowerCase():null,y=y.toLowerCase()),I&&v&&(I=mr(I,v)||I);const A=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let H=C===y||!h&&C.startsWith(y)&&C.charAt(A)==="/",M=I!=null&&(I===y||!h&&I.startsWith(y)&&I.charAt(y.length)==="/"),pe={isActive:H,isPending:M,isTransitioning:R},xe=H?u:void 0,G;typeof f=="function"?G=f(pe):G=[f,H?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let q=typeof j=="function"?j(pe):j;return p.createElement(Le,Sl({},b,{"aria-current":xe,className:G,ref:c,style:q,to:g,viewTransition:E}),typeof P=="function"?P(pe):P)});var Li;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Li||(Li={}));var Qu;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Qu||(Qu={}));function Jf(a){let o=p.useContext(Pl);return o||Me(!1),o}function qf(a,o){let{target:c,replace:u,state:m,preventScrollReset:f,relative:h,viewTransition:j}=o===void 0?{}:o,g=ot(),E=Bt(),P=Tl(a,{relative:h});return p.useCallback(b=>{if(Of(b,c)){b.preventDefault();let w=u!==void 0?u:wl(E)===wl(P);g(a,{replace:w,state:m,preventScrollReset:f,relative:h,viewTransition:j})}},[E,g,P,u,m,c,a,f,h,j])}function an(a){let o=p.useRef(Ti(a)),c=p.useRef(!1),u=Bt(),m=p.useMemo(()=>Mf(u.search,c.current?null:o.current),[u.search]),f=ot(),h=p.useCallback((j,g)=>{const E=Ti(typeof j=="function"?j(m):j);c.current=!0,f("?"+E,g)},[f,m]);return[m,h]}function Gf(a,o){o===void 0&&(o={});let c=p.useContext(Vf);c==null&&Me(!1);let{basename:u}=Jf(Li.useViewTransitionState),m=Tl(a,{relative:o.relative});if(!c.isTransitioning)return!1;let f=mr(c.currentLocation.pathname,u)||c.currentLocation.pathname,h=mr(c.nextLocation.pathname,u)||c.nextLocation.pathname;return Pi(m.pathname,h)!=null||Pi(m.pathname,f)!=null}const Sd=({children:a})=>s.jsx("div",{className:"mx-auto w-full max-w-6xl px-6",children:a}),kd={400:"Please check the entered data and try again.",401:"Your session has expired. Please sign in again.",403:"You dont have permission to access this page.",404:"The requested resource was not found.",409:"This action conflicts with an existing record.",422:"Some fields are invalid. Please review and try again.",429:"Too many attempts. Please try again later.",500:"Something went wrong on our side. Please try again.",503:"The service is temporarily unavailable. Please try again later."};class Re extends Error{status;title;detail;traceId;errorId;fieldErrors;generalErrors;debug;constructor({status:o,title:c,detail:u,traceId:m,errorId:f,fieldErrors:h,generalErrors:j,debug:g}){super(u||c||kd[o]||"Request failed."),this.name="AppError",this.status=o,this.title=c,this.detail=u,this.traceId=m,this.errorId=f,this.fieldErrors=h,this.generalErrors=j,this.debug=g}}function Yf(a){if(!a||typeof a!="object")return;const o=Object.entries(a).map(([c,u])=>Array.isArray(u)?[c,u.map(String)]:typeof u=="string"?[c,[u]]:[c,[]]).filter(([,c])=>c.length>0);if(o.length!==0)return Object.fromEntries(o)}async function Ed(a){const o=a.headers.get("content-type")??"";let c=null,u=null;if(o.includes("application/json")||o.includes("application/problem+json"))try{c=await a.json()}catch{c=null}if(!c)try{u=await a.text()}catch{u=null}const m=typeof c?.status=="number"?c.status:a.status,f=typeof c?.title=="string"?c.title:a.statusText,h=typeof c?.detail=="string"?c.detail:u||kd[m],j=Yf(c?.errors),g=Array.isArray(c?.generalErrors)?c.generalErrors.map(String):void 0;return new Re({status:m,title:f,detail:h,traceId:typeof c?.traceId=="string"?c.traceId:void 0,errorId:typeof c?.errorId=="string"?c.errorId:void 0,fieldErrors:j,generalErrors:g,debug:typeof c?.debug=="object"?c.debug:void 0})}const zi="https://localhost:7001",Xf=a=>a.startsWith("http")?a:`${zi}${a.startsWith("/")?"":"/"}${a}`,Nt=async(a,o={})=>{const c=await fetch(Xf(a),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",...o.headers??{}},...o});if(!c.ok)throw await Ed(c);if(c.status!==204)return await c.json()},Zf=a=>Nt("/auth/login",{method:"POST",body:JSON.stringify(a)}),eh=a=>Nt("/auth/login/mfa",{method:"POST",body:JSON.stringify({mfaToken:a.mfaToken,code:a.code,rememberMachine:a.rememberMachine??!1,useRecoveryCode:a.useRecoveryCode??!1})}),th=a=>Nt("/auth/register",{method:"POST",body:JSON.stringify(a)}),sh=a=>Nt("/auth/forgot-password",{method:"POST",body:JSON.stringify(a)}),rh=a=>Nt("/auth/reset-password",{method:"POST",body:JSON.stringify(a)}),nh=a=>Nt("/auth/activate",{method:"POST",body:JSON.stringify(a)}),Cd=()=>Nt("/auth/logout",{method:"POST"}),lh=()=>Nt("/auth/session"),ah=()=>Nt("/auth/mfa/status"),ih=()=>Nt("/auth/mfa/setup/start",{method:"POST"}),oh=a=>Nt("/auth/mfa/setup/confirm",{method:"POST",body:JSON.stringify(a)}),ch=()=>Nt("/auth/mfa/recovery-codes/regenerate",{method:"POST"}),uh=a=>Nt("/auth/mfa/disable",{method:"POST",body:JSON.stringify(a)}),Oi=a=>a?a.startsWith("/")?`${zi}${a}`:a:null,on=()=>{const[a,o]=p.useState(null),[c,u]=p.useState(!0),[m,f]=p.useState(""),h=p.useCallback(async()=>{u(!0),f("");try{const j=await lh();o(j)}catch(j){o(null),j instanceof Re?f(j.detail??j.message):j instanceof Error?f(j.message):f("Unable to load session.")}finally{u(!1)}},[]);return p.useEffect(()=>{h()},[h]),{session:a,isLoading:c,error:m,refresh:h}},dh=a=>!!a,Pd=()=>dh(void 0)?(void 0).trim():"/admin",Rd=a=>/^https?:\/\//i.test(a),ur=({isActive:a})=>`rounded-full px-3 py-1 text-sm transition ${a?"bg-indigo-500/20 text-indigo-200":"text-slate-300 hover:text-white"}`,ph=()=>{const a=ot(),{session:o,refresh:c}=on(),u=o?.permissions?.includes("system.admin")??!1,m=Pd(),f=Rd(m),h=async()=>{await Cd(),await c(),a("/",{replace:!0})};return s.jsx("header",{className:"border-b border-slate-800 bg-slate-950/70 backdrop-blur",children:s.jsx(Sd,{children:s.jsxs("div",{className:"flex flex-col gap-4 py-5 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"AstraId"}),s.jsx("h1",{className:"text-xl font-semibold text-white",children:"Public UI"})]}),s.jsxs("nav",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(zs,{to:"/",className:ur,children:"Home"}),s.jsx(zs,{to:"/login",className:ur,children:"Login"}),s.jsx(zs,{to:"/register",className:ur,children:"Register"}),s.jsx(zs,{to:"/forgot-password",className:ur,children:"Forgot password"}),o?.isAuthenticated?s.jsx(zs,{to:"/account/security",className:ur,children:"Security"}):null,u?f?s.jsx("a",{href:m,className:"rounded-full px-3 py-1 text-sm text-amber-200 transition hover:text-amber-50",children:"Admin"}):s.jsx(zs,{to:m,className:ur,children:"Admin"}):null]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o&&o.isAuthenticated?s.jsx("div",{className:"text-sm text-slate-300",children:o.userName??o.email??"Pihlen"}):s.jsx("span",{className:"text-sm text-slate-500",children:"Nepihlen"}),o&&o.isAuthenticated?s.jsx("button",{className:"rounded-full border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500",onClick:h,children:"Logout"}):null]})]})})})},ht=({title:a,description:o,children:c})=>s.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6 shadow-xl shadow-slate-950/40",children:[a?s.jsxs("header",{className:"mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:a}),o?s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:o}):null]}):null,c]}),mh={info:"border-sky-400/40 bg-sky-500/10 text-sky-100",warning:"border-amber-400/40 bg-amber-500/10 text-amber-100",error:"border-rose-400/40 bg-rose-500/10 text-rose-100",success:"border-emerald-400/40 bg-emerald-500/10 text-emerald-100"},et=({variant:a="info",children:o})=>s.jsx("div",{className:`rounded-xl border px-4 py-3 text-sm ${mh[a]}`,children:o}),fh=()=>{const a=ot(),{session:o,isLoading:c,error:u,refresh:m}=on(),[f,h]=p.useState(""),j=Pd(),g=Rd(j),E=p.useMemo(()=>o?.permissions?.length?o.permissions.some(b=>b.toLowerCase()==="system.admin"):!1,[o]),P=async()=>{h("");try{await Cd(),await m(),a("/",{replace:!0})}catch(b){h(b instanceof Error?b.message:"Unable to sign out.")}};return s.jsx("div",{className:"flex flex-col gap-6",children:s.jsx(ht,{title:"Public UI",description:"Public sign-in interface for users.",children:s.jsx("div",{className:"flex flex-col gap-3 text-sm text-slate-300",children:c?s.jsx(et,{variant:"info",children:"Loading session..."}):u?s.jsx(et,{variant:"warning",children:u}):o&&o.isAuthenticated?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-base font-semibold text-white",children:"You are signed in. Nothing else to show here yet."}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("p",{className:"text-sm text-slate-400",children:"User"}),s.jsx("p",{className:"text-sm text-white",children:o.userName??o.email??"Unknown user"}),o.userId?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"ID"}),s.jsx("p",{className:"text-xs text-slate-300",children:o.userId})]}):null,o.email?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Email"}),s.jsx("p",{className:"text-sm text-slate-200",children:o.email})]}):null,o.roles.length?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Roles"}),s.jsx("p",{className:"text-xs text-slate-300",children:o.roles.join(", ")})]}):null,o.permissions.length?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Permissions"}),s.jsx("p",{className:"text-xs text-slate-300",children:o.permissions.join(", ")})]}):null]}),f?s.jsx(et,{variant:"warning",children:f}):null,s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{className:"rounded-lg border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500",onClick:P,children:"Logout"}),E?g?s.jsx("a",{className:"rounded-lg bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:bg-slate-700",href:j,children:"Admin"}):s.jsx(Le,{className:"rounded-lg bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:bg-slate-700",to:j,children:"Admin"}):null]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"You are not signed in. Continue by signing in or registering."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(Le,{className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400",to:"/login",children:"Sign in"}),s.jsx(Le,{className:"rounded-lg border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500",to:"/register",children:"Register"})]})]})})})})};function jt({traceId:a,errorId:o,debug:c,compact:u=!1}){return!a&&!o&&!c?null:s.jsxs("details",{className:`rounded-lg border border-slate-700/60 bg-slate-950/50 ${u?"px-3 py-2 text-xs":"px-4 py-3 text-sm"}`,children:[s.jsx("summary",{className:"cursor-pointer font-semibold text-slate-200",children:"Diagnostics"}),s.jsxs("div",{className:"mt-3 space-y-2 text-slate-300",children:[o&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-200",children:"Error ID:"})," ",o]}),a&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-200",children:"Trace ID:"})," ",a]}),c?.exceptionType&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-200",children:"Exception:"})," ",c.exceptionType]}),(c?.path||c?.method)&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-200",children:"Request:"})," ",[c.method,c.path].filter(Boolean).join(" ")]}),c?.innerExceptionSummary&&s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-200",children:"Inner exception:"})," ",c.innerExceptionSummary]}),c?.stackTrace&&s.jsx("pre",{className:"max-h-64 overflow-auto rounded-md bg-slate-900/70 p-3 text-xs text-slate-200",children:c.stackTrace})]})]})}function it({message:a}){return a?s.jsx("p",{className:"mt-1 text-xs text-rose-300",children:a}):null}const hh=()=>{const a=ot(),[o]=an(),c=o.get("returnUrl"),[u,m]=p.useState(""),[f,h]=p.useState(""),[j,g]=p.useState(null),[E,P]=p.useState({}),[b,w]=p.useState(!1),z=async O=>{O.preventDefault(),g(null),P({}),w(!0);try{const U=await Zf({emailOrUsername:u,password:f,returnUrl:c});if(U.requiresTwoFactor){const R=U.mfaToken;if(!R)throw new Error("Missing MFA token. Please try again.");const y=new URLSearchParams;y.set("token",R),(U.redirectTo??c)&&y.set("returnUrl",U.redirectTo??c??""),a(`/mfa?${y.toString()}`,{replace:!0});return}const v=Oi(U.redirectTo??c??null);v?window.location.href=v:a("/",{replace:!0})}catch(U){if(U&&typeof U=="object"&&"status"in U){const v=U;g(v),P(v.fieldErrors??{})}else g(new Re({status:500,detail:"Unable to sign in."}))}finally{w(!1)}};return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(ht,{title:"Sign in",description:"Use your AuthServer credentials.",children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:z,children:[j?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:j.detail??j.message}),s.jsx(jt,{traceId:j.traceId,errorId:j.errorId,debug:j.debug,compact:!0})]}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:["Email or username",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:u,onChange:O=>m(O.target.value),autoComplete:"username",required:!0}),s.jsx(it,{message:E.emailOrUsername?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Password",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"password",value:f,onChange:O=>h(O.target.value),autoComplete:"current-password",required:!0}),s.jsx(it,{message:E.password?.[0]})]}),s.jsx("button",{type:"submit",disabled:b,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:b?"Signing in...":"Sign in"}),s.jsx("div",{className:"flex flex-wrap gap-3 text-xs text-slate-400",children:s.jsx(Le,{className:"hover:text-slate-200",to:"/forgot-password",children:"Forgot password"})})]})})})},xh=()=>{const a=ot(),[o]=an(),c=o.get("returnUrl"),[u,m]=p.useState(""),[f,h]=p.useState(""),[j,g]=p.useState(""),[E,P]=p.useState(null),[b,w]=p.useState({}),[z,O]=p.useState(!1),U=async v=>{v.preventDefault(),P(null),w({}),O(!0);try{await th({email:u,password:f,confirmPassword:j,returnUrl:c});const R=Oi(c);R?window.location.href=R:a("/",{replace:!0})}catch(R){if(R&&typeof R=="object"&&"status"in R){const y=R;P(y),w(y.fieldErrors??{})}else P(new Re({status:500,detail:"Unable to register."}))}finally{O(!1)}};return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(ht,{title:"Register",description:"Create a new account.",children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:U,children:[E?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:E.detail??E.message}),s.jsx(jt,{traceId:E.traceId,errorId:E.errorId,debug:E.debug,compact:!0})]}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:["Email",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"email",value:u,onChange:v=>m(v.target.value),autoComplete:"email",required:!0}),s.jsx(it,{message:b.email?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Password",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"password",value:f,onChange:v=>h(v.target.value),autoComplete:"new-password",required:!0}),s.jsx(it,{message:b.password?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Confirm password",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"password",value:j,onChange:v=>g(v.target.value),autoComplete:"new-password",required:!0}),s.jsx(it,{message:b.confirmPassword?.[0]})]}),s.jsx("button",{type:"submit",disabled:z,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:z?"Registering...":"Register"}),s.jsxs("div",{className:"text-xs text-slate-400",children:["Already have an account?"," ",s.jsx(Le,{className:"hover:text-slate-200",to:"/login",children:"Sign in"})]})]})})})},gh=()=>{const[a,o]=p.useState(""),[c,u]=p.useState(null),[m,f]=p.useState({}),[h,j]=p.useState(""),[g,E]=p.useState(!1),P=async b=>{b.preventDefault(),u(null),f({}),j(""),E(!0);try{const w=await sh({email:a});j(w.message??"If an account exists for this email, youll receive a password reset link shortly.")}catch(w){if(w&&typeof w=="object"&&"status"in w){const z=w;u(z),f(z.fieldErrors??{})}else u(new Re({status:500,detail:"Unable to send request."}))}finally{E(!1)}};return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(ht,{title:"Reset password",description:"Enter the email to reset your password.",children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:P,children:[c?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:c.detail??c.message}),s.jsx(jt,{traceId:c.traceId,errorId:c.errorId,debug:c.debug,compact:!0})]}):null,h?s.jsx(et,{variant:"success",children:h}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:["Email",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"email",value:a,onChange:b=>o(b.target.value),autoComplete:"email",required:!0}),s.jsx(it,{message:m.email?.[0]})]}),s.jsx("button",{type:"submit",disabled:g,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:g?"Sending...":"Send reset link"})]})})})},vh=()=>{const[a]=an(),o=p.useMemo(()=>a.get("email")??"",[a]),c=p.useMemo(()=>a.get("token")??"",[a]),[u,m]=p.useState(o),[f,h]=p.useState(c),[j,g]=p.useState(""),[E,P]=p.useState(""),[b,w]=p.useState(null),[z,O]=p.useState({}),[U,v]=p.useState(""),[R,y]=p.useState(!1),C=async I=>{I.preventDefault(),w(null),O({}),v(""),y(!0);try{await rh({email:u,token:f,newPassword:j,confirmPassword:E}),v("Your password was updated. Please sign in again.")}catch(A){if(A&&typeof A=="object"&&"status"in A){const H=A;w(H),O(H.fieldErrors??{})}else w(new Re({status:500,detail:"Unable to reset password."}))}finally{y(!1)}};return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(ht,{title:"Set a new password",children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:C,children:[b?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:b.detail??b.message}),s.jsx(jt,{traceId:b.traceId,errorId:b.errorId,debug:b.debug,compact:!0})]}):null,U?s.jsx(et,{variant:"success",children:U}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:["Email",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"email",value:u,onChange:I=>m(I.target.value),autoComplete:"email",required:!0}),s.jsx(it,{message:z.email?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Reset token",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:f,onChange:I=>h(I.target.value),required:!0}),s.jsx(it,{message:z.token?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["New password",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"password",value:j,onChange:I=>g(I.target.value),autoComplete:"new-password",required:!0}),s.jsx(it,{message:z.newPassword?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Confirm new password",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"password",value:E,onChange:I=>P(I.target.value),autoComplete:"new-password",required:!0}),s.jsx(it,{message:z.confirmPassword?.[0]})]}),s.jsx("button",{type:"submit",disabled:R,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:R?"Saving...":"Update password"}),U?s.jsx("div",{className:"text-xs text-slate-400",children:s.jsx(Le,{className:"hover:text-slate-200",to:"/login",children:"Back to sign in"})}):null]})})})},yh=()=>{const[a]=an(),o=p.useMemo(()=>a.get("email")??"",[a]),c=p.useMemo(()=>a.get("token")??"",[a]),[u,m]=p.useState(o),[f,h]=p.useState(c),[j,g]=p.useState(null),[E,P]=p.useState({}),[b,w]=p.useState(""),[z,O]=p.useState(!1),U=async v=>{v.preventDefault(),g(null),P({}),w(""),O(!0);try{await nh({email:u,token:f}),w("Your account has been activated. Please sign in.")}catch(R){if(R&&typeof R=="object"&&"status"in R){const y=R;g(y),P(y.fieldErrors??{})}else g(new Re({status:500,detail:"Unable to activate account."}))}finally{O(!1)}};return s.jsx("div",{className:"mx-auto flex max-w-3xl flex-col gap-6",children:s.jsx(ht,{title:"Activate account",children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:U,children:[j?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:j.detail??j.message}),s.jsx(jt,{traceId:j.traceId,errorId:j.errorId,debug:j.debug,compact:!0})]}):null,b?s.jsx(et,{variant:"success",children:b}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:["Email",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"email",value:u,onChange:v=>m(v.target.value),autoComplete:"email",required:!0}),s.jsx(it,{message:E.email?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Verification token",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:f,onChange:v=>h(v.target.value),required:!0}),s.jsx(it,{message:E.token?.[0]})]}),s.jsx("button",{type:"submit",disabled:z,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:z?"Activating...":"Activate account"}),b?s.jsx("div",{className:"text-xs text-slate-400",children:s.jsx(Le,{className:"hover:text-slate-200",to:"/login",children:"Back to sign in"})}):null]})})})},jh=a=>a.join(`
`),Nh=()=>{const{session:a,refresh:o}=on(),[c,u]=p.useState(null),[m,f]=p.useState(null),[h,j]=p.useState(null),[g,E]=p.useState(""),[P,b]=p.useState(""),[w,z]=p.useState([]),[O,U]=p.useState(!0),[v,R]=p.useState(null),[y,C]=p.useState(""),[I,A]=p.useState(void 0),[H,M]=p.useState({}),[pe,xe]=p.useState({}),[G,q]=p.useState(!1),fe=a?.isAuthenticated??!1,ke=p.useMemo(()=>w.length?jh(w):"",[w]),Ne=async()=>{U(!0),R(null);try{const K=await ah();u(K)}catch(K){K&&typeof K=="object"&&"status"in K?R(K):R(new Re({status:500,detail:"Unable to load MFA status."}))}finally{U(!1)}};p.useEffect(()=>{if(!fe){U(!1);return}Ne()},[fe]);const Ae=async()=>{C(""),A(void 0),M({}),xe({}),q(!0);try{const K=await ih();f(K),z([]),j(K.qrCodeSvg)}catch(K){if(K&&typeof K=="object"&&"status"in K){const _=K;C(_.detail??_.message),A(_.debug),M({traceId:_.traceId,errorId:_.errorId}),xe(_.fieldErrors??{})}else C("Unable to start MFA setup.")}finally{q(!1)}},Pe=async()=>{if(!g.trim()){C("Enter the verification code from your authenticator app."),A(void 0),M({}),xe({});return}C(""),A(void 0),M({}),xe({}),q(!0);try{const K=await oh({code:g});z(K.recoveryCodes),E(""),f(null),j(null),await Ne(),await o()}catch(K){if(K&&typeof K=="object"&&"status"in K){const _=K;C(_.detail??_.message),A(_.debug),M({traceId:_.traceId,errorId:_.errorId}),xe(_.fieldErrors??{})}else C("Unable to verify the code.")}finally{q(!1)}},we=async()=>{C(""),A(void 0),M({}),xe({}),q(!0);try{const K=await ch();z(K.recoveryCodes),await Ne()}catch(K){if(K&&typeof K=="object"&&"status"in K){const _=K;C(_.detail??_.message),A(_.debug),M({traceId:_.traceId,errorId:_.errorId}),xe(_.fieldErrors??{})}else C("Unable to regenerate recovery codes.")}finally{q(!1)}},J=async()=>{if(!P.trim()){C("Enter the verification code."),A(void 0),M({}),xe({});return}C(""),A(void 0),M({}),xe({}),q(!0);try{await uh({code:P}),b(""),z([]),await Ne(),await o()}catch(K){if(K&&typeof K=="object"&&"status"in K){const _=K;C(_.detail??_.message),A(_.debug),M({traceId:_.traceId,errorId:_.errorId}),xe(_.fieldErrors??{})}else C("Unable to disable MFA.")}finally{q(!1)}};return fe?O?s.jsx("div",{className:"mx-auto max-w-2xl",children:s.jsx(ht,{title:"Account security",children:s.jsx("p",{className:"text-sm text-slate-300",children:"Loading MFA settings..."})})}):s.jsxs("div",{className:"mx-auto flex max-w-3xl flex-col gap-6",children:[s.jsxs(ht,{title:"Account security",description:"Manage MFA with an authenticator app and recovery codes.",children:[v?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:v.detail??v.message}),v.status===401?s.jsx("a",{className:"text-sm text-indigo-300 hover:text-indigo-200",href:"/login",children:"Sign in again"}):null,s.jsx(jt,{traceId:v.traceId,errorId:v.errorId,debug:v.debug,compact:!0})]}):null,c?s.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/40 p-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"MFA status"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:c.enabled?"Enabled":"Disabled"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/40 p-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery codes"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:c.recoveryCodesLeft}),s.jsx("p",{className:"text-xs text-slate-400",children:"Remaining codes"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/40 p-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Authenticator key"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:c.hasAuthenticatorKey?"Generated":"Not generated"})]})]}):null]}),s.jsxs(ht,{title:"MFA setup",description:"Use an authenticator app (Google Authenticator, Authy, Microsoft Authenticator, etc.).",children:[y?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:y}),s.jsx(jt,{traceId:H.traceId,errorId:H.errorId,debug:I,compact:!0})]}):null,c?.enabled?s.jsx("p",{className:"text-sm text-slate-400",children:"MFA is enabled. Disable it first if you need to reconfigure."}):s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("button",{type:"button",onClick:Ae,disabled:G,className:"w-fit rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:"Start MFA setup"}),m?s.jsxs("div",{className:"grid gap-4 md:grid-cols-[200px,1fr]",children:[s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-950/40 p-4",children:h?s.jsx("div",{className:"mx-auto h-40 w-40 text-white","aria-label":"QR code for MFA",dangerouslySetInnerHTML:{__html:h}}):s.jsx("p",{className:"text-xs text-slate-400",children:"Loading QR"})}),s.jsxs("div",{className:"flex flex-col gap-3 text-sm text-slate-300",children:[s.jsx("p",{children:"Scan the QR code in your authenticator app. If you cannot scan, use this key instead:"}),s.jsx("code",{className:"rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",children:m.sharedKey}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Verification code",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:g,onChange:K=>E(K.target.value)}),s.jsx(it,{message:pe.code?.[0]})]}),s.jsx("button",{type:"button",onClick:Pe,disabled:G,className:"w-fit rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-emerald-400 disabled:cursor-not-allowed disabled:opacity-60",children:"Verify & enable MFA"})]})]}):s.jsx("p",{className:"text-sm text-slate-400",children:"After starting, you will see a QR code and key. MFA is enabled after verifying the code from your app."})]})]}),s.jsxs(ht,{title:"Recovery codes",description:"Use recovery codes when you cannot access your authenticator app.",children:[w.length?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"warning",children:"Recovery codes are shown only once. Store them securely."}),s.jsx("textarea",{className:"min-h-[140px] rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 font-mono text-sm text-slate-100",value:ke,readOnly:!0})]}):s.jsx("p",{className:"text-sm text-slate-400",children:"Generate new recovery codes using the button below."}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",onClick:we,disabled:!c?.enabled||G,className:"rounded-lg border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500 disabled:cursor-not-allowed disabled:opacity-60",children:"Generate new recovery codes"})})]}),s.jsx(ht,{title:"Disable MFA",description:"To disable MFA, verify the current code from your authenticator app.",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("label",{className:"text-sm text-slate-200",children:["Verification code",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:P,onChange:K=>b(K.target.value)}),s.jsx(it,{message:pe.code?.[0]})]}),s.jsx("button",{type:"button",onClick:J,disabled:!c?.enabled||G,className:"w-fit rounded-lg bg-rose-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-rose-400 disabled:cursor-not-allowed disabled:opacity-60",children:"Disable MFA"})]})})]}):s.jsx("div",{className:"mx-auto max-w-2xl",children:s.jsx(ht,{title:"Account security",description:"You must be signed in to manage MFA.",children:s.jsx(et,{variant:"info",children:"Sign in to continue setting up MFA."})})})},bh=()=>{const[a]=an(),o=ot(),c=a.get("token")??"",u=a.get("returnUrl"),[m,f]=p.useState(""),[h,j]=p.useState(!1),[g,E]=p.useState(!1),[P,b]=p.useState(null),[w,z]=p.useState({}),[O,U]=p.useState(!1),v=async R=>{R.preventDefault(),b(null),z({}),U(!0);try{const y=await eh({mfaToken:c,code:m,useRecoveryCode:h,rememberMachine:g}),C=Oi(y.redirectTo??u??null);C?window.location.href=C:o("/",{replace:!0})}catch(y){if(y&&typeof y=="object"&&"status"in y){const C=y;b(C),z(C.fieldErrors??{})}else b(new Re({status:500,detail:"Unable to verify the code."}))}finally{U(!1)}};return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(ht,{title:"Two-factor authentication",description:"Enter the code from your authenticator app or use a recovery code.",children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:v,children:[P?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(et,{variant:"error",children:P.detail??P.message}),s.jsx(jt,{traceId:P.traceId,errorId:P.errorId,debug:P.debug,compact:!0})]}):null,c?null:s.jsx(et,{variant:"error",children:"The MFA challenge is no longer available. Please sign in again."}),s.jsxs("label",{className:"text-sm text-slate-200",children:[h?"Recovery code":"Verification code",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:m,onChange:R=>f(R.target.value),autoComplete:"one-time-code",required:!0}),s.jsx(it,{message:w.code?.[0]})]}),s.jsxs("label",{className:"flex items-center gap-3 text-xs text-slate-400",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:R=>j(R.target.checked)}),"Use a recovery code"]}),h?null:s.jsxs("label",{className:"flex items-center gap-3 text-xs text-slate-400",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:R=>E(R.target.checked)}),"Trust this device"]}),s.jsx("button",{type:"submit",disabled:O||!c,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:O?"Verifying...":"Continue"}),s.jsx("div",{className:"text-xs text-slate-400",children:s.jsx(Le,{className:"hover:text-slate-200",to:"/login",children:"Back to sign in"})})]})})})};function Mi({title:a,description:o,hint:c}){const u=Bt(),m=new URLSearchParams(u.search),f=m.get("traceId")??void 0,h=m.get("errorId")??void 0;return s.jsx(ht,{title:a,description:o,children:s.jsxs("div",{className:"flex flex-col gap-4 text-sm text-slate-300",children:[c?s.jsx("p",{children:c}):null,s.jsx(jt,{traceId:f,errorId:h,compact:!0})]})})}function Ju(){return s.jsx(Mi,{title:"404",description:"The requested resource was not found.",hint:"Check the URL or use the navigation to find what you need."})}function wh(){return s.jsx(Mi,{title:"403",description:"You dont have permission to access this page.",hint:"If you believe this is a mistake, contact an administrator."})}function Sh(){return s.jsx(Mi,{title:"500",description:"Something went wrong on our side. Please try again.",hint:"If the issue persists, contact support and share the trace ID."})}const kh="/admin",qu="/admin",Td=a=>a?a.startsWith("/")?a:`/${a}`:"/",ge=a=>Td(a),Eh=a=>Td(a),Ch=a=>{const o=Eh(a);return o==="/"?qu:`${qu}${o}`},Ph="/*",Rh=({isActive:a})=>`rounded-md px-3 py-2 text-sm font-medium transition ${a?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-900"}`;function dr({title:a,items:o}){return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"px-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:a}),s.jsx("div",{className:"flex flex-col gap-1",children:o.map(c=>s.jsx(zs,{to:c.to,className:Rh,end:c.end,children:c.label},c.to))})]})}function Th({children:a}){return s.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:s.jsxs("div",{className:"flex min-h-screen",children:[s.jsxs("aside",{className:"w-64 border-r border-slate-900 bg-slate-950/80",children:[s.jsxs("div",{className:"px-6 py-6",children:[s.jsx(Le,{to:ge("/"),className:"text-lg font-semibold text-white",children:"AstraId Admin"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Authorization server control panel"})]}),s.jsxs("nav",{className:"flex flex-col gap-6 px-4 pb-6",children:[s.jsx(dr,{title:"OIDC",items:[{to:ge("/"),label:"Overview",end:!0},{to:ge("/oidc/clients"),label:"Clients"},{to:ge("/oidc/scopes"),label:"Scopes"},{to:ge("/oidc/resources"),label:"Resources"}]}),s.jsx(dr,{title:"Konfigurace",items:[{to:ge("/config/permissions"),label:"Permissions"},{to:ge("/config/roles"),label:"Roles"},{to:ge("/config/api-resources"),label:"API Endpoints"}]}),s.jsx(dr,{title:"Uivatel",items:[{to:ge("/users"),label:"Users"}]}),s.jsx(dr,{title:"Audit",items:[{to:ge("/audit"),label:"Audit log"}]}),s.jsx(dr,{title:"Security",items:[{to:ge("/security/keys"),label:"Signing Keys"},{to:ge("/security/rotation"),label:"Rotation Policy"},{to:ge("/security/tokens"),label:"Token Policy"},{to:ge("/security/incidents"),label:"Incidents"},{to:ge("/security/revocation"),label:"Revocation"},{to:ge("/security/dataprotection"),label:"DataProtection"}]}),s.jsx(dr,{title:"Diagnostics",items:[{to:ge("/diagnostics/errors"),label:"Errors"}]})]})]}),s.jsxs("div",{className:"flex min-h-screen flex-1 flex-col",children:[s.jsx("header",{className:"border-b border-slate-900 bg-slate-950/60 px-8 py-4",children:s.jsxs("div",{className:"text-sm text-slate-400",children:[s.jsx("span",{className:"font-semibold text-slate-200",children:"Admin"}),"  AuthServer"]})}),s.jsx("main",{className:"flex w-full flex-1 flex-col gap-6 px-8 py-8",children:a})]})]})})}const Ii=new EventTarget;function je(a){Ii.dispatchEvent(new CustomEvent("toast",{detail:a}))}function Lh(a){const o=c=>{a(c.detail)};return Ii.addEventListener("toast",o),()=>Ii.removeEventListener("toast",o)}const Ih={error:"border-red-400/40 bg-red-950/80 text-red-100",success:"border-emerald-400/40 bg-emerald-950/80 text-emerald-100",info:"border-slate-400/40 bg-slate-900/80 text-slate-100"};function Uh(){const[a,o]=p.useState([]);return p.useEffect(()=>Lh(c=>{const u={...c,tone:c.tone??"info",id:crypto.randomUUID()};o(m=>[...m,u]),setTimeout(()=>{o(m=>m.filter(f=>f.id!==u.id))},4e3)}),[]),a.length===0?null:s.jsx("div",{className:"fixed right-6 top-6 z-50 flex w-full max-w-sm flex-col gap-3",children:a.map(c=>s.jsx("div",{className:`rounded-lg border px-4 py-3 text-sm shadow-lg backdrop-blur ${Ih[c.tone??"info"]}`,children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{children:c.message}),c.diagnostics?s.jsx(jt,{traceId:c.diagnostics.traceId,errorId:c.diagnostics.errorId,debug:c.diagnostics.debug,compact:!0}):null]})},c.id))})}function Dh(){return s.jsxs(s.Fragment,{children:[s.jsx(Th,{children:s.jsx(bd,{})}),s.jsx(Uh,{})]})}const _h=a=>a?.includes("system.admin")??!1;function Ah({children:a}){const{session:o,isLoading:c}=on(),u=Bt();if(c)return s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 text-slate-100",children:"Natm..."});if(!o?.isAuthenticated){const m=Ch(`${u.pathname}${u.search}${u.hash}`),f=`/login?returnUrl=${encodeURIComponent(m)}`;return s.jsx(bl,{to:f,replace:!0})}return _h(o.permissions)?s.jsx(s.Fragment,{children:a}):s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 text-slate-100",children:s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-8 text-center",children:[s.jsx("h1",{className:"text-xl font-semibold text-white",children:"Access denied"}),s.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Nemte oprvnn pro administraci systmu."})]})})}const zh=zi,Oh=a=>a.startsWith("http")?a:`${zh}${a.startsWith("/")?"":"/"}${a}`;async function X(a,o={}){const{suppressToast:c,...u}=o,m=await fetch(Oh(a),{credentials:"include",...u,headers:{"Content-Type":"application/json",...u.headers??{}}});if(!m.ok){const h=await Ed(m);throw c||je({message:h.message,tone:"error",diagnostics:{traceId:h.traceId,errorId:h.errorId,debug:h.debug}}),h}if(m.status===204)return null;const f=await m.text();return f?JSON.parse(f):null}function Mh(){const[a,o]=p.useState(null),[c,u]=p.useState(!0);return p.useEffect(()=>{let m=!0;return(async()=>{try{const h=await X("/admin/api/me");m&&o(h)}finally{m&&u(!1)}})(),()=>{m=!1}},[]),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:"Manage OAuth clients, scopes, users, and audit activity for the AuthServer."})]}),s.jsxs("section",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Session"}),c&&s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Loading session..."}),!c&&a&&s.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400",children:"Signed in as:"})," ",a.email??a.userName??a.userId]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400",children:"Roles:"})," ",a.roles.length?a.roles.join(", "):"None"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400",children:"Permissions:"})," ",a.permissions.length?a.permissions.join(", "):"None"]})]})]}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Quick links"}),s.jsxs("div",{className:"mt-3 flex flex-col gap-2 text-sm",children:[s.jsx(Le,{className:"text-indigo-300 hover:text-indigo-200",to:ge("/oidc/clients"),children:"Manage clients"}),s.jsx(Le,{className:"text-indigo-300 hover:text-indigo-200",to:ge("/oidc/scopes"),children:"Manage scopes"}),s.jsx(Le,{className:"text-indigo-300 hover:text-indigo-200",to:ge("/users"),children:"Review users"}),s.jsx(Le,{className:"text-indigo-300 hover:text-indigo-200",to:ge("/audit"),children:"Audit log"})]})]})]})]})}function Fh(){const[a,o]=p.useState(""),[c,u]=p.useState(1),[m,f]=p.useState(10),[h,j]=p.useState(null),[g,E]=p.useState(!1);p.useEffect(()=>{let w=!0;return(async()=>{E(!0);const O=new URLSearchParams;a.trim()&&O.set("search",a.trim()),O.set("page",String(c)),O.set("pageSize",String(m));try{const U=await X(`/admin/api/clients?${O.toString()}`);w&&j(U)}finally{w&&E(!1)}})(),()=>{w=!1}},[c,m,a]);const P=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1,b=async w=>{const z=await X(`/admin/api/clients/${w.id}/toggle`,{method:"POST",body:JSON.stringify({enabled:!w.enabled})});j(O=>O&&{...O,items:O.items.map(U=>U.id===w.id?{...U,enabled:z.enabled}:U)})};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Clients"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage OpenIddict client applications."})]}),s.jsx(Le,{to:ge("/oidc/clients/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New client"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("input",{className:"w-full max-w-sm rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search by client ID or display name...",value:a,onChange:w=>{o(w.target.value),u(1)}}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:w=>{f(Number(w.target.value)),u(1)},children:[10,20,30].map(w=>s.jsxs("option",{value:w,children:[w," / page"]},w))})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Client ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Type"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[g&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading clients..."})}),!g&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No clients yet  create one."})}),h?.items.map(w=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:w.clientId}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:w.displayName??"-"}),s.jsx("td",{className:"px-4 py-3 capitalize text-slate-300",children:w.clientType}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${w.enabled?"bg-emerald-500/20 text-emerald-200":"bg-rose-500/20 text-rose-200"}`,children:w.enabled?"Enabled":"Disabled"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("button",{type:"button",className:"text-sm font-semibold text-slate-300 hover:text-slate-100",onClick:()=>b(w),children:w.enabled?"Disable":"Enable"}),s.jsx(Le,{to:ge(`/oidc/clients/${w.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"})]})})]},w.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",P,"  ",h.totalCount," clients"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(w=>Math.max(1,w-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(w=>Math.min(P,w+1)),disabled:h.page>=P,children:"Next"})]})]})]})}function le({label:a,hint:o,tooltip:c,error:u,required:m,children:f}){return s.jsxs("div",{className:"flex flex-col gap-2 text-sm text-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium text-slate-200",children:[a,m&&s.jsx("span",{className:"ml-1 text-rose-300",children:"*"})]}),c&&s.jsx(bs,{tooltip:c})]}),f,o&&s.jsx(Bh,{children:o}),s.jsx($h,{message:u})]})}function bs({tooltip:a}){return s.jsxs("span",{className:"group relative inline-flex",children:[s.jsx("button",{type:"button",className:"flex h-5 w-5 items-center justify-center rounded-full border border-slate-600 text-xs text-slate-300 hover:border-slate-400 hover:text-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-400","aria-label":"Help",children:"?"}),s.jsx("span",{className:"pointer-events-none absolute left-1/2 top-full z-10 mt-2 w-64 -translate-x-1/2 rounded-md border border-slate-700 bg-slate-950 p-2 text-xs text-slate-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 group-focus-within:opacity-100",children:a})]})}function $h({message:a}){return a?s.jsx("p",{className:"text-xs text-rose-300",children:a}):null}function Bh({children:a}){return s.jsx("p",{className:"text-xs text-slate-400",children:a})}function He({message:a,diagnostics:o}){return a?s.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:[s.jsx("span",{children:a}),o?s.jsx(jt,{traceId:o.traceId,errorId:o.errorId,debug:o.debug}):null]}):null}function Gu({value:a,onChange:o,onBlur:c,placeholder:u,error:m,lineErrors:f=[],minRows:h=6}){const j=!!m||f.length>0,g=E=>{o(E.target.value)};return s.jsxs("div",{children:[s.jsx("textarea",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${j?"border-rose-400":"border-slate-700"}`,rows:h,value:a,onChange:g,onBlur:c,placeholder:u}),f.length>0&&s.jsx("div",{className:"mt-2 space-y-1 text-xs text-rose-300",children:f.map((E,P)=>s.jsxs("div",{children:[E.line>0?`Line ${E.line}: `:"",E.message]},`${E.line}-${P}`))})]})}const Vh=/^[a-z0-9][a-z0-9:_.-]*$/,Wh=/^[a-z0-9][a-z0-9:_.-]*$/,Kh=/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/,kl=3,El=100,Yu=3,Xu=100,Hh=["authorization_code","refresh_token","client_credentials"];function Zu(a){const o=a.trim().toLowerCase();return o?o.length<kl||o.length>El?{value:o,error:`Scope name must be between ${kl} and ${El} characters.`}:Vh.test(o)?{value:o,error:null}:{value:o,error:"Scope name may use lowercase letters, numbers, :, ., _, -."}:{value:o,error:"Scope name is required."}}function ed(a){const o=a.trim().toLowerCase();return o?o.length<kl||o.length>El?{value:o,error:`Resource name must be between ${kl} and ${El} characters.`}:Wh.test(o)?{value:o,error:null}:{value:o,error:"Resource name may use lowercase letters, numbers, :, ., _, -."}:{value:o,error:"Resource name is required."}}function td(a){const o=a.trim();return o?o.length<Yu||o.length>Xu?{value:o,error:`Client ID must be between ${Yu} and ${Xu} characters.`}:Kh.test(o)?{value:o,error:null}:{value:o,error:"Client ID may use letters, numbers, underscores, dots, and dashes."}:{value:o,error:"Client ID is required."}}function sd(a){if(!a||a.length===0)return"Select at least one grant type.";const o=a.filter(c=>!Hh.includes(c));return o.length>0?`Unsupported grant types: ${o.join(", ")}.`:null}function rd(a,o,c){return a==="public"&&o.includes("client_credentials")?"Public clients cannot use client_credentials.":a==="confidential"&&c?"PKCE can only be required for public clients.":c&&!o.includes("authorization_code")?"PKCE requires authorization_code grant type.":null}function yl(a){return a.split(/\r?\n/).map(o=>o.trim()).filter(Boolean)}function nd(a,o){const c=a.split(/\r?\n/),u=[],m=c.map(f=>f.trim()).filter(f=>f.length>0);return m.forEach((f,h)=>{if(/\s/.test(f)){u.push({line:h+1,message:"URI must not contain whitespace."});return}try{const j=new URL(f);if(j.hash){u.push({line:h+1,message:"URI must not include a fragment (#)."});return}const g=j.protocol==="https:",E=j.hostname==="localhost"||j.hostname==="127.0.0.1"||j.hostname==="[::1]";!g&&!(E&&j.protocol==="http:")&&u.push({line:h+1,message:"Use HTTPS unless it is a localhost callback."})}catch{u.push({line:h+1,message:"Must be an absolute URL."})}}),o&&m.length===0&&u.push({line:0,message:"At least one redirect URI is required."}),{normalized:m,errors:u}}function ld(a){return a.length===0?null:a.some(o=>o.line===0)?a.find(o=>o.line===0)?.message??null:"One or more redirect URIs are invalid. Review the list below."}function We(a){if(a instanceof Re){const o=a.fieldErrors??{},c=a.generalErrors?.[0]??a.detail??a.message??null;return{fieldErrors:o,generalError:c,diagnostics:{traceId:a.traceId,errorId:a.errorId,debug:a.debug}}}return{fieldErrors:{},generalError:"Unexpected error."}}const Qh={clientId:"",displayName:"",clientType:"public",enabled:!0,grantTypes:["authorization_code","refresh_token"],pkceRequired:!0,scopes:[],redirectUrisText:"",postLogoutRedirectUrisText:""};function Ld({mode:a,clientId:o}){const c=ot(),u=Bt(),[m,f]=p.useState(Qh),[h,j]=p.useState([]),[g,E]=p.useState(a==="edit"),[P,b]=p.useState(!1),[w,z]=p.useState({}),[O,U]=p.useState(null),[v,R]=p.useState(void 0),[y,C]=p.useState([]),[I,A]=p.useState([]),[H,M]=p.useState(()=>u.state?.secret??null),[pe,xe]=p.useState(()=>!!H),[G,q]=p.useState(null),[fe,ke]=p.useState([]),[Ne,Ae]=p.useState([]),[Pe,we]=p.useState(""),[J,K]=p.useState(null),[_,k]=p.useState("SpaPublic"),F=m.clientType==="confidential",ce=p.useMemo(()=>[{value:"authorization_code",label:"Authorization Code"},{value:"refresh_token",label:"Refresh Token"},{value:"client_credentials",label:"Client Credentials"}],[]);p.useEffect(()=>{(async()=>{const ee=new URLSearchParams({page:"1",pageSize:"200"}),oe=await X(`/admin/api/oidc/scopes?${ee.toString()}`);j(oe.items)})(),(async()=>{const ee=await X("/admin/api/client-profiles/rules"),oe=await X("/admin/api/client-presets");ke(ee.profiles),Ae(oe),oe.length>0&&(we(oe[0].id),k(oe[0].profile))})()},[]),p.useEffect(()=>{Pe&&X(`/admin/api/client-presets/${Pe}`).then($=>{K($),k($.profile),a==="create"&&f(Y=>({...Y,clientType:$.defaults.clientType==="confidential"?"confidential":"public",pkceRequired:$.defaults.pkceRequired,grantTypes:$.defaults.grantTypes,redirectUrisText:$.defaults.redirectUris.join(`
`),postLogoutRedirectUrisText:$.defaults.postLogoutRedirectUris.join(`
`),scopes:$.defaults.scopes}))})},[Pe,a]),p.useEffect(()=>{if(a!=="edit"||!o)return;let $=!0;return(async()=>{E(!0);try{const ee=await X(`/admin/api/clients/${o}`);if(!$)return;f({clientId:ee.clientId,displayName:ee.displayName??"",clientType:ee.clientType.toLowerCase()==="confidential"?"confidential":"public",enabled:ee.enabled,grantTypes:ee.grantTypes,pkceRequired:ee.pkceRequired,scopes:ee.scopes,redirectUrisText:ee.redirectUris.join(`
`),postLogoutRedirectUrisText:ee.postLogoutRedirectUris.join(`
`)}),k(ee.profile??"SpaPublic"),ee.presetId&&we(ee.presetId)}finally{$&&E(!1)}})(),()=>{$=!1}},[o,a]);const he=$=>{const Y={},ee=td($.clientId);ee.error&&(Y.clientId=ee.error);const oe=sd($.grantTypes);oe&&(Y.grantTypes=oe);const Vt=rd($.clientType,$.grantTypes,$.pkceRequired);Vt&&(Y.pkceRequired=Vt);const es=nd($.redirectUrisText,$.grantTypes.includes("authorization_code"));C(es.errors),es.errors.length>0&&(Y.redirectUris=ld(es.errors)??void 0);const _t=nd($.postLogoutRedirectUrisText,!1);return A(_t.errors),_t.errors.length>0&&(Y.postLogoutRedirectUris=ld(_t.errors)??void 0),z(Y),Y},be=async $=>{$.preventDefault();const Y=he(m);if(!(Object.keys(Y).length>0)){U(null),R(void 0),b(!0);try{const ee={clientId:m.clientId.trim(),displayName:m.displayName.trim()||null,clientType:m.clientType,enabled:m.enabled,grantTypes:m.grantTypes,pkceRequired:m.clientType==="public"?m.pkceRequired:!1,scopes:m.scopes,redirectUris:yl(m.redirectUrisText),postLogoutRedirectUris:yl(m.postLogoutRedirectUrisText),profile:_,presetId:Pe,presetVersion:J?.version,overrides:{clientType:m.clientType,pkceRequired:m.pkceRequired,grantTypes:m.grantTypes,scopes:m.scopes,redirectUris:yl(m.redirectUrisText),postLogoutRedirectUris:yl(m.postLogoutRedirectUrisText)}};if(a==="create"){const oe=await X("/admin/api/clients",{method:"POST",body:JSON.stringify(ee),suppressToast:!0});oe.clientSecret?(M(oe.clientSecret),xe(!0),q(null)):(M(null),xe(!1),q("Client created. Secret was not displayed for security reasons.")),je({message:"Client created.",tone:"success"}),c(ge(`/oidc/clients/${oe.client.id}`),{state:{secret:oe.clientSecret}});return}if(!o)return;await X(`/admin/api/clients/${o}`,{method:"PUT",body:JSON.stringify(ee),suppressToast:!0}),je({message:"Client updated.",tone:"success"})}catch(ee){if(ee instanceof Re){const oe=We(ee);z({clientId:oe.fieldErrors.clientId?.[0],grantTypes:oe.fieldErrors.grantTypes?.[0],pkceRequired:oe.fieldErrors.pkceRequired?.[0],redirectUris:oe.fieldErrors.redirectUris?.[0],postLogoutRedirectUris:oe.fieldErrors.postLogoutRedirectUris?.[0],scopes:oe.fieldErrors.scopes?.[0],presetId:oe.fieldErrors.presetId?.[0]}),U(oe.generalError??"Unable to save client."),R(oe.diagnostics);return}U("Unable to save client."),R(void 0)}finally{b(!1)}}},ve=async()=>{if(!o)return;const $=await X(`/admin/api/clients/${o}/rotate-secret`,{method:"POST"});$.clientSecret?(M($.clientSecret),xe(!0),q(null)):(M(null),xe(!1),q("Secret rotated. New secret was not displayed for security reasons."))};return g?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading client..."}):s.jsxs("form",{onSubmit:be,className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:a==="create"?"Create client":"Edit client"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Configure OpenIddict client settings and permissions."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[a==="edit"&&F&&s.jsx("button",{type:"button",onClick:ve,className:"rounded-md border border-amber-300/50 px-4 py-2 text-sm font-semibold text-amber-200 hover:bg-amber-400/10",children:"Rotate secret"}),s.jsx("button",{type:"submit",disabled:P,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:P?"Saving...":"Save"})]})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx(He,{message:O,diagnostics:v}),a==="create"&&s.jsxs("div",{className:"mb-6 grid gap-5 md:grid-cols-2",children:[s.jsx(le,{label:"Client profile",hint:"Server-published profile rules.",children:s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:_,onChange:$=>{const Y=$.target.value;k(Y);const ee=Ne.find(oe=>oe.profile===Y);ee&&we(ee.id)},children:fe.map($=>s.jsx("option",{value:$.profile,children:$.profile},$.profile))})}),s.jsx(le,{label:"Preset",error:w.presetId,hint:"Preset defaults and locked fields are provided by server.",children:s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:Pe,onChange:$=>we($.target.value),children:Ne.filter($=>$.profile===_).map($=>s.jsxs("option",{value:$.id,children:[$.name," (v",$.version,")"]},$.id))})})]}),s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsx(le,{label:"Client ID",tooltip:"Identifiktor klienta v OIDC. Pouvej 3100 znak bez mezer. Pklad: web-spa, cms-admin.",hint:"Pouvej psmena, sla, _, . nebo -. Lowercase doporueno.",error:w.clientId,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${w.clientId?"border-rose-400":"border-slate-700"}`,value:m.clientId,onChange:$=>f(Y=>({...Y,clientId:$.target.value})),onBlur:()=>{const $=td(m.clientId);z(Y=>({...Y,clientId:$.error??void 0}))},placeholder:"web-spa",required:!0})}),s.jsx(le,{label:"Display name",tooltip:"Lidsk nzev klienta pro admin pehledy. Neovlivuje protokolov hodnoty.",hint:"Voliteln, doporueno pro lep orientaci.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:m.displayName,onChange:$=>f(Y=>({...Y,displayName:$.target.value})),placeholder:"CMS Admin SPA"})}),s.jsx(le,{label:"Client type",tooltip:"Public klient je SPA/mobile bez bezpenho loit tajemstv. Confidential klient je server-to-server s uloenm secret.",hint:"Public = SPA/mobile. Confidential = backend.",children:s.jsxs("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:m.clientType,onChange:$=>{const Y=$.target.value;f(ee=>({...ee,clientType:Y})),z(ee=>({...ee,pkceRequired:void 0,grantTypes:void 0}))},disabled:J?.lockedFields.includes("clientType"),children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"confidential",children:"Confidential"})]})}),s.jsx(le,{label:"Status",tooltip:"Zakzan klienta zastav autorizace i tokeny.",hint:"Vypni, pokud nechce klienta doasn pouvat.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.enabled,onChange:$=>f(Y=>({...Y,enabled:$.target.checked}))}),"Enabled"]})})]})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx(le,{label:"Grant types",tooltip:"Grant types definuj, jak klient zsk token. Pro SPA typicky authorization_code + refresh_token.",hint:"Vyber alespo jeden grant type.",error:w.grantTypes,required:!0,children:s.jsx("div",{className:"flex flex-wrap gap-4",children:ce.map($=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.grantTypes.includes($.value),onChange:Y=>{const ee=Y.target.checked?[...m.grantTypes,$.value]:m.grantTypes.filter(oe=>oe!==$.value);f(oe=>({...oe,grantTypes:ee})),z(oe=>({...oe,grantTypes:sd(ee)??void 0}))},disabled:J?.lockedFields.includes("grantTypes")||m.clientType==="public"&&$.value==="client_credentials"}),$.label]},$.value))})}),m.clientType==="public"&&s.jsx(le,{label:"PKCE",tooltip:"PKCE zvyuje bezpenost Authorization Code flow u public klient. Pokud je zapnuto, mus bt povolen authorization_code.",hint:"Doporueno pro SPA/mobile klienty.",error:w.pkceRequired,children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.pkceRequired,onChange:$=>{f(Y=>({...Y,pkceRequired:$.target.checked})),z(Y=>({...Y,pkceRequired:rd(m.clientType,m.grantTypes,$.target.checked)??void 0}))},disabled:J?.lockedFields.includes("pkceRequired")}),"Require PKCE"]})})]}),s.jsx("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:s.jsx(le,{label:"Scopes",tooltip:"Vyber scope, kter me klient poadovat. Scopes jsou navzan na API resources.",hint:"Nejprve vytvo scopes v OIDC Scopes.",error:w.scopes,children:s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[h.map($=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.scopes.includes($.name),onChange:Y=>f(ee=>({...ee,scopes:Y.target.checked?[...ee.scopes,$.name]:ee.scopes.filter(oe=>oe!==$.name)}))}),s.jsx("span",{className:"font-medium",children:$.name}),$.displayName&&s.jsx("span",{className:"text-xs text-slate-400",children:$.displayName})]},$.name)),h.length===0&&s.jsx("p",{className:"text-sm text-slate-400",children:"No scopes yet  create one."})]})})}),s.jsx("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsx(le,{label:"Redirect URIs",tooltip:"URL, kam se vrac uivatel po pihlen. Mus bt absolutn, HTTPS (v dev povol http://localhost).",hint:"1 URI per line. Povinn pro authorization_code.",error:w.redirectUris,required:m.grantTypes.includes("authorization_code"),children:s.jsx(Gu,{value:m.redirectUrisText,onChange:$=>f(Y=>({...Y,redirectUrisText:$})),onBlur:()=>he(m),placeholder:"http://localhost:5173/auth/callback",error:w.redirectUris,lineErrors:y,minRows:5})}),s.jsx(le,{label:"Post logout redirect URIs",tooltip:"URL, kam se vrac uivatel po odhlen. Mus bt absolutn a bez fragmentu.",hint:"1 URI per line. Voliteln.",error:w.postLogoutRedirectUris,children:s.jsx(Gu,{value:m.postLogoutRedirectUrisText,onChange:$=>f(Y=>({...Y,postLogoutRedirectUrisText:$})),onBlur:()=>he(m),placeholder:"https://app.example.com/logout/callback",error:w.postLogoutRedirectUris,lineErrors:I,minRows:5})})]})}),G&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:G}),pe&&H&&s.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950/80 px-4",children:s.jsxs("div",{className:"w-full max-w-lg rounded-xl border border-slate-700 bg-slate-900 p-6 text-slate-100 shadow-xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Client secret"}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:"This secret is shown only once. Copy it and store it securely."}),s.jsx("div",{className:"mt-4 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 font-mono text-sm",children:H}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{type:"button",className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",onClick:()=>xe(!1),children:"Close"})})]})})]})}function Jh(){return s.jsx(Ld,{mode:"create"})}function qh(){const{id:a}=Zt();return a?s.jsx(Ld,{mode:"edit",clientId:a}):null}function Os({title:a,description:o,confirmLabel:c="Confirm",cancelLabel:u="Cancel",isOpen:m,confirmDisabled:f=!1,onConfirm:h,onCancel:j,children:g}){return m?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 px-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-lg border border-slate-800 bg-slate-950 p-6 shadow-lg",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:a}),o&&s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:o}),g&&s.jsx("div",{className:"mt-4 text-sm text-slate-300",children:g}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:j,className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:u}),s.jsx("button",{type:"button",onClick:h,disabled:f,className:"rounded-md bg-rose-500 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-400 disabled:cursor-not-allowed disabled:opacity-50",children:c})]})]})}):null}function Gh(){const[a,o]=p.useState(""),[c,u]=p.useState(1),[m,f]=p.useState(10),[h,j]=p.useState(null),[g,E]=p.useState(!1),[P,b]=p.useState(null),[w,z]=p.useState(null),[O,U]=p.useState(!1);p.useEffect(()=>{let y=!0;return(async()=>{E(!0);const I=new URLSearchParams;a.trim()&&I.set("search",a.trim()),I.set("page",String(c)),I.set("pageSize",String(m));try{const A=await X(`/admin/api/oidc/scopes?${I.toString()}`);y&&j(A)}finally{y&&E(!1)}})(),()=>{y=!1}},[c,m,a]),p.useEffect(()=>{if(!P){z(null);return}let y=!0;return(async()=>{U(!0);try{const I=await X(`/admin/api/oidc/scopes/${P.id}/usage`);y&&z(I)}finally{y&&U(!1)}})(),()=>{y=!1}},[P]);const v=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1,R=async()=>{P&&(await X(`/admin/api/oidc/scopes/${P.id}`,{method:"DELETE"}),je({message:"Scope deleted.",tone:"success"}),b(null),j(y=>y&&{...y,items:y.items.filter(C=>C.id!==P.id),totalCount:Math.max(0,y.totalCount-1)}))};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"OIDC Scopes"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage OpenIddict scopes and their bound resources."})]}),s.jsx(Le,{to:ge("/oidc/scopes/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New scope"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("input",{className:"w-full max-w-sm rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search by scope name or display name...",value:a,onChange:y=>{o(y.target.value),u(1)}}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:y=>{f(Number(y.target.value)),u(1)},children:[10,20,30].map(y=>s.jsxs("option",{value:y,children:[y," / page"]},y))})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Resources"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[g&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"Loading scopes..."})}),!g&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"No scopes yet  create one."})}),h?.items.map(y=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:y.name}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:y.displayName??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:y.resources.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:y.resources.map(C=>s.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-1 text-xs text-slate-200",children:C},C))}):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(Le,{to:ge(`/oidc/scopes/${y.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>b(y),children:"Delete"})]})})]},y.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",v,"  ",h.totalCount," scopes"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(y=>Math.max(1,y-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(y=>Math.min(v,y+1)),disabled:h.page>=v,children:"Next"})]})]}),s.jsx(Os,{title:"Delete scope?",description:"This will permanently remove the scope from OpenIddict.",confirmLabel:"Delete",confirmDisabled:(w?.clientCount??0)>0||O,isOpen:!!P,onCancel:()=>b(null),onConfirm:R,children:P&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Used by"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:O?"...":w?.clientCount??0})," ","clients."]}),(w?.clientCount??0)>0&&s.jsx("p",{className:"text-rose-300",children:"Remove the scope from clients before deleting."})]})})]})}const Yh={name:"",displayName:"",description:"",resources:[],claimsText:""};function Id({mode:a,scopeId:o}){const c=ot(),[u,m]=p.useState(Yh),[f,h]=p.useState([]),[j,g]=p.useState({}),[E,P]=p.useState(null),[b,w]=p.useState(void 0),[z,O]=p.useState(a==="edit"),[U,v]=p.useState(!1);p.useEffect(()=>{(async()=>{const C=new URLSearchParams({page:"1",pageSize:"200",includeInactive:"false"}),I=await X(`/admin/api/oidc/resources?${C.toString()}`);h(I.items)})()},[]),p.useEffect(()=>{if(a!=="edit"||!o)return;let y=!0;return(async()=>{O(!0);try{const I=await X(`/admin/api/oidc/scopes/${o}`);if(!y)return;m({name:I.name,displayName:I.displayName??"",description:I.description??"",resources:I.resources,claimsText:I.claims.join(`
`)})}finally{y&&O(!1)}})(),()=>{y=!1}},[a,o]);const R=async y=>{y.preventDefault();const C=Zu(u.name);if(C.error){g({name:C.error});return}g({}),P(null),w(void 0),v(!0);try{const I={name:C.value,displayName:u.displayName.trim()||null,description:u.description.trim()||null,resources:u.resources,claims:Xh(u.claimsText)};if(a==="create"){const A=await X("/admin/api/oidc/scopes",{method:"POST",body:JSON.stringify(I),suppressToast:!0});je({message:"Scope created.",tone:"success"}),c(ge(`/oidc/scopes/${A.id}`));return}if(!o)return;await X(`/admin/api/oidc/scopes/${o}`,{method:"PUT",body:JSON.stringify(I),suppressToast:!0}),je({message:"Scope updated.",tone:"success"})}catch(I){if(I instanceof Re){const A=We(I);g({name:A.fieldErrors.name?.[0],resources:A.fieldErrors.resources?.[0]}),P(A.generalError??"Unable to save scope."),w(A.diagnostics);return}P("Unable to save scope."),w(void 0)}finally{v(!1)}};return z?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading scope..."}):s.jsxs("form",{onSubmit:R,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:a==="create"?"Create scope":"Edit scope"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Define OpenIddict scopes and their resources."})]}),s.jsx(He,{message:E,diagnostics:b}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(le,{label:"Name",tooltip:"OIDC scope identifiktor. Pouvej lowercase, bez mezer. Pklad: api, api.read, cms:write.",hint:"3100 znak, povoleno: a-z, 0-9, :, ., _, -.",error:j.name,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${j.name?"border-rose-400":"border-slate-700"}`,value:u.name,onChange:y=>m(C=>({...C,name:y.target.value})),onBlur:()=>{const y=Zu(u.name);g(C=>({...C,name:y.error??void 0}))},placeholder:"api.read"})}),s.jsx(le,{label:"Display name",tooltip:"Ptelsk nzev scope pro admin pehledy. Neovlivuje protokol.",hint:"Voliteln.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:u.displayName,onChange:y=>m(C=>({...C,displayName:y.target.value})),placeholder:"API Read"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Description",tooltip:"Intern popis scope pro administrtory.",hint:"Voliteln.",children:s.jsx("textarea",{className:"min-h-[120px] rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:u.description,onChange:y=>m(C=>({...C,description:y.target.value})),placeholder:"Optional description for admins."})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Resources",tooltip:"Resources reprezentuj API/audienci. Scope me mapovat na vce resources.",hint:"Vyber resources, kter tento scope chrn.",error:j.resources,children:s.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[f.length===0&&s.jsx("div",{className:"rounded-md border border-dashed border-slate-700 bg-slate-950/40 p-4 text-sm text-slate-400",children:"No active resources yet  create one."}),f.map(y=>s.jsxs("label",{className:"flex items-center gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3",children:[s.jsx("input",{type:"checkbox",checked:u.resources.includes(y.name),onChange:C=>{const I=new Set(u.resources);C.target.checked?I.add(y.name):I.delete(y.name),m(A=>({...A,resources:Array.from(I)}))},className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-100",children:y.name}),s.jsx("div",{className:"text-xs text-slate-400",children:y.displayName??"No display name"})]})]},y.id))]})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Claims",tooltip:"Voliteln claimy pidvan do tokenu, jeden claim na dek.",hint:"1 claim per line, nap. preferred_username.",children:s.jsx("textarea",{className:"min-h-[120px] rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:u.claimsText,onChange:y=>m(C=>({...C,claimsText:y.target.value})),placeholder:"custom_claim"})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:U,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:U?"Saving...":"Save scope"}),s.jsx("button",{type:"button",onClick:()=>c(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function Xh(a){return a.split(`
`).map(o=>o.trim()).filter(Boolean)}function Zh(){return s.jsx(Id,{mode:"create"})}function ex(){const{id:a}=Zt();return a?s.jsx(Id,{mode:"edit",scopeId:a}):null}function tx(){const[a,o]=p.useState(""),[c,u]=p.useState(1),[m,f]=p.useState(10),[h,j]=p.useState(null),[g,E]=p.useState(!1),[P,b]=p.useState(null),[w,z]=p.useState(null),[O,U]=p.useState(!1);p.useEffect(()=>{let y=!0;return(async()=>{E(!0);const I=new URLSearchParams;a.trim()&&I.set("search",a.trim()),I.set("page",String(c)),I.set("pageSize",String(m)),I.set("includeInactive","true");try{const A=await X(`/admin/api/oidc/resources?${I.toString()}`);y&&j(A)}finally{y&&E(!1)}})(),()=>{y=!1}},[c,m,a]),p.useEffect(()=>{if(!P){z(null);return}let y=!0;return(async()=>{U(!0);try{const I=await X(`/admin/api/oidc/resources/${P.id}/usage`);y&&z(I)}finally{y&&U(!1)}})(),()=>{y=!1}},[P]);const v=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1,R=async()=>{P&&(await X(`/admin/api/oidc/resources/${P.id}`,{method:"DELETE"}),je({message:"Resource deactivated.",tone:"success"}),b(null),j(y=>y&&{...y,items:y.items.map(C=>C.id===P.id?{...C,isActive:!1}:C)}))};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"OIDC Resources"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage protected API resources used by OpenIddict scopes."})]}),s.jsx(Le,{to:ge("/oidc/resources/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New resource"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("input",{className:"w-full max-w-sm rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search by resource name or description...",value:a,onChange:y=>{o(y.target.value),u(1)}}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:y=>{f(Number(y.target.value)),u(1)},children:[10,20,30].map(y=>s.jsxs("option",{value:y,children:[y," / page"]},y))})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Updated"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[g&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading resources..."})}),!g&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No resources yet  create one."})}),h?.items.map(y=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:y.name}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:y.displayName??"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${y.isActive?"bg-emerald-500/20 text-emerald-200":"bg-rose-500/20 text-rose-200"}`,children:y.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:new Date(y.updatedUtc).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(Le,{to:ge(`/oidc/resources/${y.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),y.isActive&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>b(y),children:"Deactivate"})]})})]},y.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",v,"  ",h.totalCount," resources"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(y=>Math.max(1,y-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(y=>Math.min(v,y+1)),disabled:h.page>=v,children:"Next"})]})]}),s.jsx(Os,{title:"Deactivate resource?",description:"This resource will be hidden from scope selection. Existing scopes will keep the reference.",confirmLabel:"Deactivate",confirmDisabled:(w?.scopeCount??0)>0||O,isOpen:!!P,onCancel:()=>b(null),onConfirm:R,children:P&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Used by"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:O?"...":w?.scopeCount??0})," ","scopes."]}),(w?.scopeCount??0)>0&&s.jsx("p",{className:"text-rose-300",children:"Remove the resource from scopes before deactivating."})]})})]})}const sx={name:"",displayName:"",description:"",isActive:!0};function Ud({mode:a,resourceId:o}){const c=ot(),[u,m]=p.useState(sx),[f,h]=p.useState({}),[j,g]=p.useState(null),[E,P]=p.useState(void 0),[b,w]=p.useState(a==="edit"),[z,O]=p.useState(!1);p.useEffect(()=>{if(a!=="edit"||!o)return;let v=!0;return(async()=>{w(!0);try{const y=await X(`/admin/api/oidc/resources/${o}`);if(!v)return;m({name:y.name,displayName:y.displayName??"",description:y.description??"",isActive:y.isActive})}finally{v&&w(!1)}})(),()=>{v=!1}},[a,o]);const U=async v=>{v.preventDefault();const R=ed(u.name);if(R.error){h({name:R.error});return}h({}),g(null),P(void 0),O(!0);try{const y={name:R.value,displayName:u.displayName.trim()||null,description:u.description.trim()||null,isActive:u.isActive};if(a==="create"){const C=await X("/admin/api/oidc/resources",{method:"POST",body:JSON.stringify(y),suppressToast:!0});je({message:"Resource created.",tone:"success"}),c(ge(`/oidc/resources/${C.id}`));return}if(!o)return;await X(`/admin/api/oidc/resources/${o}`,{method:"PUT",body:JSON.stringify(y),suppressToast:!0}),je({message:"Resource updated.",tone:"success"})}catch(y){if(y instanceof Re){const C=We(y);h({name:C.fieldErrors.name?.[0]}),g(C.generalError??"Unable to save resource."),P(C.diagnostics);return}g("Unable to save resource."),P(void 0)}finally{O(!1)}};return b?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading resource..."}):s.jsxs("form",{onSubmit:U,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:a==="create"?"Create resource":"Edit resource"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Resources are used as scope targets in OpenIddict."})]}),s.jsx(He,{message:j,diagnostics:E}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(le,{label:"Name",tooltip:"Resource reprezentuje API/audienci. Pklad: api, cms. Scopes na nj budou ukazovat.",hint:"3100 znak, lowercase bez mezer.",error:f.name,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.name?"border-rose-400":"border-slate-700"}`,value:u.name,onChange:v=>m(R=>({...R,name:v.target.value})),onBlur:()=>{const v=ed(u.name);h(R=>({...R,name:v.error??void 0}))},placeholder:"api"})}),s.jsx(le,{label:"Display name",tooltip:"Lidsk nzev resource pro admin pehledy.",hint:"Voliteln.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:u.displayName,onChange:v=>m(R=>({...R,displayName:v.target.value})),placeholder:"Core API"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Description",tooltip:"Intern popis resource pro administrtory.",hint:"Voliteln.",children:s.jsx("textarea",{className:"min-h-[120px] rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:u.description,onChange:v=>m(R=>({...R,description:v.target.value})),placeholder:"Optional description for admins."})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Status",tooltip:"Deaktivovan resource nelze piazovat ke scope, ale existujc vazby zstvaj.",hint:"Vypni, pokud resource doasn nepouv.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:u.isActive,onChange:v=>m(R=>({...R,isActive:v.target.checked})),className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),"Active (available for scope selection)"]})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:z,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:z?"Saving...":"Save resource"}),s.jsx("button",{type:"button",onClick:()=>c(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function rx(){return s.jsx(Ud,{mode:"create"})}function nx(){const{id:a}=Zt();return a?s.jsx(Ud,{mode:"edit",resourceId:a}):null}function lx(){const[a,o]=p.useState([]),[c,u]=p.useState(!0),[m,f]=p.useState(null),[h,j]=p.useState(null),[g,E]=p.useState(!1);p.useEffect(()=>{let b=!0;return(async()=>{try{const z=await X("/admin/api/permissions");b&&o(z)}finally{b&&u(!1)}})(),()=>{b=!1}},[]),p.useEffect(()=>{if(!m){j(null);return}let b=!0;return(async()=>{E(!0);try{const z=await X(`/admin/api/permissions/${m.id}/usage`);b&&j(z)}finally{b&&E(!1)}})(),()=>{b=!1}},[m]);const P=async()=>{m&&(await X(`/admin/api/permissions/${m.id}`,{method:"DELETE"}),je({message:"Permission deleted.",tone:"success"}),o(b=>b.filter(w=>w.id!==m.id)),f(null))};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Permissions"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage permission definitions and grouping."})]}),s.jsx(Le,{to:ge("/config/permissions/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New permission"})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Key"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Description"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Group"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"System"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[c&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading permissions..."})}),!c&&a.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No permissions yet  create one."})}),a.map(b=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:b.key}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:b.description}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:b.group||"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:b.isSystem?"Yes":"No"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(Le,{to:ge(`/config/permissions/${b.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),!b.isSystem&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>f(b),children:"Delete"})]})})]},b.id))]})]})}),s.jsx(Os,{title:"Delete permission?",description:"This will remove the permission and related mappings.",confirmLabel:"Delete",confirmDisabled:(h?.roleCount??0)>0||(h?.endpointCount??0)>0||g,isOpen:!!m,onCancel:()=>f(null),onConfirm:P,children:m&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Used by"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:g?"...":h?.roleCount??0})," ","roles and"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:g?"...":h?.endpointCount??0})," ","endpoints."]}),((h?.roleCount??0)>0||(h?.endpointCount??0)>0)&&s.jsx("p",{className:"text-rose-300",children:"Remove assignments before deleting."})]})})]})}const ax=/^[a-z0-9]+(\.[a-z0-9]+)*$/,ix=/^[A-Za-z0-9][A-Za-z0-9 _\.-]*$/;function ad(a){const o=a.trim();return o?o.length<3||o.length>100?{value:o,error:"Permission key must be between 3 and 100 characters."}:ax.test(o)?{value:o,error:null}:{value:o,error:"Use lowercase letters, numbers, and dots only (e.g. system.admin)."}:{value:o,error:"Permission key is required."}}function id(a){const o=a.trim();return o?o.length>250?{value:o,error:"Description must be 250 characters or fewer."}:Dd(o)?{value:o,error:"Description must not contain control characters."}:{value:o,error:null}:{value:o,error:"Description is required."}}function od(a){const o=a.trim();return o?o.length>100?{value:o,error:"Group must be 100 characters or fewer."}:Dd(o)?{value:o,error:"Group must not contain control characters."}:{value:o,error:null}:{value:o,error:null}}function jl(a){const o=a.trim();return o?o.length<2||o.length>64?{value:o,error:"Role name must be between 2 and 64 characters."}:ix.test(o)?{value:o,error:null}:{value:o,error:"Use letters, numbers, spaces, dots, underscores, or dashes only."}:{value:o,error:"Role name is required."}}function pr(a,o){if(!a||!o)return null;const c=new Date(a),u=new Date(o);return Number.isNaN(c.getTime())||Number.isNaN(u.getTime())?"Date range is invalid.":c>u?"From date must be earlier than to date.":null}function Cl(a){const o=a.trim();return o?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?{value:o,error:null}:{value:o,error:"Enter a valid email address."}:{value:o,error:"Email is required."}}function Dd(a){return Array.from(a).some(o=>o<=""||o==="")}const ox={key:"",description:"",group:"",isSystem:!1};function _d({mode:a,permissionId:o}){const c=ot(),[u,m]=p.useState(ox),[f,h]=p.useState({}),[j,g]=p.useState(null),[E,P]=p.useState(void 0),[b,w]=p.useState(a==="edit"),[z,O]=p.useState(!1);p.useEffect(()=>{if(a!=="edit"||!o)return;let v=!0;return(async()=>{w(!0);try{const y=await X(`/admin/api/permissions/${o}`);v&&m({key:y.key,description:y.description,group:y.group,isSystem:y.isSystem})}finally{v&&w(!1)}})(),()=>{v=!1}},[a,o]);const U=async v=>{v.preventDefault();const R=ad(u.key),y=id(u.description),C=od(u.group),I={key:R.error??void 0,description:y.error??void 0,group:C.error??void 0};if(h(I),g(null),P(void 0),!Object.values(I).some(Boolean)){O(!0);try{const A={key:R.value,description:y.value,group:C.value,isSystem:u.isSystem};if(a==="create"){await X("/admin/api/permissions",{method:"POST",body:JSON.stringify(A),suppressToast:!0}),je({message:"Permission created.",tone:"success"}),c(ge("/config/permissions"));return}if(!o)return;await X(`/admin/api/permissions/${o}`,{method:"PUT",body:JSON.stringify(A),suppressToast:!0}),je({message:"Permission updated.",tone:"success"})}catch(A){if(A instanceof Re){const H=We(A);h({key:H.fieldErrors.key?.[0],description:H.fieldErrors.description?.[0],group:H.fieldErrors.group?.[0]}),g(H.generalError??"Unable to save permission."),P(H.diagnostics);return}g("Unable to save permission."),P(void 0)}finally{O(!1)}}};return b?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading permission..."}):s.jsxs("form",{onSubmit:U,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:a==="create"?"Create permission":"Edit permission"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Configure application permission metadata."})]}),s.jsx(He,{message:j,diagnostics:E}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(le,{label:"Key",tooltip:"Jednoznan identifiktor permission. Pouvej teky pro hierarchii a lowercase.",hint:"Pklad: system.admin nebo api.read. Pouv se v policy a claimu permission.",error:f.key,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.key?"border-rose-400":"border-slate-700"}`,value:u.key,onChange:v=>m(R=>({...R,key:v.target.value})),onBlur:()=>h(v=>({...v,key:ad(u.key).error??void 0})),placeholder:"system.admin",disabled:a==="edit"&&u.isSystem})}),s.jsx(le,{label:"Group",tooltip:"Skupina pro vizuln seskupen permission.",hint:"Voliteln, nap. System nebo OIDC.",error:f.group,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.group?"border-rose-400":"border-slate-700"}`,value:u.group,onChange:v=>m(R=>({...R,group:v.target.value})),onBlur:()=>h(v=>({...v,group:od(u.group).error??void 0})),placeholder:"System"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Description",tooltip:"Krtk popis pro administrtory.",hint:"Povinn.",error:f.description,required:!0,children:s.jsx("textarea",{className:`min-h-[120px] rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.description?"border-rose-400":"border-slate-700"}`,value:u.description,onChange:v=>m(R=>({...R,description:v.target.value})),onBlur:()=>h(v=>({...v,description:id(u.description).error??void 0})),placeholder:"Allows access to admin features"})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"System permission",tooltip:"System permissiony jsou chrnn proti smazn.",hint:"Zapni pouze pro core oprvnn.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:u.isSystem,onChange:v=>m(R=>({...R,isSystem:v.target.checked})),className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),"Protected from deletion"]})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:z,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:z?"Saving...":"Save permission"}),s.jsx("button",{type:"button",onClick:()=>c(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function cx(){return s.jsx(_d,{mode:"create"})}function ux(){const{id:a}=Zt();return a?s.jsx(_d,{mode:"edit",permissionId:a}):null}function dx(){const[a,o]=p.useState([]),[c,u]=p.useState(""),[m,f]=p.useState(null),[h,j]=p.useState(null),[g,E]=p.useState(void 0),[P,b]=p.useState(!0),[w,z]=p.useState(null),[O,U]=p.useState(null),[v,R]=p.useState(!1),[y,C]=p.useState(null),[I,A]=p.useState(""),[H,M]=p.useState(null),[pe,xe]=p.useState(null),[G,q]=p.useState(void 0),[fe,ke]=p.useState(null),Ne=async()=>{const _=await X("/admin/api/roles");o(_)};p.useEffect(()=>{let _=!0;return(async()=>{try{await Ne()}finally{_&&b(!1)}})(),()=>{_=!1}},[]),p.useEffect(()=>{if(!w){U(null);return}let _=!0;return(async()=>{R(!0);try{const F=await X(`/admin/api/roles/${w.id}/usage`);_&&U(F)}finally{_&&R(!1)}})(),()=>{_=!1}},[w]);const Ae=async _=>{_.preventDefault();const k=jl(c);if(k.error){f(k.error);return}f(null),j(null),E(void 0);try{await X("/admin/api/roles",{method:"POST",body:JSON.stringify({name:k.value}),suppressToast:!0}),je({message:"Role created.",tone:"success"}),u(""),await Ne()}catch(F){if(F instanceof Re){const ce=We(F);f(ce.fieldErrors.name?.[0]??null),j(ce.generalError??"Unable to create role."),E(ce.diagnostics);return}j("Unable to create role."),E(void 0)}},Pe=async()=>{w&&(await X(`/admin/api/roles/${w.id}`,{method:"DELETE"}),je({message:"Role deleted.",tone:"success"}),o(_=>_.filter(k=>k.id!==w.id)),z(null))},we=_=>{C(_.id),A(_.name),M(null)},J=()=>{C(null),A("")},K=async()=>{if(!y)return;const _=jl(I);if(_.error){M(_.error);return}M(null),xe(null),q(void 0),ke(y);try{await X(`/admin/api/roles/${y}`,{method:"PUT",body:JSON.stringify({name:_.value}),suppressToast:!0}),je({message:"Role updated.",tone:"success"}),o(k=>k.map(F=>F.id===y?{...F,name:_.value}:F)),J()}catch(k){if(k instanceof Re){const F=We(k);M(F.fieldErrors.name?.[0]??null),xe(F.generalError??"Unable to update role."),q(F.diagnostics);return}xe("Unable to update role."),q(void 0)}finally{ke(null)}};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Roles"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Assign permissions to roles for admin access control."})]}),s.jsxs("form",{onSubmit:Ae,className:"flex flex-wrap items-end gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"w-full max-w-sm",children:s.jsx(le,{label:"New role",tooltip:"Role je Identity role. Oprvnn se mapuj pes permissiony.",hint:"Pouvej krtk nzvy jako Admin, Support, Editor.",error:m,required:!0,children:s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 ${m?"border-rose-400":"border-slate-700"}`,placeholder:"Admin",value:c,onChange:_=>u(_.target.value),onBlur:()=>f(jl(c).error??null)})})}),s.jsx("button",{type:"submit",className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"Create role"}),s.jsx("div",{className:"w-full",children:s.jsx(He,{message:h,diagnostics:g})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Role"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"System"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[P&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-400",children:"Loading roles..."})}),!P&&a.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-400",children:"No roles found."})}),a.map(_=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsxs("td",{className:"px-4 py-3 font-medium",children:[y===_.id?s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 ${H?"border-rose-400":"border-slate-700"}`,value:I,onChange:k=>A(k.target.value),onBlur:()=>M(jl(I).error??null)}):_.name,y===_.id&&H&&s.jsx("div",{className:"mt-1 text-xs text-rose-300",children:H}),y===_.id&&s.jsx(He,{message:pe,diagnostics:G})]}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:_.isSystem?"Yes":"No"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(Le,{to:ge(`/config/roles/${_.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit permissions"}),!_.isSystem&&y!==_.id&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-slate-300 hover:text-slate-200",onClick:()=>we(_),children:"Rename"}),!_.isSystem&&y===_.id&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"text-sm font-semibold text-emerald-300 hover:text-emerald-200",onClick:K,disabled:fe===_.id,children:fe===_.id?"Saving...":"Save"}),s.jsx("button",{type:"button",className:"text-sm font-semibold text-slate-300 hover:text-slate-200",onClick:J,disabled:fe===_.id,children:"Cancel"})]}),!_.isSystem&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>z(_),children:"Delete"})]})})]},_.id))]})]})}),s.jsx(Os,{title:"Delete role?",description:"This will remove the role and its permission assignments.",confirmLabel:"Delete",confirmDisabled:(O?.userCount??0)>0||v,isOpen:!!w,onCancel:()=>z(null),onConfirm:Pe,children:w&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Assigned to"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:v?"...":O?.userCount??0})," ","users."]}),(O?.userCount??0)>0&&s.jsx("p",{className:"text-rose-300",children:"Remove users from the role before deleting."})]})})]})}function px(){const{id:a}=Zt(),o=ot(),[c,u]=p.useState(null),[m,f]=p.useState([]),[h,j]=p.useState(new Set),[g,E]=p.useState(!0),[P,b]=p.useState(!1),[w,z]=p.useState(null),[O,U]=p.useState(void 0);p.useEffect(()=>{if(!a)return;let C=!0;return(async()=>{E(!0);try{const[A,H]=await Promise.all([X(`/admin/api/roles/${a}`),X("/admin/api/permissions")]);if(!C)return;u(A),f(H),j(new Set(A.permissionIds))}finally{C&&E(!1)}})(),()=>{C=!1}},[a]);const v=p.useMemo(()=>{const C=new Map;return m.forEach(I=>{const A=I.group||"General";C.has(A)||C.set(A,[]),C.get(A).push(I)}),Array.from(C.entries()).sort(([I],[A])=>I.localeCompare(A)).map(([I,A])=>({group:I,permissions:A.sort((H,M)=>H.key.localeCompare(M.key))}))},[m]),R=C=>{j(I=>{const A=new Set(I);return A.has(C)?A.delete(C):A.add(C),A})},y=async C=>{if(C.preventDefault(),!!a){z(null),U(void 0),b(!0);try{await X(`/admin/api/roles/${a}/permissions`,{method:"PUT",body:JSON.stringify({permissionIds:Array.from(h)}),suppressToast:!0}),je({message:"Role permissions updated.",tone:"success"})}catch(I){if(I instanceof Re){const A=We(I);z(A.generalError??"Unable to update role permissions."),U(A.diagnostics);return}z("Unable to update role permissions."),U(void 0)}finally{b(!1)}}};return a?g?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading role..."}):c?s.jsxs("form",{onSubmit:y,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h1",{className:"text-2xl font-semibold text-white",children:["Role: ",c.name]}),s.jsx(bs,{tooltip:"Role jsou Identity role. Oprvnn se mapuj pes permissiony (claim permission). Zmny ovlivn pstup uivatel."})]}),s.jsx("p",{className:"text-sm text-slate-300",children:"Assign permissions to control access."})]}),s.jsx(He,{message:w,diagnostics:O}),s.jsx("div",{className:"flex flex-col gap-6",children:v.map(C=>s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-400",children:C.group}),s.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:C.permissions.map(I=>s.jsxs("label",{className:"flex items-start gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3",children:[s.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:h.has(I.id),onChange:()=>R(I.id)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-100",children:I.key}),s.jsx("div",{className:"text-xs text-slate-400",children:I.description})]})]},I.id))})]},C.group))}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:P,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:P?"Saving...":"Save permissions"}),s.jsx("button",{type:"button",onClick:()=>o(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]}):s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Role not found."}):null}function mx(){const[a,o]=p.useState([]),[c,u]=p.useState(!0);return p.useEffect(()=>{let m=!0;return(async()=>{try{const h=await X("/admin/api/api-resources");m&&o(h)}finally{m&&u(!1)}})(),()=>{m=!1}},[]),s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Endpoints"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage API resources and endpoint permissions."})]}),s.jsx(Le,{to:ge("/config/api-resources/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New API resource"})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Base URL"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[c&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading API resources..."})}),!c&&a.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No API resources defined."})}),a.map(m=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:m.name}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:m.displayName}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:m.baseUrl??"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${m.isActive?"bg-emerald-500/20 text-emerald-200":"bg-rose-500/20 text-rose-200"}`,children:m.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(Le,{to:ge(`/config/api-resources/${m.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),s.jsx(Le,{to:ge(`/config/api-resources/${m.id}/endpoints`),className:"text-sm font-semibold text-slate-300 hover:text-slate-100",children:"Endpoints"})]})})]},m.id))]})]})})]})}const fx={name:"",displayName:"",baseUrl:"",isActive:!0};function Ad({mode:a,resourceId:o}){const c=ot(),[u,m]=p.useState(fx),[f,h]=p.useState(a==="edit"),[j,g]=p.useState(!1),[E,P]=p.useState(null),[b,w]=p.useState(null),[z,O]=p.useState({}),[U,v]=p.useState(null),[R,y]=p.useState(void 0);p.useEffect(()=>{if(a!=="edit"||!o)return;let A=!0;return(async()=>{h(!0);try{const M=await X(`/admin/api/api-resources/${o}`);A&&m({name:M.name,displayName:M.displayName,baseUrl:M.baseUrl??"",isActive:M.isActive})}finally{A&&h(!1)}})(),()=>{A=!1}},[a,o]);const C=async A=>{A.preventDefault();const H={};if(u.name.trim()||(H.name="Name is required."),u.displayName.trim()||(H.displayName="Display name is required."),u.baseUrl.trim())try{new URL(u.baseUrl.trim())}catch{H.baseUrl="Base URL must be a valid absolute URL."}if(O(H),v(null),y(void 0),!(Object.keys(H).length>0)){g(!0);try{const M={name:u.name.trim(),displayName:u.displayName.trim(),baseUrl:u.baseUrl.trim()||null,isActive:u.isActive};if(a==="create"){const pe=await X("/admin/api/api-resources",{method:"POST",body:JSON.stringify(M),suppressToast:!0});je({message:"API resource created.",tone:"success"}),c(ge(`/config/api-resources/${pe.id}`));return}if(!o)return;await X(`/admin/api/api-resources/${o}`,{method:"PUT",body:JSON.stringify(M),suppressToast:!0}),je({message:"API resource updated.",tone:"success"})}catch(M){if(M instanceof Re){const pe=We(M);O({name:pe.fieldErrors.name?.[0],displayName:pe.fieldErrors.displayName?.[0],baseUrl:pe.fieldErrors.baseUrl?.[0]}),v(pe.generalError??"Unable to save API resource."),y(pe.diagnostics);return}v("Unable to save API resource."),y(void 0)}finally{g(!1)}}},I=async()=>{if(!o)return;const A=await X(`/admin/api/api-resources/${o}/rotate-key`,{method:"POST"});A.apiKey?(P(A.apiKey),w(null),je({message:"API key rotated.",tone:"success"})):(P(null),w("API key rotated. New key was not displayed for security reasons."),je({message:"API key rotated.",tone:"success"}))};return f?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading API resource..."}):s.jsxs("form",{onSubmit:C,className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:a==="create"?"Create API resource":"Edit API resource"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Configure API metadata and status."})]}),a==="edit"&&s.jsx("button",{type:"button",onClick:I,className:"rounded-md border border-amber-300/50 px-4 py-2 text-sm font-semibold text-amber-200 hover:bg-amber-400/10",children:"Rotate API key"})]}),E&&s.jsxs("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:[s.jsx("p",{className:"font-semibold",children:"New API key"}),s.jsx("code",{className:"mt-2 block break-all rounded bg-amber-900/30 p-2 text-xs text-amber-100",children:E}),s.jsx("p",{className:"mt-2 text-xs text-amber-100",children:"Store this value securely; it will not be shown again."})]}),b&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:b}),s.jsx(He,{message:U,diagnostics:R}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(le,{label:"Name",tooltip:"Intern identifiktor API resource.",hint:"Povinn, nap. identity-api.",error:z.name,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${z.name?"border-rose-400":"border-slate-700"}`,value:u.name,onChange:A=>m(H=>({...H,name:A.target.value})),placeholder:"identity-api"})}),s.jsx(le,{label:"Display name",tooltip:"Lidsk nzev API pro administrtory.",hint:"Povinn.",error:z.displayName,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${z.displayName?"border-rose-400":"border-slate-700"}`,value:u.displayName,onChange:A=>m(H=>({...H,displayName:A.target.value})),placeholder:"Identity API"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Base URL",tooltip:"Zkladn URL API pro dokumentaci a odkazy.",hint:"Voliteln, mus bt absolutn URL.",error:z.baseUrl,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${z.baseUrl?"border-rose-400":"border-slate-700"}`,value:u.baseUrl,onChange:A=>m(H=>({...H,baseUrl:A.target.value})),placeholder:"https://api.local.test"})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(le,{label:"Status",tooltip:"Deaktivovan API resource nelze pouvat pro sync endpoint.",hint:"Vypni, pokud je API mimo provoz.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:u.isActive,onChange:A=>m(H=>({...H,isActive:A.target.checked})),className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),"Active"]})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:j,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:j?"Saving...":"Save API resource"}),s.jsx("button",{type:"button",onClick:()=>c(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function hx(){return s.jsx(Ad,{mode:"create"})}function xx(){const{id:a}=Zt();return a?s.jsx(Ad,{mode:"edit",resourceId:a}):null}function gx(){const{id:a}=Zt(),[o,c]=p.useState([]),[u,m]=p.useState([]),[f,h]=p.useState(!0),[j,g]=p.useState(null),[E,P]=p.useState(!1),[b,w]=p.useState(null),[z,O]=p.useState(void 0);p.useEffect(()=>{if(!a)return;let C=!0;return(async()=>{h(!0);try{const[A,H]=await Promise.all([X(`/admin/api/api-resources/${a}/endpoints`),X("/admin/api/permissions")]);C&&(c(A),m(H))}finally{C&&h(!1)}})(),()=>{C=!1}},[a]);const U=p.useMemo(()=>{const C=new Map;return u.forEach(I=>{const A=I.group||"General";C.has(A)||C.set(A,[]),C.get(A).push(I)}),Array.from(C.entries()).sort(([I],[A])=>I.localeCompare(A))},[u]),v=C=>{g({endpoint:C,selected:new Set(C.permissionIds)})},R=C=>{j&&g(I=>{if(!I)return I;const A=new Set(I.selected);return A.has(C)?A.delete(C):A.add(C),{...I,selected:A}})},y=async()=>{if(!(!j||!a)){P(!0),w(null),O(void 0);try{await X(`/admin/api/api-resources/${a}/endpoints/${j.endpoint.id}/permissions`,{method:"PUT",body:JSON.stringify({permissionIds:Array.from(j.selected)}),suppressToast:!0}),je({message:"Endpoint permissions updated.",tone:"success"}),c(C=>C.map(I=>I.id===j.endpoint.id?{...I,permissionIds:Array.from(j.selected),permissionKeys:u.filter(A=>j.selected.has(A.id)).map(A=>A.key)}:I)),g(null)}catch(C){if(C instanceof Re){const I=We(C);w(I.generalError??"Unable to update endpoint permissions."),O(I.diagnostics);return}w("Unable to update endpoint permissions."),O(void 0)}finally{P(!1)}}};return a?s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Endpoint Permissions"}),s.jsx(bs,{tooltip:"Vyber permissiony pro konkrtn endpoint. Kombinace method + path mus bt uniktn v rmci API resource. Endpoints se synchronizuj z API sluby."})]}),s.jsx("p",{className:"text-sm text-slate-300",children:"Assign permissions to API endpoints."})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Method"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Path"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Permissions"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[f&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"Loading endpoints..."})}),!f&&o.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"No endpoints registered. Sync endpoints from API service."})}),o.map(C=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:C.method}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:C.path}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:C.permissionKeys.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:C.permissionKeys.map(I=>s.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-1 text-xs text-slate-200",children:I},I))}):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("button",{type:"button",className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",onClick:()=>v(C),children:"Edit permissions"})})]},C.id))]})]})}),j&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 px-4",children:s.jsxs("div",{className:"w-full max-w-2xl rounded-lg border border-slate-800 bg-slate-950 p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Edit permissions"}),s.jsxs("p",{className:"text-sm text-slate-300",children:[j.endpoint.method," ",j.endpoint.path]})]}),s.jsx("button",{type:"button",onClick:()=>g(null),className:"text-sm text-slate-400 hover:text-slate-200",children:"Close"})]}),s.jsxs("div",{className:"mt-4 max-h-[60vh] overflow-y-auto",children:[s.jsx("p",{className:"mb-3 text-xs text-slate-400",children:"Choose permissions required for this endpoint. You can leave it empty for public access."}),s.jsx(He,{message:b,diagnostics:z}),U.map(([C,I])=>s.jsxs("div",{className:"mb-4 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:C}),s.jsx("div",{className:"mt-3 grid gap-2 md:grid-cols-2",children:I.map(A=>s.jsxs("label",{className:"flex items-start gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3",children:[s.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:j.selected.has(A.id),onChange:()=>R(A.id)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-100",children:A.key}),s.jsx("div",{className:"text-xs text-slate-400",children:A.description})]})]},A.id))})]},C))]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>g(null),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"}),s.jsx("button",{type:"button",onClick:y,disabled:E,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:E?"Saving...":"Save permissions"})]})]})})]}):null}function vx(){const[a,o]=p.useState(""),[c,u]=p.useState(1),[m,f]=p.useState(10),[h,j]=p.useState(null),[g,E]=p.useState(!1),[P,b]=p.useState(0),[w,z]=p.useState(!1),[O,U]=p.useState(null),[v,R]=p.useState(null),[y,C]=p.useState(null),[I,A]=p.useState(void 0),[H,M]=p.useState({email:"",userName:"",phoneNumber:"",password:""});p.useEffect(()=>{let G=!0;return(async()=>{E(!0);const fe=new URLSearchParams;a.trim()&&fe.set("search",a.trim()),fe.set("page",String(c)),fe.set("pageSize",String(m));try{const ke=await X(`/admin/api/users?${fe.toString()}`);G&&j(ke)}finally{G&&E(!1)}})(),()=>{G=!1}},[c,m,a,P]);const pe=async G=>{G.preventDefault();const q=Cl(H.email);if(q.error){U(q.error);return}U(null),R(null),C(null),A(void 0),z(!0);try{await X("/admin/api/users",{method:"POST",body:JSON.stringify({email:q.value,userName:H.userName.trim()||null,phoneNumber:H.phoneNumber.trim()||null,password:H.password.trim()||null}),suppressToast:!0}),je({message:"User created.",tone:"success"}),M({email:"",userName:"",phoneNumber:"",password:""}),u(1),b(fe=>fe+1)}catch(fe){if(fe instanceof Re){const ke=We(fe);U(ke.fieldErrors.email?.[0]??null),R(ke.fieldErrors.password?.[0]??null),C(ke.generalError??"Unable to create user."),A(ke.diagnostics);return}C("Unable to create user."),A(void 0)}finally{z(!1)}},xe=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1;return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Users"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Browse registered users and lock status."})]}),s.jsxs("div",{className:"flex flex-wrap items-end gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"w-full max-w-sm",children:s.jsx(le,{label:"Search",tooltip:"Hled v emailu nebo username.",hint:"Pouij pesn fragment (nap. jana@).",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search email or username",value:a,onChange:G=>{o(G.target.value),u(1)}})})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Page size"}),s.jsx("select",{className:"mt-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:G=>{f(Number(G.target.value)),u(1)},children:[10,20,30].map(G=>s.jsxs("option",{value:G,children:[G," / page"]},G))})]})]}),s.jsxs("form",{onSubmit:pe,className:"grid gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4 md:grid-cols-2",children:[s.jsx(le,{label:"Email",tooltip:"Primrn pihlaovac email. Aktivace se posl na tuto adresu.",hint:"Povinn.",error:O,required:!0,children:s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 ${O?"border-rose-400":"border-slate-700"}`,placeholder:"name@example.com",value:H.email,onChange:G=>M(q=>({...q,email:G.target.value})),onBlur:()=>U(Cl(H.email).error??null)})}),s.jsx(le,{label:"Username",tooltip:"Voliteln username pro pihlen.",hint:"Kdy je przdn, pouije se email.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Username",value:H.userName,onChange:G=>M(q=>({...q,userName:G.target.value}))})}),s.jsx(le,{label:"Phone number",tooltip:"Voliteln telefonn slo uivatele.",hint:"Pouij E.164 formt.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"+420123456789",value:H.phoneNumber,onChange:G=>M(q=>({...q,phoneNumber:G.target.value}))})}),s.jsx(le,{label:"Temporary password",tooltip:"Pokud nech przdn, systm vygeneruje aktivaci.",hint:"Voliteln. Mus splnit password policy.",error:v,children:s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 ${v?"border-rose-400":"border-slate-700"}`,type:"password",placeholder:"Temporary password",value:H.password,onChange:G=>M(q=>({...q,password:G.target.value}))})}),s.jsxs("div",{className:"flex items-center gap-3 md:col-span-2",children:[s.jsx("button",{type:"submit",disabled:w,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:w?"Creating...":"Create user"}),s.jsxs("span",{className:"flex items-center gap-2 text-xs text-slate-400",children:[s.jsx(bs,{tooltip:"Uivatel dostane aktivan email s potvrzovacm linkem."}),"New users will receive an activation email."]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(He,{message:y,diagnostics:I})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Email"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Username"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Confirmed"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Locked"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Roles"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[g&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"Loading users..."})}),!g&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"No users found. Create the first user above."})}),h?.items.map(G=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:G.email??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:G.userName??"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${G.emailConfirmed?"bg-emerald-500/20 text-emerald-200":"bg-amber-500/20 text-amber-200"}`,children:G.emailConfirmed?"Yes":"No"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${G.isLockedOut?"bg-rose-500/20 text-rose-200":"bg-emerald-500/20 text-emerald-200"}`,children:G.isLockedOut?"Locked":"Active"})}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:G.roles.length?G.roles.join(", "):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx(Le,{to:ge(`/users/${G.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Manage"})})]},G.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",xe,"  ",h.totalCount," users"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(G=>Math.max(1,G-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>u(G=>Math.min(xe,G+1)),disabled:h.page>=xe,children:"Next"})]})]})]})}function yx(){const{id:a}=Zt(),o=ot(),{session:c}=on(),[u,m]=p.useState(null),[f,h]=p.useState([]),[j,g]=p.useState(new Set),[E,P]=p.useState(""),[b,w]=p.useState({}),[z,O]=p.useState(null),[U,v]=p.useState(null),[R,y]=p.useState(null),[C,I]=p.useState(null),[A,H]=p.useState(null),[M,pe]=p.useState(void 0),[xe,G]=p.useState(void 0),[q,fe]=p.useState(void 0),[ke,Ne]=p.useState(void 0),[Ae,Pe]=p.useState(void 0),[we,J]=p.useState(!0),[K,_]=p.useState(!1),[k,F]=p.useState(!1),[ce,he]=p.useState(!1),[be,ve]=p.useState(!1),[$,Y]=p.useState({email:"",userName:"",phoneNumber:"",emailConfirmed:!1,isActive:!0});p.useEffect(()=>{if(!a)return;let me=!0;return(async()=>{J(!0);try{const[Fe,gr]=await Promise.all([X(`/admin/api/users/${a}`),X("/admin/api/roles")]);me&&(m(Fe),h(gr),g(new Set(Fe.roles)),Y({email:Fe.email??"",userName:Fe.userName??"",phoneNumber:Fe.phoneNumber??"",emailConfirmed:Fe.emailConfirmed,isActive:Fe.isActive}))}finally{me&&J(!1)}})(),()=>{me=!1}},[a]);const ee=me=>{g(Ee=>{const Fe=new Set(Ee);return Fe.has(me)?Fe.delete(me):Fe.add(me),Fe})},oe=async()=>{if(a){v(null),G(void 0),_(!0);try{await X(`/admin/api/users/${a}/roles`,{method:"PUT",body:JSON.stringify({roles:Array.from(j)}),suppressToast:!0}),je({message:"User roles updated.",tone:"success"})}catch(me){if(me instanceof Re){const Ee=We(me);v(Ee.generalError??"Unable to update roles."),G(Ee.diagnostics);return}v("Unable to update roles."),G(void 0)}finally{_(!1)}}},Vt=async()=>{if(!a||!u)return;const me=Cl($.email);if(me.error){w({email:me.error});return}w({}),O(null),pe(void 0),F(!0);try{await X(`/admin/api/users/${a}`,{method:"PUT",body:JSON.stringify({email:me.value,userName:$.userName.trim()||null,phoneNumber:$.phoneNumber.trim()||null,emailConfirmed:$.emailConfirmed,isActive:$.isActive}),suppressToast:!0}),m({...u,email:me.value,userName:$.userName.trim()||null,phoneNumber:$.phoneNumber.trim()||null,emailConfirmed:$.emailConfirmed,isActive:$.isActive}),je({message:"User updated.",tone:"success"})}catch(Ee){if(Ee instanceof Re){const Fe=We(Ee);w({email:Fe.fieldErrors.email?.[0]}),O(Fe.generalError??"Unable to update user."),pe(Fe.diagnostics);return}O("Unable to update user."),pe(void 0)}finally{F(!1)}},es=async()=>{if(!a||!u)return;y(null),fe(void 0);const me=!u.isLockedOut;try{await X(`/admin/api/users/${a}/lock`,{method:"POST",body:JSON.stringify({locked:me}),suppressToast:!0}),m({...u,isLockedOut:me}),je({message:me?"User locked.":"User unlocked.",tone:"success"})}catch(Ee){if(Ee instanceof Re){const Fe=We(Ee);y(Fe.generalError??"Unable to update lock status."),fe(Fe.diagnostics);return}y("Unable to update lock status."),fe(void 0)}},_t=async()=>{if(a){if(!E.trim()){I("New password is required.");return}I(null),Ne(void 0);try{await X(`/admin/api/users/${a}/reset-password`,{method:"POST",body:JSON.stringify({newPassword:E}),suppressToast:!0}),P(""),je({message:"Password reset.",tone:"success"})}catch(me){if(me instanceof Re){const Ee=We(me);I(Ee.fieldErrors.newPassword?.[0]??Ee.generalError),Ne(Ee.diagnostics);return}I("Unable to reset password."),Ne(void 0)}}},xr=async()=>{if(!(!a||!u)){he(!0),H(null),Pe(void 0);try{await X(`/admin/api/users/${a}/resend-activation`,{method:"POST",suppressToast:!0}),je({message:"Activation email resent.",tone:"success"})}catch(me){if(me instanceof Re){const Ee=We(me);H(Ee.generalError??"Unable to resend activation email."),Pe(Ee.diagnostics);return}H("Unable to resend activation email."),Pe(void 0)}finally{he(!1)}}},cn=async()=>{a&&(ve(!1),await X(`/admin/api/users/${a}`,{method:"DELETE"}),je({message:"User deactivated.",tone:"success"}),o(-1))};return a?we?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading user..."}):u?s.jsxs("section",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:u.email??u.userName}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage user access and security settings."})]}),s.jsx("button",{type:"button",onClick:()=>o(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Back"})]}),s.jsxs("div",{className:"grid gap-4 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(le,{label:"Email",tooltip:"Primrn pihlaovac email. Zmna me vyadovat novou aktivaci.",hint:"Povinn.",error:b.email,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 ${b.email?"border-rose-400":"border-slate-700"}`,value:$.email,onChange:me=>Y(Ee=>({...Ee,email:me.target.value})),onBlur:()=>w({email:Cl($.email).error??void 0}),placeholder:"user@example.com"})}),s.jsx(le,{label:"Username",tooltip:"Voliteln username pro pihlen.",hint:"Kdy je przdn, pouije se email.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:$.userName,onChange:me=>Y(Ee=>({...Ee,userName:me.target.value})),placeholder:"username"})}),s.jsx(le,{label:"Phone",tooltip:"Voliteln telefonn slo.",hint:"Pouij E.164 formt.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:$.phoneNumber,onChange:me=>Y(Ee=>({...Ee,phoneNumber:me.target.value})),placeholder:"+420123456789"})}),s.jsxs("div",{className:"flex flex-col gap-2 text-sm text-slate-200",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:"2FA enabled"}),s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/40 px-3 py-2 text-sm text-slate-200",children:u.twoFactorEnabled?"Yes":"No"})]}),s.jsxs("div",{className:"flex flex-col gap-2 text-sm text-slate-200",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery codes left"}),s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/40 px-3 py-2 text-sm text-slate-200",children:u.recoveryCodesLeft})]}),s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:$.emailConfirmed,onChange:me=>Y(Ee=>({...Ee,emailConfirmed:me.target.checked}))}),"Email confirmed"]}),s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:$.isActive,onChange:me=>Y(Ee=>({...Ee,isActive:me.target.checked}))}),"Account active"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 md:col-span-2",children:[s.jsx("button",{type:"button",onClick:Vt,disabled:k,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:k?"Saving...":"Save details"}),!u.emailConfirmed&&s.jsx("button",{type:"button",onClick:xr,disabled:ce,className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900 disabled:opacity-60",children:ce?"Sending...":"Resend activation"}),s.jsx(bs,{tooltip:"Aktivan email obsahuje token pro potvrzen adresy."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(He,{message:z,diagnostics:M}),s.jsx(He,{message:A,diagnostics:Ae})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Roles"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Assign identity roles for access. Roles map to permissions."})]}),s.jsx("button",{type:"button",onClick:oe,disabled:K,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:K?"Saving...":"Save roles"})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-400",children:[s.jsx(bs,{tooltip:"Role != permission. Role mapuje sadu permission, kter se propisuj do claimu permission."}),"Permissions are derived from role mappings."]}),s.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:f.map(me=>s.jsxs("label",{className:"flex items-center gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:j.has(me.name),onChange:()=>ee(me.name)}),me.name]},me.id))}),s.jsx("div",{className:"mt-4",children:s.jsx(He,{message:U,diagnostics:xe})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Account status"}),s.jsx(bs,{tooltip:"Lockout blokuje pihlen a do odemen."})]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Lock or unlock this user."}),s.jsx("button",{type:"button",onClick:es,disabled:c?.userId===u.id&&!u.isLockedOut,className:`mt-4 rounded-md px-4 py-2 text-sm font-semibold ${u.isLockedOut?"bg-emerald-500 text-white hover:bg-emerald-400":"bg-rose-500 text-white hover:bg-rose-400"} disabled:cursor-not-allowed disabled:opacity-60`,children:u.isLockedOut?"Unlock user":"Lock user"}),c?.userId===u.id&&!u.isLockedOut&&s.jsx("p",{className:"mt-2 text-xs text-rose-300",children:"You cannot lock your own account."}),s.jsx(He,{message:R,diagnostics:q})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Reset password"}),s.jsx(bs,{tooltip:"Vygeneruje nov heslo. Uivatel by ho ml zmnit pi dalm pihlen."})]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Set a new password for this user."}),s.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[s.jsx("input",{type:"password",className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:E,onChange:me=>P(me.target.value),placeholder:"New password"}),C&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-xs text-rose-300",children:C}),s.jsx(jt,{traceId:ke?.traceId,errorId:ke?.errorId,debug:ke?.debug,compact:!0})]}),s.jsx("button",{type:"button",onClick:_t,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"Reset password"})]})]})]}),s.jsxs("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-rose-100",children:"Deactivate user"}),s.jsx("p",{className:"text-sm text-rose-200/70",children:"Deactivated users cannot log in until reactivated."}),s.jsx("button",{type:"button",onClick:()=>ve(!0),className:"mt-4 rounded-md bg-rose-500 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-400",children:"Deactivate user"})]}),s.jsx(Os,{title:"Deactivate user?",description:"This will disable sign-in for the user until reactivated.",confirmLabel:"Deactivate",isOpen:be,onCancel:()=>ve(!1),onConfirm:cn})]}):s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"User not found."}):null}function jx(){const[a,o]=p.useState(""),[c,u]=p.useState(""),[m,f]=p.useState(""),[h,j]=p.useState(""),[g,E]=p.useState(""),[P,b]=p.useState(""),[w,z]=p.useState(null),[O,U]=p.useState(null),[v,R]=p.useState(void 0),[y,C]=p.useState(1),[I,A]=p.useState(10),[H,M]=p.useState(null),[pe,xe]=p.useState(!1);p.useEffect(()=>{const q=pr(g,P);if(z(q),q)return;let fe=!0;return(async()=>{xe(!0);const Ne=new URLSearchParams;a.trim()&&Ne.set("search",a.trim()),c.trim()&&Ne.set("action",c.trim()),m.trim()&&Ne.set("targetType",m.trim()),h.trim()&&Ne.set("targetId",h.trim()),g&&Ne.set("fromUtc",new Date(g).toISOString()),P&&Ne.set("toUtc",new Date(P).toISOString()),Ne.set("page",String(y)),Ne.set("pageSize",String(I));try{const Ae=await X(`/admin/api/audit?${Ne.toString()}`,{suppressToast:!0});fe&&M(Ae),fe&&(U(null),R(void 0))}catch(Ae){if(Ae instanceof Re){const Pe=We(Ae);fe&&(U(Pe.generalError??"Unable to load audit entries."),R(Pe.diagnostics))}else fe&&(U("Unable to load audit entries."),R(void 0))}finally{fe&&xe(!1)}})(),()=>{fe=!1}},[c,g,y,I,a,h,m,P]);const G=H?Math.max(1,Math.ceil(H.totalCount/H.pageSize)):1;return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Audit log"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Review admin actions captured by the server."})]}),s.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4 md:grid-cols-2",children:[s.jsx(le,{label:"Search",tooltip:"Hled v action, target type a target id.",hint:"Pouij voln text pro rychl filtrovn.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search action, target, or ID",value:a,onChange:q=>{o(q.target.value),C(1)}})}),s.jsx(le,{label:"Action",tooltip:"Filtrovat podle action kle (nap. client.updated).",hint:"Pouij pesn prefix.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"client.updated",value:c,onChange:q=>{u(q.target.value),C(1)}})}),s.jsx(le,{label:"Target type",tooltip:"Typ entity (nap. User, Permission, ApiEndpoint).",hint:"Voliteln.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Permission",value:m,onChange:q=>{f(q.target.value),C(1)}})}),s.jsx(le,{label:"Target ID",tooltip:"ID clovho objektu.",hint:"Voliteln.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"GUID / ID",value:h,onChange:q=>{j(q.target.value),C(1)}})}),s.jsx(le,{label:"From (local time)",tooltip:"Audit log ukld as v UTC. Zadan as je lokln a pevede se na UTC.",hint:"Voliteln.",error:w,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:g,onChange:q=>{E(q.target.value),C(1)},onBlur:()=>z(pr(g,P))})}),s.jsx(le,{label:"To (local time)",tooltip:"Audit log ukld as v UTC. Zadan as je lokln a pevede se na UTC.",hint:"Voliteln.",error:w,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:P,onChange:q=>{b(q.target.value),C(1)},onBlur:()=>z(pr(g,P))})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Page size"}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:I,onChange:q=>{A(Number(q.target.value)),C(1)},children:[10,20,30].map(q=>s.jsxs("option",{value:q,children:[q," / page"]},q))})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(He,{message:O,diagnostics:v})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Timestamp"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Action"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Target"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Actor"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Details"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[pe&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading audit entries..."})}),!pe&&H?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No audit entries found."})}),H?.items.map(q=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 text-slate-300",children:new Date(q.timestampUtc).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 font-medium",children:q.action}),s.jsxs("td",{className:"px-4 py-3 text-slate-300",children:[q.targetType,q.targetId?` (${q.targetId})`:""]}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:q.actorEmail??q.actorUserId??"System"}),s.jsx("td",{className:"px-4 py-3 text-slate-400",children:q.dataJson?s.jsx("code",{className:"rounded bg-slate-900 px-2 py-1 text-xs text-slate-200",children:q.dataJson}):"-"})]},q.id))]})]})}),H&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",H.page," of ",G,"  ",H.totalCount," entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>C(q=>Math.max(1,q-1)),disabled:H.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>C(q=>Math.min(G,q+1)),disabled:H.page>=G,children:"Next"})]})]})]})}function Nx(){const[a,o]=p.useState(""),[c,u]=p.useState(""),[m,f]=p.useState(""),[h,j]=p.useState(""),[g,E]=p.useState(null),[P,b]=p.useState(null),[w,z]=p.useState(void 0),[O,U]=p.useState(1),[v,R]=p.useState(10),[y,C]=p.useState(null),[I,A]=p.useState(!1);p.useEffect(()=>{const M=pr(m,h);if(E(M),M)return;let pe=!0;return(async()=>{A(!0);const G=new URLSearchParams;a.trim()&&G.set("traceId",a.trim()),c.trim()&&G.set("status",c.trim()),m&&G.set("fromUtc",new Date(m).toISOString()),h&&G.set("toUtc",new Date(h).toISOString()),G.set("page",String(O)),G.set("pageSize",String(v));try{const q=await X(`/admin/api/diagnostics/errors?${G.toString()}`,{suppressToast:!0});pe&&(C(q),b(null),z(void 0))}catch(q){if(q instanceof Re){const fe=We(q);pe&&(b(fe.generalError??"Unable to load error logs."),z(fe.diagnostics))}else pe&&(b("Unable to load error logs."),z(void 0))}finally{pe&&A(!1)}})(),()=>{pe=!1}},[m,O,v,c,a,h]);const H=y?Math.max(1,Math.ceil(y.totalCount/y.pageSize)):1;return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Diagnostics  Errors"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Review server-side error logs captured for 5xx responses."})]}),s.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4 md:grid-cols-2",children:[s.jsx(le,{label:"Trace ID",hint:"Filter by correlation/trace identifier.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",placeholder:"trace-id",value:a,onChange:M=>{o(M.target.value),U(1)}})}),s.jsx(le,{label:"Status code",hint:"Filter by HTTP status (e.g. 500).",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",placeholder:"500",value:c,onChange:M=>{u(M.target.value),U(1)}})}),s.jsx(le,{label:"From (local time)",hint:"Optional range filter.",error:g,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:M=>{f(M.target.value),U(1)},onBlur:()=>E(pr(m,h))})}),s.jsx(le,{label:"To (local time)",hint:"Optional range filter.",error:g,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:h,onChange:M=>{j(M.target.value),U(1)},onBlur:()=>E(pr(m,h))})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Page size"}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:v,onChange:M=>{R(Number(M.target.value)),U(1)},children:[10,20,30].map(M=>s.jsxs("option",{value:M,children:[M," / page"]},M))})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(He,{message:P,diagnostics:w})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Timestamp"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Path"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Trace"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Actor"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Details"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[I&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"Loading error logs..."})}),!I&&y?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"No error logs found."})}),y?.items.map(M=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 text-slate-300",children:new Date(M.timestampUtc).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 font-medium",children:M.statusCode}),s.jsxs("td",{className:"px-4 py-3 text-slate-300",children:[s.jsx("div",{className:"font-medium text-slate-200",children:M.method}),s.jsx("div",{className:"text-xs text-slate-400",children:M.path})]}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:s.jsx("div",{className:"text-xs",children:M.traceId})}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:M.actorEmail??M.actorUserId??"System"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:s.jsx(Le,{className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",to:ge(`/diagnostics/errors/${M.id}`),children:"View details"})})]},M.id))]})]})}),y&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",y.page," of ",H,"  ",y.totalCount," entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>U(M=>Math.max(1,M-1)),disabled:y.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>U(M=>Math.min(H,M+1)),disabled:y.page>=H,children:"Next"})]})]})]})}function bx(){const{id:a}=Zt(),[o,c]=p.useState(null),[u,m]=p.useState(!0),[f,h]=p.useState(null),[j,g]=p.useState(void 0),[E,P]=p.useState(!1);return p.useEffect(()=>{if(!a)return;let b=!0;return(async()=>{m(!0);try{const z=await X(`/admin/api/diagnostics/errors/${a}`,{suppressToast:!0});b&&(c(z),h(null),g(void 0))}catch(z){if(z instanceof Re){const O=We(z);b&&(h(O.generalError??"Unable to load error details."),g(O.diagnostics))}else b&&(h("Unable to load error details."),g(void 0))}finally{b&&m(!1)}})(),()=>{b=!1}},[a]),a?u?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading error log..."}):o?s.jsxs("section",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Error details"}),s.jsxs("p",{className:"text-sm text-slate-300",children:[o.method," ",o.path,"  ",o.statusCode]})]}),s.jsx(Le,{className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",to:ge("/diagnostics/errors"),children:"Back to list"})]}),s.jsx(He,{message:f,diagnostics:j}),s.jsxs("div",{className:"grid gap-4 rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-sm text-slate-200",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Timestamp"}),s.jsx("div",{className:"mt-1 text-slate-100",children:new Date(o.timestampUtc).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Actor"}),s.jsx("div",{className:"mt-1 text-slate-100",children:o.actorEmail??o.actorUserId??"System"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Trace ID"}),s.jsx("div",{className:"mt-1 text-slate-100",children:o.traceId})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Error ID"}),s.jsx("div",{className:"mt-1 text-slate-100",children:o.id})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Summary"}),s.jsxs("div",{className:"mt-2 rounded-md border border-slate-800 bg-slate-950/60 p-3 text-slate-100",children:[s.jsx("div",{className:"font-semibold",children:o.title}),s.jsx("div",{className:"mt-1 text-slate-300",children:o.detail})]})]}),s.jsx(jt,{traceId:o.traceId,errorId:o.id,debug:{exceptionType:o.exceptionType??void 0,stackTrace:o.stackTrace??void 0,innerExceptionSummary:o.innerException??void 0,path:o.path,method:o.method}}),o.stackTrace?s.jsx("div",{children:s.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",onClick:async()=>{await navigator.clipboard.writeText(o.stackTrace??""),P(!0),setTimeout(()=>P(!1),2e3)},children:E?"Copied":"Copy stack trace"})}):null,o.userAgent&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"User agent"}),s.jsx("div",{className:"mt-1 text-slate-100",children:o.userAgent})]}),o.remoteIp&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Remote IP"}),s.jsx("div",{className:"mt-1 text-slate-100",children:o.remoteIp})]}),o.dataJson&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Data"}),s.jsx("pre",{className:"mt-2 max-h-64 overflow-auto rounded-md bg-slate-950/60 p-3 text-xs text-slate-200",children:o.dataJson})]})]})]}):s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Error log not found."}):null}const wx={Active:"bg-emerald-500/20 text-emerald-200",Previous:"bg-indigo-500/20 text-indigo-200",Retired:"bg-slate-700/40 text-slate-200",Revoked:"bg-rose-500/20 text-rose-200"},js=a=>a?new Date(a).toLocaleString():"";function Sx(){const[a,o]=p.useState(null),[c,u]=p.useState(!0),[m,f]=p.useState(!1),[h,j]=p.useState(!1),[g,E]=p.useState(null),[P,b]=p.useState(null),[w,z]=p.useState(!1),O=async()=>{u(!0);const M=await X("/admin/api/security/keys/signing");o(M),u(!1)},U=async()=>{z(!0);try{const M=await X("/admin/api/security/keys/signing/jwks");b(M.jwksJson)}finally{z(!1)}};p.useEffect(()=>{O(),U()},[]);const v=a?.keys.filter(M=>M.isPublished)??[],R=a?.keys.find(M=>M.status==="Active"),y=R?.notAfterUtc?new Date(R.notAfterUtc):null,C=y&&y.getTime()-Date.now()<1e3*60*60*24*30,I=async()=>{f(!0);try{const M=await X("/admin/api/security/keys/signing/rotate",{method:"POST"});je({tone:"success",message:`Signing key rotated. Active kid: ${M.newActiveKid}.`}),await O()}finally{f(!1),j(!1)}},A=async M=>{f(!0);try{await X(`/admin/api/security/keys/signing/${M}/retire`,{method:"POST"}),je({tone:"success",message:"Signing key retired."}),await O()}finally{f(!1),E(null)}},H=async M=>{f(!0);try{await X(`/admin/api/security/keys/signing/${M}/revoke`,{method:"POST"}),je({tone:"warning",message:"Signing key revoked."}),await O()}finally{f(!1),E(null)}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Signing Keys"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Manage the signing key ring used for token issuance and JWKS publication."})]}),s.jsx("button",{type:"button",onClick:()=>j(!0),className:"rounded-md bg-rose-500 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-400 disabled:opacity-60",disabled:c||m,children:"Rotate now"})]}),a&&!a.rotationEnabled&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:"Automatic rotation is disabled. Ensure manual rotations are scheduled."}),a&&v.length<=1&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:"Only one signing key is currently published in JWKS. Add a previous key during rotations to avoid validation gaps."}),a&&C&&s.jsx("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-200",children:"The active signing key expires within 30 days. Rotate keys or update certificates."}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Current key ring"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Active keys sign new tokens. Previous keys remain published for validation."}),s.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-800 text-sm",children:[s.jsx("thead",{className:"bg-slate-950",children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-slate-500",children:[s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Key ID"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Created"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Activated"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Retire after"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Retired"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Revoked"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Algorithm"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Published"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 text-slate-200",children:[c&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:10,children:"Loading signing keys"})}),!c&&a?.keys.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:10,children:"No signing keys found."})}),a?.keys.map(M=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${wx[M.status]??"bg-slate-700/40 text-slate-200"}`,children:M.status})}),s.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-300",children:M.kid}),s.jsx("td",{className:"px-4 py-3",children:js(M.createdUtc)}),s.jsx("td",{className:"px-4 py-3",children:js(M.activatedUtc)}),s.jsx("td",{className:"px-4 py-3",children:js(M.retireAfterUtc)}),s.jsx("td",{className:"px-4 py-3",children:js(M.retiredUtc)}),s.jsx("td",{className:"px-4 py-3",children:js(M.revokedUtc)}),s.jsxs("td",{className:"px-4 py-3",children:[M.algorithm,"  ",M.keyType]}),s.jsx("td",{className:"px-4 py-3",children:M.isPublished?"Yes":"No"}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-2 py-1 text-xs text-slate-200 hover:border-slate-500 disabled:opacity-50",disabled:m||M.status!=="Previous",onClick:()=>E({type:"retire",key:M}),children:"Retire"}),s.jsx("button",{type:"button",className:"rounded-md border border-rose-500/60 px-2 py-1 text-xs text-rose-200 hover:border-rose-400 disabled:opacity-50",disabled:m||M.status==="Revoked"||M.status==="Retired",onClick:()=>E({type:"revoke",key:M}),children:"Revoke"})]})})]},M.kid))]})]})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Auto-rotation status"}),s.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Enabled"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?a.rotationEnabled?"Yes":"No":""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Next rotation due"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?.nextRotationDueUtc?js(a.nextRotationDueUtc):"Not scheduled"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Last rotation"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?.lastRotationUtc?js(a.lastRotationUtc):""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Grace period"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?`${a.gracePeriodDays} days`:""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Rotation interval"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?`${a.rotationIntervalDays} days`:""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Check period"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?`${a.checkPeriodMinutes} minutes`:""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Next rotation check"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?.nextRotationCheckUtc?js(a.nextRotationCheckUtc):""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4 md:col-span-3",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"JWKS exposure"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:"Active + previous keys are published for validation."})]})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"JWKS preview"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Public keys currently exposed via the JWKS endpoint."})]}),s.jsx("button",{type:"button",onClick:U,disabled:w,className:"rounded-md border border-slate-700 px-3 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 disabled:opacity-60",children:"Refresh JWKS"})]}),s.jsx("pre",{className:"mt-4 max-h-80 overflow-auto rounded-lg border border-slate-800 bg-slate-950 p-4 text-xs text-slate-200",children:w?"Loading JWKS":P??"JWKS not available."})]}),s.jsx(Os,{title:"Rotate signing keys?",description:"A new active key will be generated and the previous key will remain published until it ages out. Existing tokens stay valid until expiry.",confirmLabel:"Rotate",isOpen:h,confirmDisabled:m,onCancel:()=>j(!1),onConfirm:I}),s.jsx(Os,{title:g?.type==="revoke"?"Revoke signing key?":"Retire signing key?",description:g?.type==="revoke"?"Revoking a key immediately removes it from JWKS and invalidates tokens signed with it.":"Retiring a previous key stops publishing it in JWKS.",confirmLabel:g?.type==="revoke"?"Revoke":"Retire",isOpen:!!g,confirmDisabled:m,onCancel:()=>E(null),onConfirm:()=>{if(!g?.key){E(null);return}if(g.type==="revoke"){H(g.key.kid);return}A(g.key.kid)}})]})}const kx={accessTokenMinutes:30,identityTokenMinutes:15,authorizationCodeMinutes:5,refreshTokenDays:30,refreshRotationEnabled:!0,refreshReuseDetectionEnabled:!0,refreshReuseLeewaySeconds:30,clockSkewSeconds:60};function Ex(){const[a,o]=p.useState(kx),[c,u]=p.useState(null),[m,f]=p.useState(!0),[h,j]=p.useState(!1),[g,E]=p.useState(null),[P,b]=p.useState(void 0),[w,z]=p.useState({});p.useEffect(()=>{(async()=>{f(!0);try{const R=await X("/admin/api/security/token-policy");o(R.policy),u(R.guardrails)}finally{f(!1)}})()},[]);const O=async()=>{j(!0),E(null),b(void 0),z({});try{const v=await X("/admin/api/security/token-policy",{method:"PUT",body:JSON.stringify(a),suppressToast:!0});o(v.policy),u(v.guardrails),je({tone:"success",message:"Token policy updated."})}catch(v){const R=We(v);E(R.generalError),b(R.diagnostics),z(R.fieldErrors??{}),v instanceof Re||je({tone:"error",message:"Failed to update token policy."})}finally{j(!1)}};if(m)return s.jsx("div",{className:"text-sm text-slate-400",children:"Loading token policy"});const U=c?`Guardrails: ${c.minAccessTokenMinutes}-${c.maxAccessTokenMinutes} min access tokens, ${c.minRefreshTokenDays}-${c.maxRefreshTokenDays} day refresh.`:void 0;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Token Policies"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Set global token lifetimes and refresh token safeguards for OpenID Connect flows."})]}),!a.refreshReuseDetectionEnabled&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:"Refresh token reuse detection is disabled. Enable it to detect replayed refresh tokens."}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Token lifetimes"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:U??"Adjust lifetimes with care."}),s.jsxs("div",{className:"mt-4 grid gap-4",children:[s.jsx(le,{label:"Access token (minutes)",tooltip:"Recommended 560 minutes. Shorter values reduce exposure for leaked tokens.",error:w?.accessTokenMinutes?.[0],children:s.jsx("input",{type:"number",min:1,value:a.accessTokenMinutes,onChange:v=>o(R=>({...R,accessTokenMinutes:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(le,{label:"ID token (minutes)",tooltip:"Keep short, usually aligned with access token lifetime.",error:w?.identityTokenMinutes?.[0],children:s.jsx("input",{type:"number",min:1,value:a.identityTokenMinutes,onChange:v=>o(R=>({...R,identityTokenMinutes:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(le,{label:"Authorization code (minutes)",tooltip:"Short lifetimes reduce replay risk for authorization codes.",error:w?.authorizationCodeMinutes?.[0],children:s.jsx("input",{type:"number",min:1,value:a.authorizationCodeMinutes,onChange:v=>o(R=>({...R,authorizationCodeMinutes:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(le,{label:"Refresh token lifetime (days)",tooltip:"Total lifetime for refresh tokens before re-authentication is required.",error:w?.refreshTokenDays?.[0],children:s.jsx("input",{type:"number",min:1,value:a.refreshTokenDays,onChange:v=>o(R=>({...R,refreshTokenDays:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(le,{label:"Clock skew (seconds)",tooltip:"Allowed clock drift when validating tokens.",error:w?.clockSkewSeconds?.[0],children:s.jsx("input",{type:"number",min:0,value:a.clockSkewSeconds,onChange:v=>o(R=>({...R,clockSkewSeconds:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Refresh token protection"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Rotation and reuse detection reduce the impact of stolen refresh tokens."}),s.jsxs("div",{className:"mt-4 grid gap-4",children:[s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:a.refreshRotationEnabled,onChange:v=>o(R=>({...R,refreshRotationEnabled:v.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-indigo-400"}),"Enable refresh token rotation"]}),s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:a.refreshReuseDetectionEnabled,onChange:v=>o(R=>({...R,refreshReuseDetectionEnabled:v.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-indigo-400"}),"Enable reuse detection"]}),s.jsx(le,{label:"Reuse leeway (seconds)",tooltip:"Allows short overlap during parallel refresh calls before marking a token as reused.",error:w?.refreshReuseLeewaySeconds?.[0],children:s.jsx("input",{type:"number",min:0,value:a.refreshReuseLeewaySeconds,onChange:v=>o(R=>({...R,refreshReuseLeewaySeconds:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]})]})]}),s.jsx(He,{message:g,diagnostics:P}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:O,disabled:h,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:"Save policy"})})]})}const Cx={enabled:!0,rotationIntervalDays:30,gracePeriodDays:14,jwksCacheMarginMinutes:60,breakGlass:!1,reason:""};function Px(){const[a,o]=p.useState(null),[c,u]=p.useState(Cx),[m,f]=p.useState(!0),[h,j]=p.useState(!1),[g,E]=p.useState(null),[P,b]=p.useState(void 0),[w,z]=p.useState({});p.useEffect(()=>{(async()=>{f(!0);try{const R=await X("/admin/api/security/key-rotation-policy");o(R),u({enabled:R.policy.enabled,rotationIntervalDays:R.policy.rotationIntervalDays,gracePeriodDays:R.policy.gracePeriodDays,jwksCacheMarginMinutes:R.policy.jwksCacheMarginMinutes,breakGlass:!1,reason:""})}finally{f(!1)}})()},[]);const O=async()=>{j(!0),E(null),b(void 0),z({});try{const v=await X("/admin/api/security/key-rotation-policy",{method:"PUT",body:JSON.stringify(c),suppressToast:!0});o(v),u(R=>({...R,breakGlass:!1,reason:""})),je({tone:"success",message:"Key rotation policy updated."})}catch(v){const R=We(v);E(R.generalError),b(R.diagnostics),z(R.fieldErrors??{}),v instanceof Re||je({tone:"error",message:"Failed to update key rotation policy."})}finally{j(!1)}};if(m)return s.jsx("div",{className:"text-sm text-slate-400",children:"Loading key rotation policy"});const U=a?.guardrails;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Rotation Policy"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Control automatic signing key rotation schedule and grace period."})]}),!c.enabled&&s.jsx("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-200",children:"Rotation is disabled. Only use break-glass mode when necessary."}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(le,{label:"Rotation interval (days)",tooltip:U?`Guardrails: ${U.minRotationIntervalDays}${U.maxRotationIntervalDays} days.`:"Rotation cadence in days.",error:w?.rotationIntervalDays?.[0],children:s.jsx("input",{type:"number",min:1,value:c.rotationIntervalDays,onChange:v=>u(R=>({...R,rotationIntervalDays:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(le,{label:"Grace period (days)",tooltip:U?`Guardrails: ${U.minGracePeriodDays}${U.maxGracePeriodDays} days.`:"How long previous keys remain published.",error:w?.gracePeriodDays?.[0],children:s.jsx("input",{type:"number",min:0,value:c.gracePeriodDays,onChange:v=>u(R=>({...R,gracePeriodDays:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(le,{label:"JWKS cache margin (minutes)",tooltip:U?`Guardrails: ${U.minJwksCacheMarginMinutes}${U.maxJwksCacheMarginMinutes} minutes.`:"Extra time added to the safe rollover window for JWKS caches.",error:w?.jwksCacheMarginMinutes?.[0],children:s.jsx("input",{type:"number",min:0,value:c.jwksCacheMarginMinutes,onChange:v=>u(R=>({...R,jwksCacheMarginMinutes:Number(v.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]}),s.jsxs("label",{className:"mt-4 flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:c.enabled,onChange:v=>u(R=>({...R,enabled:v.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-indigo-400"}),"Enable automatic rotation"]}),!c.enabled&&s.jsxs("div",{className:"mt-4 grid gap-4",children:[s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:c.breakGlass,onChange:v=>u(R=>({...R,breakGlass:v.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-rose-400"}),"Break-glass confirmation"]}),s.jsx(le,{label:"Reason",tooltip:"Provide a reason when disabling rotation in production.",error:w?.reason?.[0],children:s.jsx("input",{type:"text",value:c.reason??"",onChange:v=>u(R=>({...R,reason:v.target.value})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]})]}),s.jsx(He,{message:g,diagnostics:P}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:O,disabled:h,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:"Save policy"})})]})}const Rx={low:"bg-slate-700/40 text-slate-200",medium:"bg-indigo-500/20 text-indigo-200",high:"bg-rose-500/20 text-rose-200",critical:"bg-rose-500/40 text-rose-100"},cd=a=>a?new Date(a).toLocaleString():"";function Tx(){const[a,o]=p.useState([]),[c,u]=p.useState(null),[m,f]=p.useState(!0),h=async()=>{f(!0);try{const g=await X("/admin/api/security/token-incidents?page=1&pageSize=50");o(g.items)}finally{f(!1)}},j=async g=>{const E=await X(`/admin/api/security/token-incidents/${g}`);u(E)};return p.useEffect(()=>{h()},[]),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Incidents"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Review security incidents such as refresh token reuse or key events."})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent incidents"}),s.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-800 text-sm",children:[s.jsx("thead",{className:"bg-slate-950",children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-slate-500",children:[s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Timestamp"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Severity"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Client"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 text-slate-200",children:[m&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:4,children:"Loading incidents"})}),!m&&a.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:4,children:"No incidents recorded."})}),a.map(g=>s.jsxs("tr",{className:"cursor-pointer hover:bg-slate-900/40",onClick:()=>j(g.id),children:[s.jsx("td",{className:"px-4 py-3",children:cd(g.timestampUtc)}),s.jsx("td",{className:"px-4 py-3",children:g.type}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${Rx[g.severity]??"bg-slate-700/40 text-slate-200"}`,children:g.severity})}),s.jsx("td",{className:"px-4 py-3",children:g.clientId??""})]},g.id))]})]})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Incident detail"}),c?s.jsxs("div",{className:"mt-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Type"}),s.jsx("div",{children:c.type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Severity"}),s.jsx("div",{children:c.severity})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Timestamp"}),s.jsx("div",{children:cd(c.timestampUtc)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Client"}),s.jsx("div",{children:c.clientId??""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"User"}),s.jsx("div",{children:c.userId??""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Trace"}),s.jsx("div",{children:c.traceId??""})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Detail"}),s.jsx("pre",{className:"mt-2 max-h-64 overflow-auto rounded-md border border-slate-800 bg-slate-950 p-3 text-xs text-slate-200",children:c.detailJson??"{}"})]})]}):s.jsx("p",{className:"mt-4 text-sm text-slate-400",children:"Select an incident to view details."})]})]})]})}function Lx(){const[a,o]=p.useState(""),[c,u]=p.useState(""),[m,f]=p.useState(null),[h,j]=p.useState(null),[g,E]=p.useState(void 0),[P,b]=p.useState({}),w=async v=>{j(null),E(void 0),b({});try{const R=await X(v,{method:"POST",suppressToast:!0});f(R),je({tone:"success",message:"Revocation executed."})}catch(R){const y=We(R);j(y.generalError),E(y.diagnostics),b(y.fieldErrors??{}),R instanceof Re||je({tone:"error",message:"Failed to revoke grants."})}},z=async()=>{await w(`/admin/api/security/revoke/user/${a}`)},O=async()=>{await w(`/admin/api/security/revoke/client/${c}`)},U=async()=>{await w(`/admin/api/security/revoke/user/${a}/client/${c}`)};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Revocation"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Revoke tokens and authorizations by user, client, or both."})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(le,{label:"User ID",error:P?.userId?.[0],children:s.jsx("input",{type:"text",value:a,onChange:v=>o(v.target.value),placeholder:"GUID",className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(le,{label:"Client ID",error:P?.clientId?.[0],children:s.jsx("input",{type:"text",value:c,onChange:v=>u(v.target.value),placeholder:"client-id",className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[s.jsx("button",{type:"button",onClick:z,disabled:!a,className:"rounded-md border border-slate-700 px-3 py-2 text-sm text-slate-200 hover:border-slate-500 disabled:opacity-50",children:"Revoke user grants"}),s.jsx("button",{type:"button",onClick:O,disabled:!c,className:"rounded-md border border-slate-700 px-3 py-2 text-sm text-slate-200 hover:border-slate-500 disabled:opacity-50",children:"Revoke client grants"}),s.jsx("button",{type:"button",onClick:U,disabled:!a||!c,className:"rounded-md border border-rose-500/70 px-3 py-2 text-sm text-rose-200 hover:border-rose-400 disabled:opacity-50",children:"Revoke user + client"})]}),m&&s.jsxs("div",{className:"mt-4 rounded-md border border-slate-800 bg-slate-950/70 p-4 text-sm text-slate-200",children:["Revoked ",m.tokensRevoked," tokens and ",m.authorizationsRevoked," authorizations."]})]}),s.jsx(He,{message:h,diagnostics:g})]})}const Nl=a=>a?new Date(a).toLocaleString():"";function Ix(){const[a,o]=p.useState(null),[c,u]=p.useState(null),[m,f]=p.useState(!0);return p.useEffect(()=>{(async()=>{f(!0);try{const j=await X("/admin/api/security/dataprotection/status");o(j);const g=await X("/admin/api/security/encryption/status");u(g)}finally{f(!1)}})()},[]),m?s.jsx("div",{className:"text-sm text-slate-400",children:"Loading DataProtection status"}):s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Data Protection"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Monitor ASP.NET Core DataProtection key storage and read-only mode."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Persisted"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?.keysPersisted?"Yes":"No"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Read-only"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?.readOnly?"Yes":"No"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Key count"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?.keyCount??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4 md:col-span-2",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Key path"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:a?.keyPath||"Default platform storage"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Latest activation"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:Nl(a?.latestKeyActivationUtc)})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Latest expiration"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:Nl(a?.latestKeyExpirationUtc)})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Encryption key status"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"OpenIddict encryption certificate metadata (no private material shown)."}),s.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Enabled"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:c?.enabled?"Yes":"No"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Source"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:c?.source??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Thumbprint"}),s.jsx("div",{className:"mt-2 break-all text-sm text-slate-200",children:c?.thumbprint??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4 md:col-span-2",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Subject"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:c?.subject??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Not before"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:Nl(c?.notBeforeUtc)})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Not after"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:Nl(c?.notAfterUtc)})]})]})]})]})}const Ux=()=>s.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[s.jsx(ph,{}),s.jsx(Sd,{children:s.jsx("main",{className:"py-10",children:s.jsx(bd,{})})})]}),Dx="/",_x=()=>s.jsxs(Af,{children:[s.jsxs(ue,{element:s.jsx(Ux,{}),children:[s.jsx(ue,{path:"/",element:s.jsx(fh,{})}),s.jsx(ue,{path:"/login",element:s.jsx(hh,{})}),s.jsx(ue,{path:"/mfa",element:s.jsx(bh,{})}),s.jsx(ue,{path:"/register",element:s.jsx(xh,{})}),s.jsx(ue,{path:"/forgot-password",element:s.jsx(gh,{})}),s.jsx(ue,{path:"/reset-password",element:s.jsx(vh,{})}),s.jsx(ue,{path:"/activate",element:s.jsx(yh,{})}),s.jsx(ue,{path:"/account/security",element:s.jsx(Nh,{})}),s.jsx(ue,{path:"/error/403",element:s.jsx(wh,{})}),s.jsx(ue,{path:"/error/404",element:s.jsx(Ju,{})}),s.jsx(ue,{path:"/error/500",element:s.jsx(Sh,{})}),s.jsx(ue,{path:"*",element:s.jsx(Ju,{})})]}),s.jsxs(ue,{path:Ph,element:s.jsx(Ah,{children:s.jsx(Dh,{})}),children:[s.jsx(ue,{index:!0,element:s.jsx(Mh,{})}),s.jsx(ue,{path:"oidc/clients",element:s.jsx(Fh,{})}),s.jsx(ue,{path:"oidc/clients/new",element:s.jsx(Jh,{})}),s.jsx(ue,{path:"oidc/clients/:id",element:s.jsx(qh,{})}),s.jsx(ue,{path:"oidc/scopes",element:s.jsx(Gh,{})}),s.jsx(ue,{path:"oidc/scopes/new",element:s.jsx(Zh,{})}),s.jsx(ue,{path:"oidc/scopes/:id",element:s.jsx(ex,{})}),s.jsx(ue,{path:"oidc/resources",element:s.jsx(tx,{})}),s.jsx(ue,{path:"oidc/resources/new",element:s.jsx(rx,{})}),s.jsx(ue,{path:"oidc/resources/:id",element:s.jsx(nx,{})}),s.jsx(ue,{path:"config/permissions",element:s.jsx(lx,{})}),s.jsx(ue,{path:"config/permissions/new",element:s.jsx(cx,{})}),s.jsx(ue,{path:"config/permissions/:id",element:s.jsx(ux,{})}),s.jsx(ue,{path:"config/roles",element:s.jsx(dx,{})}),s.jsx(ue,{path:"config/roles/:id",element:s.jsx(px,{})}),s.jsx(ue,{path:"config/api-resources",element:s.jsx(mx,{})}),s.jsx(ue,{path:"config/api-resources/new",element:s.jsx(hx,{})}),s.jsx(ue,{path:"config/api-resources/:id",element:s.jsx(xx,{})}),s.jsx(ue,{path:"config/api-resources/:id/endpoints",element:s.jsx(gx,{})}),s.jsx(ue,{path:"users",element:s.jsx(vx,{})}),s.jsx(ue,{path:"users/:id",element:s.jsx(yx,{})}),s.jsx(ue,{path:"audit",element:s.jsx(jx,{})}),s.jsx(ue,{path:"diagnostics/errors",element:s.jsx(Nx,{})}),s.jsx(ue,{path:"diagnostics/errors/:id",element:s.jsx(bx,{})}),s.jsx(ue,{path:"security/keys",element:s.jsx(Sx,{})}),s.jsx(ue,{path:"security/rotation",element:s.jsx(Px,{})}),s.jsx(ue,{path:"security/tokens",element:s.jsx(Ex,{})}),s.jsx(ue,{path:"security/incidents",element:s.jsx(Tx,{})}),s.jsx(ue,{path:"security/revocation",element:s.jsx(Lx,{})}),s.jsx(ue,{path:"security/dataprotection",element:s.jsx(Ix,{})}),s.jsx(ue,{path:"security/signing-keys",element:s.jsx(bl,{to:"security/keys",replace:!0})}),s.jsx(ue,{path:"security/token-policies",element:s.jsx(bl,{to:"security/tokens",replace:!0})}),s.jsx(ue,{path:"*",element:s.jsx(bl,{to:Dx,replace:!0})})]})]});Vm.createRoot(document.getElementById("root")).render(s.jsx(dd.StrictMode,{children:s.jsx(Kf,{basename:kh,children:s.jsx(_x,{})})}));
