function Df(r,i){for(var o=0;o<i.length;o++){const d=i[o];if(typeof d!="string"&&!Array.isArray(d)){for(const m in d)if(m!=="default"&&!(m in r)){const f=Object.getOwnPropertyDescriptor(d,m);f&&Object.defineProperty(r,m,f.get?f:{enumerable:!0,get:()=>d[m]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function o(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(m){if(m.ep)return;m.ep=!0;const f=o(m);fetch(m.href,f)}})();function Yu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mi={exports:{}},fr={},Fi={exports:{}},be={};var uu;function Lf(){if(uu)return be;uu=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function j(R,F,me){this.props=R,this.context=F,this.refs=T,this.updater=me||C}j.prototype.isReactComponent={},j.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function I(){}I.prototype=j.prototype;function v(R,F,me){this.props=R,this.context=F,this.refs=T,this.updater=me||C}var E=v.prototype=new I;E.constructor=v,A(E,j.prototype),E.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,B={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function H(R,F,me){var xe,we={},je=null,O=null;if(F!=null)for(xe in F.ref!==void 0&&(O=F.ref),F.key!==void 0&&(je=""+F.key),F)M.call(F,xe)&&!z.hasOwnProperty(xe)&&(we[xe]=F[xe]);var G=arguments.length-2;if(G===1)we.children=me;else if(1<G){for(var X=Array(G),oe=0;oe<G;oe++)X[oe]=arguments[oe+2];we.children=X}if(R&&R.defaultProps)for(xe in G=R.defaultProps,G)we[xe]===void 0&&(we[xe]=G[xe]);return{$$typeof:r,type:R,key:je,ref:O,props:we,_owner:B.current}}function ue(R,F){return{$$typeof:r,type:R.type,key:F,ref:R.ref,props:R.props,_owner:R._owner}}function Y(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function Z(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(me){return F[me]})}var ye=/\/+/g;function Re(R,F){return typeof R=="object"&&R!==null&&R.key!=null?Z(""+R.key):F.toString(36)}function Ee(R,F,me,xe,we){var je=typeof R;(je==="undefined"||je==="boolean")&&(R=null);var O=!1;if(R===null)O=!0;else switch(je){case"string":case"number":O=!0;break;case"object":switch(R.$$typeof){case r:case i:O=!0}}if(O)return O=R,we=we(O),R=xe===""?"."+Re(O,0):xe,D(we)?(me="",R!=null&&(me=R.replace(ye,"$&/")+"/"),Ee(we,F,me,"",function(oe){return oe})):we!=null&&(Y(we)&&(we=ue(we,me+(!we.key||O&&O.key===we.key?"":(""+we.key).replace(ye,"$&/")+"/")+R)),F.push(we)),1;if(O=0,xe=xe===""?".":xe+":",D(R))for(var G=0;G<R.length;G++){je=R[G];var X=xe+Re(je,G);O+=Ee(je,F,me,X,we)}else if(X=w(R),typeof X=="function")for(R=X.call(R),G=0;!(je=R.next()).done;)je=je.value,X=xe+Re(je,G++),O+=Ee(je,F,me,X,we);else if(je==="object")throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return O}function Ke(R,F,me){if(R==null)return R;var xe=[],we=0;return Ee(R,xe,"","",function(je){return F.call(me,je,we++)}),xe}function Te(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(me){(R._status===0||R._status===-1)&&(R._status=1,R._result=me)},function(me){(R._status===0||R._status===-1)&&(R._status=2,R._result=me)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var Pe={current:null},Q={transition:null},ie={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:B};function $(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Ke,forEach:function(R,F,me){Ke(R,function(){F.apply(this,arguments)},me)},count:function(R){var F=0;return Ke(R,function(){F++}),F},toArray:function(R){return Ke(R,function(F){return F})||[]},only:function(R){if(!Y(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},be.Component=j,be.Fragment=o,be.Profiler=m,be.PureComponent=v,be.StrictMode=d,be.Suspense=x,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,be.act=$,be.cloneElement=function(R,F,me){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var xe=A({},R.props),we=R.key,je=R.ref,O=R._owner;if(F!=null){if(F.ref!==void 0&&(je=F.ref,O=B.current),F.key!==void 0&&(we=""+F.key),R.type&&R.type.defaultProps)var G=R.type.defaultProps;for(X in F)M.call(F,X)&&!z.hasOwnProperty(X)&&(xe[X]=F[X]===void 0&&G!==void 0?G[X]:F[X])}var X=arguments.length-2;if(X===1)xe.children=me;else if(1<X){G=Array(X);for(var oe=0;oe<X;oe++)G[oe]=arguments[oe+2];xe.children=G}return{$$typeof:r,type:R.type,key:we,ref:je,props:xe,_owner:O}},be.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:f,_context:R},R.Consumer=R},be.createElement=H,be.createFactory=function(R){var F=H.bind(null,R);return F.type=R,F},be.createRef=function(){return{current:null}},be.forwardRef=function(R){return{$$typeof:g,render:R}},be.isValidElement=Y,be.lazy=function(R){return{$$typeof:N,_payload:{_status:-1,_result:R},_init:Te}},be.memo=function(R,F){return{$$typeof:S,type:R,compare:F===void 0?null:F}},be.startTransition=function(R){var F=Q.transition;Q.transition={};try{R()}finally{Q.transition=F}},be.unstable_act=$,be.useCallback=function(R,F){return Pe.current.useCallback(R,F)},be.useContext=function(R){return Pe.current.useContext(R)},be.useDebugValue=function(){},be.useDeferredValue=function(R){return Pe.current.useDeferredValue(R)},be.useEffect=function(R,F){return Pe.current.useEffect(R,F)},be.useId=function(){return Pe.current.useId()},be.useImperativeHandle=function(R,F,me){return Pe.current.useImperativeHandle(R,F,me)},be.useInsertionEffect=function(R,F){return Pe.current.useInsertionEffect(R,F)},be.useLayoutEffect=function(R,F){return Pe.current.useLayoutEffect(R,F)},be.useMemo=function(R,F){return Pe.current.useMemo(R,F)},be.useReducer=function(R,F,me){return Pe.current.useReducer(R,F,me)},be.useRef=function(R){return Pe.current.useRef(R)},be.useState=function(R){return Pe.current.useState(R)},be.useSyncExternalStore=function(R,F,me){return Pe.current.useSyncExternalStore(R,F,me)},be.useTransition=function(){return Pe.current.useTransition()},be.version="18.3.1",be}var mu;function oo(){return mu||(mu=1,Fi.exports=Lf()),Fi.exports}var pu;function Af(){if(pu)return fr;pu=1;var r=oo(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,m=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(g,x,S){var N,b={},w=null,C=null;S!==void 0&&(w=""+S),x.key!==void 0&&(w=""+x.key),x.ref!==void 0&&(C=x.ref);for(N in x)d.call(x,N)&&!f.hasOwnProperty(N)&&(b[N]=x[N]);if(g&&g.defaultProps)for(N in x=g.defaultProps,x)b[N]===void 0&&(b[N]=x[N]);return{$$typeof:i,type:g,key:w,ref:C,props:b,_owner:m.current}}return fr.Fragment=o,fr.jsx=h,fr.jsxs=h,fr}var fu;function Uf(){return fu||(fu=1,Mi.exports=Af()),Mi.exports}var s=Uf(),u=oo();const Zu=Yu(u),zf=Df({__proto__:null,default:Zu},[u]);var Da={},$i={exports:{}},xt={},Bi={exports:{}},Vi={};var hu;function _f(){return hu||(hu=1,(function(r){function i(Q,ie){var $=Q.length;Q.push(ie);e:for(;0<$;){var R=$-1>>>1,F=Q[R];if(0<m(F,ie))Q[R]=ie,Q[$]=F,$=R;else break e}}function o(Q){return Q.length===0?null:Q[0]}function d(Q){if(Q.length===0)return null;var ie=Q[0],$=Q.pop();if($!==ie){Q[0]=$;e:for(var R=0,F=Q.length,me=F>>>1;R<me;){var xe=2*(R+1)-1,we=Q[xe],je=xe+1,O=Q[je];if(0>m(we,$))je<F&&0>m(O,we)?(Q[R]=O,Q[je]=$,R=je):(Q[R]=we,Q[xe]=$,R=xe);else if(je<F&&0>m(O,$))Q[R]=O,Q[je]=$,R=je;else break e}}return ie}function m(Q,ie){var $=Q.sortIndex-ie.sortIndex;return $!==0?$:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var x=[],S=[],N=1,b=null,w=3,C=!1,A=!1,T=!1,j=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Q){for(var ie=o(S);ie!==null;){if(ie.callback===null)d(S);else if(ie.startTime<=Q)d(S),ie.sortIndex=ie.expirationTime,i(x,ie);else break;ie=o(S)}}function D(Q){if(T=!1,E(Q),!A)if(o(x)!==null)A=!0,Te(M);else{var ie=o(S);ie!==null&&Pe(D,ie.startTime-Q)}}function M(Q,ie){A=!1,T&&(T=!1,I(H),H=-1),C=!0;var $=w;try{for(E(ie),b=o(x);b!==null&&(!(b.expirationTime>ie)||Q&&!Z());){var R=b.callback;if(typeof R=="function"){b.callback=null,w=b.priorityLevel;var F=R(b.expirationTime<=ie);ie=r.unstable_now(),typeof F=="function"?b.callback=F:b===o(x)&&d(x),E(ie)}else d(x);b=o(x)}if(b!==null)var me=!0;else{var xe=o(S);xe!==null&&Pe(D,xe.startTime-ie),me=!1}return me}finally{b=null,w=$,C=!1}}var B=!1,z=null,H=-1,ue=5,Y=-1;function Z(){return!(r.unstable_now()-Y<ue)}function ye(){if(z!==null){var Q=r.unstable_now();Y=Q;var ie=!0;try{ie=z(!0,Q)}finally{ie?Re():(B=!1,z=null)}}else B=!1}var Re;if(typeof v=="function")Re=function(){v(ye)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ke=Ee.port2;Ee.port1.onmessage=ye,Re=function(){Ke.postMessage(null)}}else Re=function(){j(ye,0)};function Te(Q){z=Q,B||(B=!0,Re())}function Pe(Q,ie){H=j(function(){Q(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){A||C||(A=!0,Te(M))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return o(x)},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var $=w;w=ie;try{return Q()}finally{w=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var $=w;w=Q;try{return ie()}finally{w=$}},r.unstable_scheduleCallback=function(Q,ie,$){var R=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?R+$:R):$=R,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=$+F,Q={id:N++,callback:ie,priorityLevel:Q,startTime:$,expirationTime:F,sortIndex:-1},$>R?(Q.sortIndex=$,i(S,Q),o(x)===null&&Q===o(S)&&(T?(I(H),H=-1):T=!0,Pe(D,$-R))):(Q.sortIndex=F,i(x,Q),A||C||(A=!0,Te(M))),Q},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(Q){var ie=w;return function(){var $=w;w=ie;try{return Q.apply(this,arguments)}finally{w=$}}}})(Vi)),Vi}var xu;function Of(){return xu||(xu=1,Bi.exports=_f()),Bi.exports}var gu;function Mf(){if(gu)return xt;gu=1;var r=oo(),i=Of();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,m={};function f(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(m[e]=t,e=0;e<t.length;e++)d.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},b={};function w(e){return x.call(b,e)?!0:x.call(N,e)?!1:S.test(e)?b[e]=!0:(N[e]=!0,!1)}function C(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,n,a){if(t===null||typeof t>"u"||C(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,n,a,l,c,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=p}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,v);j[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,v);j[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,v);j[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,t,n,a){var l=j.hasOwnProperty(t)?j[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,n,l,a)&&(n=null),a||l===null?w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,a=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),B=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,R;function F(e){if(R===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return`
`+R+e}var me=!1;function xe(e,t){if(!e||me)return"";me=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var a=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){a=_}e.call(t.prototype)}else{try{throw Error()}catch(_){a=_}e()}}catch(_){if(_&&a&&typeof _.stack=="string"){for(var l=_.stack.split(`
`),c=a.stack.split(`
`),p=l.length-1,y=c.length-1;1<=p&&0<=y&&l[p]!==c[y];)y--;for(;1<=p&&0<=y;p--,y--)if(l[p]!==c[y]){if(p!==1||y!==1)do if(p--,y--,0>y||l[p]!==c[y]){var k=`
`+l[p].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=p&&0<=y);break}}}finally{me=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function we(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1),e;case 11:return e=xe(e.type.render,!1),e;case 1:return e=xe(e.type,!0),e;default:return""}}function je(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case B:return"Portal";case ue:return"Profiler";case H:return"StrictMode";case Re:return"Suspense";case Ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ke:return t=e.displayName||null,t!==null?t:je(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return je(e(t))}catch{}}return null}function O(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(t);case 8:return t===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oe(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){a=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qt(e){e._valueTracker||(e._valueTracker=oe(e))}function ls(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=X(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Mt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function En(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nr(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=G(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fe(e,t){t=t.checked,t!=null&&E(e,"checked",t,!1)}function ke(e,t){fe(e,t);var n=G(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pn(e,t.type,G(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pn(e,t,n){(t!=="number"||Mt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rn=Array.isArray;function Gs(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ja(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(Rn(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function wo(e,t){var n=G(t.value),a=G(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function No(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function So(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?So(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sr,ko=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Um=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(e){Um.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),In[t]=In[e]})});function Co(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||In.hasOwnProperty(e)&&In[e]?(""+t).trim():t+"px"}function Eo(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,l=Co(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,l):e[n]=l}}var zm=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(e,t){if(t){if(zm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Za(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xa=null;function el(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,Js=null,Qs=null;function Po(e){if(e=Xn(e)){if(typeof tl!="function")throw Error(o(280));var t=e.stateNode;t&&(t=qr(t),tl(e.stateNode,e.type,t))}}function Ro(e){Js?Qs?Qs.push(e):Qs=[e]:Js=e}function To(){if(Js){var e=Js,t=Qs;if(Qs=Js=null,Po(e),t)for(e=0;e<t.length;e++)Po(t[e])}}function Io(e,t){return e(t)}function Do(){}var sl=!1;function Lo(e,t,n){if(sl)return e(t,n);sl=!0;try{return Io(e,t,n)}finally{sl=!1,(Js!==null||Qs!==null)&&(Do(),To())}}function Dn(e,t){var n=e.stateNode;if(n===null)return null;var a=qr(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var nl=!1;if(g)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{nl=!1}function _m(e,t,n,a,l,c,p,y,k){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(K){this.onError(K)}}var An=!1,kr=null,Cr=!1,rl=null,Om={onError:function(e){An=!0,kr=e}};function Mm(e,t,n,a,l,c,p,y,k){An=!1,kr=null,_m.apply(Om,arguments)}function Fm(e,t,n,a,l,c,p,y,k){if(Mm.apply(this,arguments),An){if(An){var _=kr;An=!1,kr=null}else throw Error(o(198));Cr||(Cr=!0,rl=_)}}function Is(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ao(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uo(e){if(Is(e)!==e)throw Error(o(188))}function $m(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return Uo(l),e;if(c===a)return Uo(l),t;c=c.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=c;else{for(var p=!1,y=l.child;y;){if(y===n){p=!0,n=l,a=c;break}if(y===a){p=!0,a=l,n=c;break}y=y.sibling}if(!p){for(y=c.child;y;){if(y===n){p=!0,n=c,a=l;break}if(y===a){p=!0,a=c,n=l;break}y=y.sibling}if(!p)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function zo(e){return e=$m(e),e!==null?_o(e):null}function _o(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_o(e);if(t!==null)return t;e=e.sibling}return null}var Oo=i.unstable_scheduleCallback,Mo=i.unstable_cancelCallback,Bm=i.unstable_shouldYield,Vm=i.unstable_requestPaint,He=i.unstable_now,Km=i.unstable_getCurrentPriorityLevel,al=i.unstable_ImmediatePriority,Fo=i.unstable_UserBlockingPriority,Er=i.unstable_NormalPriority,Hm=i.unstable_LowPriority,$o=i.unstable_IdlePriority,Pr=null,Ft=null;function Wm(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Pr,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:Jm,qm=Math.log,Gm=Math.LN2;function Jm(e){return e>>>=0,e===0?32:31-(qm(e)/Gm|0)|0}var Rr=64,Tr=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ir(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,l=e.suspendedLanes,c=e.pingedLanes,p=n&268435455;if(p!==0){var y=p&~l;y!==0?a=Un(y):(c&=p,c!==0&&(a=Un(c)))}else p=n&~l,p!==0?a=Un(p):c!==0&&(a=Un(c));if(a===0)return 0;if(t!==0&&t!==a&&(t&l)===0&&(l=a&-a,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-It(t),l=1<<n,a|=e[n],t&=~l;return a}function Qm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ym(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var p=31-It(c),y=1<<p,k=l[p];k===-1?((y&n)===0||(y&a)!==0)&&(l[p]=Qm(y,t)):k<=t&&(e.expiredLanes|=y),c&=~y}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bo(){var e=Rr;return Rr<<=1,(Rr&4194240)===0&&(Rr=64),e}function il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=n}function Zm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-It(n),c=1<<l;t[l]=0,a[l]=-1,e[l]=-1,n&=~c}}function ol(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-It(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}var Ie=0;function Vo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ko,cl,Ho,Wo,qo,dl=!1,Dr=[],is=null,os=null,cs=null,_n=new Map,On=new Map,ds=[],Xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Go(e,t){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":_n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function Mn(e,t,n,a,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Xn(t),t!==null&&cl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ep(e,t,n,a,l){switch(t){case"focusin":return is=Mn(is,e,t,n,a,l),!0;case"dragenter":return os=Mn(os,e,t,n,a,l),!0;case"mouseover":return cs=Mn(cs,e,t,n,a,l),!0;case"pointerover":var c=l.pointerId;return _n.set(c,Mn(_n.get(c)||null,e,t,n,a,l)),!0;case"gotpointercapture":return c=l.pointerId,On.set(c,Mn(On.get(c)||null,e,t,n,a,l)),!0}return!1}function Jo(e){var t=Ds(e.target);if(t!==null){var n=Is(t);if(n!==null){if(t=n.tag,t===13){if(t=Ao(n),t!==null){e.blockedOn=t,qo(e.priority,function(){Ho(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Xa=a,n.target.dispatchEvent(a),Xa=null}else return t=Xn(n),t!==null&&cl(t),e.blockedOn=n,!1;t.shift()}return!0}function Qo(e,t,n){Lr(e)&&n.delete(t)}function tp(){dl=!1,is!==null&&Lr(is)&&(is=null),os!==null&&Lr(os)&&(os=null),cs!==null&&Lr(cs)&&(cs=null),_n.forEach(Qo),On.forEach(Qo)}function Fn(e,t){e.blockedOn===t&&(e.blockedOn=null,dl||(dl=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tp)))}function $n(e){function t(l){return Fn(l,e)}if(0<Dr.length){Fn(Dr[0],e);for(var n=1;n<Dr.length;n++){var a=Dr[n];a.blockedOn===e&&(a.blockedOn=null)}}for(is!==null&&Fn(is,e),os!==null&&Fn(os,e),cs!==null&&Fn(cs,e),_n.forEach(t),On.forEach(t),n=0;n<ds.length;n++)a=ds[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)Jo(n),n.blockedOn===null&&ds.shift()}var Ys=D.ReactCurrentBatchConfig,Ar=!0;function sp(e,t,n,a){var l=Ie,c=Ys.transition;Ys.transition=null;try{Ie=1,ul(e,t,n,a)}finally{Ie=l,Ys.transition=c}}function np(e,t,n,a){var l=Ie,c=Ys.transition;Ys.transition=null;try{Ie=4,ul(e,t,n,a)}finally{Ie=l,Ys.transition=c}}function ul(e,t,n,a){if(Ar){var l=ml(e,t,n,a);if(l===null)Rl(e,t,a,Ur,n),Go(e,a);else if(ep(l,e,t,n,a))a.stopPropagation();else if(Go(e,a),t&4&&-1<Xm.indexOf(e)){for(;l!==null;){var c=Xn(l);if(c!==null&&Ko(c),c=ml(e,t,n,a),c===null&&Rl(e,t,a,Ur,n),c===l)break;l=c}l!==null&&a.stopPropagation()}else Rl(e,t,a,null,n)}}var Ur=null;function ml(e,t,n,a){if(Ur=null,e=el(a),e=Ds(e),e!==null)if(t=Is(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ao(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ur=e,null}function Yo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Km()){case al:return 1;case Fo:return 4;case Er:case Hm:return 16;case $o:return 536870912;default:return 16}default:return 16}}var us=null,pl=null,zr=null;function Zo(){if(zr)return zr;var e,t=pl,n=t.length,a,l="value"in us?us.value:us.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===l[c-a];a++);return zr=l.slice(e,1<a?1-a:void 0)}function _r(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function Xo(){return!1}function yt(e){function t(n,a,l,c,p){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Or:Xo,this.isPropagationStopped=Xo,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),t}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=yt(Zs),Bn=$({},Zs,{view:0,detail:0}),rp=yt(Bn),hl,xl,Vn,Mr=$({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(hl=e.screenX-Vn.screenX,xl=e.screenY-Vn.screenY):xl=hl=0,Vn=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),ec=yt(Mr),ap=$({},Mr,{dataTransfer:0}),lp=yt(ap),ip=$({},Bn,{relatedTarget:0}),gl=yt(ip),op=$({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),cp=yt(op),dp=$({},Zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),up=yt(dp),mp=$({},Zs,{data:0}),tc=yt(mp),pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hp[e])?!!t[e]:!1}function yl(){return xp}var gp=$({},Bn,{key:function(e){if(e.key){var t=pp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yp=yt(gp),vp=$({},Mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=yt(vp),jp=$({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),bp=yt(jp),wp=$({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Np=yt(wp),Sp=$({},Mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=yt(Sp),Cp=[9,13,27,32],vl=g&&"CompositionEvent"in window,Kn=null;g&&"documentMode"in document&&(Kn=document.documentMode);var Ep=g&&"TextEvent"in window&&!Kn,nc=g&&(!vl||Kn&&8<Kn&&11>=Kn),rc=" ",ac=!1;function lc(e,t){switch(e){case"keyup":return Cp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xs=!1;function Pp(e,t){switch(e){case"compositionend":return ic(t);case"keypress":return t.which!==32?null:(ac=!0,rc);case"textInput":return e=t.data,e===rc&&ac?null:e;default:return null}}function Rp(e,t){if(Xs)return e==="compositionend"||!vl&&lc(e,t)?(e=Zo(),zr=pl=us=null,Xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nc&&t.locale!=="ko"?null:t.data;default:return null}}var Tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tp[e.type]:t==="textarea"}function cc(e,t,n,a){Ro(a),t=Kr(t,"onChange"),0<t.length&&(n=new fl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Ip(e){Ec(e,0)}function Fr(e){var t=rn(e);if(ls(t))return e}function Dp(e,t){if(e==="change")return t}var dc=!1;if(g){var jl;if(g){var bl="oninput"in document;if(!bl){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),bl=typeof uc.oninput=="function"}jl=bl}else jl=!1;dc=jl&&(!document.documentMode||9<document.documentMode)}function mc(){Hn&&(Hn.detachEvent("onpropertychange",pc),Wn=Hn=null)}function pc(e){if(e.propertyName==="value"&&Fr(Wn)){var t=[];cc(t,Wn,e,el(e)),Lo(Ip,t)}}function Lp(e,t,n){e==="focusin"?(mc(),Hn=t,Wn=n,Hn.attachEvent("onpropertychange",pc)):e==="focusout"&&mc()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fr(Wn)}function Up(e,t){if(e==="click")return Fr(t)}function zp(e,t){if(e==="input"||e==="change")return Fr(t)}function _p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:_p;function qn(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!x.call(t,l)||!Dt(e[l],t[l]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var n=fc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gc(){for(var e=window,t=Mt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mt(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Op(e){var t=gc(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xc(n.ownerDocument.documentElement,n)){if(a!==null&&wl(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(a.start,l);a=a.end===void 0?c:Math.min(a.end,l),!e.extend&&c>a&&(l=a,a=c,c=l),l=hc(n,c);var p=hc(n,a);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>a?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=g&&"documentMode"in document&&11>=document.documentMode,en=null,Nl=null,Gn=null,Sl=!1;function yc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sl||en==null||en!==Mt(a)||(a=en,"selectionStart"in a&&wl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Gn&&qn(Gn,a)||(Gn=a,a=Kr(Nl,"onSelect"),0<a.length&&(t=new fl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=en)))}function $r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tn={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionend:$r("Transition","TransitionEnd")},kl={},vc={};g&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete tn.animationend.animation,delete tn.animationiteration.animation,delete tn.animationstart.animation),"TransitionEvent"in window||delete tn.transitionend.transition);function Br(e){if(kl[e])return kl[e];if(!tn[e])return e;var t=tn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vc)return kl[e]=t[n];return e}var jc=Br("animationend"),bc=Br("animationiteration"),wc=Br("animationstart"),Nc=Br("transitionend"),Sc=new Map,kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(e,t){Sc.set(e,t),f(t,[e])}for(var Cl=0;Cl<kc.length;Cl++){var El=kc[Cl],Fp=El.toLowerCase(),$p=El[0].toUpperCase()+El.slice(1);ms(Fp,"on"+$p)}ms(jc,"onAnimationEnd"),ms(bc,"onAnimationIteration"),ms(wc,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(Nc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function Cc(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Fm(a,t,void 0,e),e.currentTarget=null}function Ec(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var p=a.length-1;0<=p;p--){var y=a[p],k=y.instance,_=y.currentTarget;if(y=y.listener,k!==c&&l.isPropagationStopped())break e;Cc(l,y,_),c=k}else for(p=0;p<a.length;p++){if(y=a[p],k=y.instance,_=y.currentTarget,y=y.listener,k!==c&&l.isPropagationStopped())break e;Cc(l,y,_),c=k}}}if(Cr)throw e=rl,Cr=!1,rl=null,e}function Ae(e,t){var n=t[Ul];n===void 0&&(n=t[Ul]=new Set);var a=e+"__bubble";n.has(a)||(Pc(t,e,2,!1),n.add(a))}function Pl(e,t,n){var a=0;t&&(a|=4),Pc(n,e,a,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Qn(e){if(!e[Vr]){e[Vr]=!0,d.forEach(function(n){n!=="selectionchange"&&(Bp.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vr]||(t[Vr]=!0,Pl("selectionchange",!1,t))}}function Pc(e,t,n,a){switch(Yo(t)){case 1:var l=sp;break;case 4:l=np;break;default:l=ul}n=l.bind(null,t,n,e),l=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Rl(e,t,n,a,l){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var y=a.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(p===4)for(p=a.return;p!==null;){var k=p.tag;if((k===3||k===4)&&(k=p.stateNode.containerInfo,k===l||k.nodeType===8&&k.parentNode===l))return;p=p.return}for(;y!==null;){if(p=Ds(y),p===null)return;if(k=p.tag,k===5||k===6){a=c=p;continue e}y=y.parentNode}}a=a.return}Lo(function(){var _=c,K=el(n),W=[];e:{var V=Sc.get(e);if(V!==void 0){var ee=fl,se=e;switch(e){case"keypress":if(_r(n)===0)break e;case"keydown":case"keyup":ee=yp;break;case"focusin":se="focus",ee=gl;break;case"focusout":se="blur",ee=gl;break;case"beforeblur":case"afterblur":ee=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=bp;break;case jc:case bc:case wc:ee=cp;break;case Nc:ee=Np;break;case"scroll":ee=rp;break;case"wheel":ee=kp;break;case"copy":case"cut":case"paste":ee=up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=sc}var ae=(t&4)!==0,We=!ae&&e==="scroll",L=ae?V!==null?V+"Capture":null:V;ae=[];for(var P=_,U;P!==null;){U=P;var q=U.stateNode;if(U.tag===5&&q!==null&&(U=q,L!==null&&(q=Dn(P,L),q!=null&&ae.push(Yn(P,q,U)))),We)break;P=P.return}0<ae.length&&(V=new ee(V,se,null,n,K),W.push({event:V,listeners:ae}))}}if((t&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",V&&n!==Xa&&(se=n.relatedTarget||n.fromElement)&&(Ds(se)||se[Gt]))break e;if((ee||V)&&(V=K.window===K?K:(V=K.ownerDocument)?V.defaultView||V.parentWindow:window,ee?(se=n.relatedTarget||n.toElement,ee=_,se=se?Ds(se):null,se!==null&&(We=Is(se),se!==We||se.tag!==5&&se.tag!==6)&&(se=null)):(ee=null,se=_),ee!==se)){if(ae=ec,q="onMouseLeave",L="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(ae=sc,q="onPointerLeave",L="onPointerEnter",P="pointer"),We=ee==null?V:rn(ee),U=se==null?V:rn(se),V=new ae(q,P+"leave",ee,n,K),V.target=We,V.relatedTarget=U,q=null,Ds(K)===_&&(ae=new ae(L,P+"enter",se,n,K),ae.target=U,ae.relatedTarget=We,q=ae),We=q,ee&&se)t:{for(ae=ee,L=se,P=0,U=ae;U;U=sn(U))P++;for(U=0,q=L;q;q=sn(q))U++;for(;0<P-U;)ae=sn(ae),P--;for(;0<U-P;)L=sn(L),U--;for(;P--;){if(ae===L||L!==null&&ae===L.alternate)break t;ae=sn(ae),L=sn(L)}ae=null}else ae=null;ee!==null&&Rc(W,V,ee,ae,!1),se!==null&&We!==null&&Rc(W,We,se,ae,!0)}}e:{if(V=_?rn(_):window,ee=V.nodeName&&V.nodeName.toLowerCase(),ee==="select"||ee==="input"&&V.type==="file")var le=Dp;else if(oc(V))if(dc)le=zp;else{le=Ap;var ce=Lp}else(ee=V.nodeName)&&ee.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(le=Up);if(le&&(le=le(e,_))){cc(W,le,n,K);break e}ce&&ce(e,V,_),e==="focusout"&&(ce=V._wrapperState)&&ce.controlled&&V.type==="number"&&Pn(V,"number",V.value)}switch(ce=_?rn(_):window,e){case"focusin":(oc(ce)||ce.contentEditable==="true")&&(en=ce,Nl=_,Gn=null);break;case"focusout":Gn=Nl=en=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,yc(W,n,K);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":yc(W,n,K)}var de;if(vl)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Xs?lc(e,n)&&(pe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(pe="onCompositionStart");pe&&(nc&&n.locale!=="ko"&&(Xs||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Xs&&(de=Zo()):(us=K,pl="value"in us?us.value:us.textContent,Xs=!0)),ce=Kr(_,pe),0<ce.length&&(pe=new tc(pe,e,null,n,K),W.push({event:pe,listeners:ce}),de?pe.data=de:(de=ic(n),de!==null&&(pe.data=de)))),(de=Ep?Pp(e,n):Rp(e,n))&&(_=Kr(_,"onBeforeInput"),0<_.length&&(K=new tc("onBeforeInput","beforeinput",null,n,K),W.push({event:K,listeners:_}),K.data=de))}Ec(W,t)})}function Yn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Dn(e,n),c!=null&&a.unshift(Yn(e,c,l)),c=Dn(e,t),c!=null&&a.push(Yn(e,c,l))),e=e.return}return a}function sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rc(e,t,n,a,l){for(var c=t._reactName,p=[];n!==null&&n!==a;){var y=n,k=y.alternate,_=y.stateNode;if(k!==null&&k===a)break;y.tag===5&&_!==null&&(y=_,l?(k=Dn(n,c),k!=null&&p.unshift(Yn(n,k,y))):l||(k=Dn(n,c),k!=null&&p.push(Yn(n,k,y)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Vp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function Tc(e){return(typeof e=="string"?e:""+e).replace(Vp,`
`).replace(Kp,"")}function Hr(e,t,n){if(t=Tc(t),Tc(e)!==t&&n)throw Error(o(425))}function Wr(){}var Tl=null,Il=null;function Dl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Ic=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ic<"u"?function(e){return Ic.resolve(null).then(e).catch(qp)}:Ll;function qp(e){setTimeout(function(){throw e})}function Al(e,t){var n=t,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(a===0){e.removeChild(l),$n(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=l}while(n);$n(t)}function ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),$t="__reactFiber$"+nn,Zn="__reactProps$"+nn,Gt="__reactContainer$"+nn,Ul="__reactEvents$"+nn,Gp="__reactListeners$"+nn,Jp="__reactHandles$"+nn;function Ds(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dc(e);e!==null;){if(n=e[$t])return n;e=Dc(e)}return t}e=n,n=e.parentNode}return null}function Xn(e){return e=e[$t]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function qr(e){return e[Zn]||null}var zl=[],an=-1;function fs(e){return{current:e}}function Ue(e){0>an||(e.current=zl[an],zl[an]=null,an--)}function Le(e,t){an++,zl[an]=e.current,e.current=t}var hs={},rt=fs(hs),ut=fs(!1),Ls=hs;function ln(e,t){var n=e.type.contextTypes;if(!n)return hs;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function mt(e){return e=e.childContextTypes,e!=null}function Gr(){Ue(ut),Ue(rt)}function Lc(e,t,n){if(rt.current!==hs)throw Error(o(168));Le(rt,t),Le(ut,n)}function Ac(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(o(108,O(e)||"Unknown",l));return $({},n,a)}function Jr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,Ls=rt.current,Le(rt,e),Le(ut,ut.current),!0}function Uc(e,t,n){var a=e.stateNode;if(!a)throw Error(o(169));n?(e=Ac(e,t,Ls),a.__reactInternalMemoizedMergedChildContext=e,Ue(ut),Ue(rt),Le(rt,e)):Ue(ut),Le(ut,n)}var Jt=null,Qr=!1,_l=!1;function zc(e){Jt===null?Jt=[e]:Jt.push(e)}function Qp(e){Qr=!0,zc(e)}function xs(){if(!_l&&Jt!==null){_l=!0;var e=0,t=Ie;try{var n=Jt;for(Ie=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Jt=null,Qr=!1}catch(l){throw Jt!==null&&(Jt=Jt.slice(e+1)),Oo(al,xs),l}finally{Ie=t,_l=!1}}return null}var on=[],cn=0,Yr=null,Zr=0,kt=[],Ct=0,As=null,Qt=1,Yt="";function Us(e,t){on[cn++]=Zr,on[cn++]=Yr,Yr=e,Zr=t}function _c(e,t,n){kt[Ct++]=Qt,kt[Ct++]=Yt,kt[Ct++]=As,As=e;var a=Qt;e=Yt;var l=32-It(a)-1;a&=~(1<<l),n+=1;var c=32-It(t)+l;if(30<c){var p=l-l%5;c=(a&(1<<p)-1).toString(32),a>>=p,l-=p,Qt=1<<32-It(t)+l|n<<l|a,Yt=c+e}else Qt=1<<c|n<<l|a,Yt=e}function Ol(e){e.return!==null&&(Us(e,1),_c(e,1,0))}function Ml(e){for(;e===Yr;)Yr=on[--cn],on[cn]=null,Zr=on[--cn],on[cn]=null;for(;e===As;)As=kt[--Ct],kt[Ct]=null,Yt=kt[--Ct],kt[Ct]=null,Qt=kt[--Ct],kt[Ct]=null}var vt=null,jt=null,ze=!1,Lt=null;function Oc(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,jt=ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=As!==null?{id:Qt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,jt=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(ze){var t=jt;if(t){var n=t;if(!Mc(e,t)){if(Fl(e))throw Error(o(418));t=ps(n.nextSibling);var a=vt;t&&Mc(e,t)?Oc(a,n):(e.flags=e.flags&-4097|2,ze=!1,vt=e)}}else{if(Fl(e))throw Error(o(418));e.flags=e.flags&-4097|2,ze=!1,vt=e}}}function Fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Xr(e){if(e!==vt)return!1;if(!ze)return Fc(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dl(e.type,e.memoizedProps)),t&&(t=jt)){if(Fl(e))throw $c(),Error(o(418));for(;t;)Oc(e,t),t=ps(t.nextSibling)}if(Fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=ps(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=vt?ps(e.stateNode.nextSibling):null;return!0}function $c(){for(var e=jt;e;)e=ps(e.nextSibling)}function dn(){jt=vt=null,ze=!1}function Bl(e){Lt===null?Lt=[e]:Lt.push(e)}var Yp=D.ReactCurrentBatchConfig;function er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var a=n.stateNode}if(!a)throw Error(o(147,e));var l=a,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(p){var y=l.refs;p===null?delete y[c]:y[c]=p},t._stringRef=c,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bc(e){var t=e._init;return t(e._payload)}function Vc(e){function t(L,P){if(e){var U=L.deletions;U===null?(L.deletions=[P],L.flags|=16):U.push(P)}}function n(L,P){if(!e)return null;for(;P!==null;)t(L,P),P=P.sibling;return null}function a(L,P){for(L=new Map;P!==null;)P.key!==null?L.set(P.key,P):L.set(P.index,P),P=P.sibling;return L}function l(L,P){return L=Ss(L,P),L.index=0,L.sibling=null,L}function c(L,P,U){return L.index=U,e?(U=L.alternate,U!==null?(U=U.index,U<P?(L.flags|=2,P):U):(L.flags|=2,P)):(L.flags|=1048576,P)}function p(L){return e&&L.alternate===null&&(L.flags|=2),L}function y(L,P,U,q){return P===null||P.tag!==6?(P=Li(U,L.mode,q),P.return=L,P):(P=l(P,U),P.return=L,P)}function k(L,P,U,q){var le=U.type;return le===z?K(L,P,U.props.children,q,U.key):P!==null&&(P.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Te&&Bc(le)===P.type)?(q=l(P,U.props),q.ref=er(L,P,U),q.return=L,q):(q=Sa(U.type,U.key,U.props,null,L.mode,q),q.ref=er(L,P,U),q.return=L,q)}function _(L,P,U,q){return P===null||P.tag!==4||P.stateNode.containerInfo!==U.containerInfo||P.stateNode.implementation!==U.implementation?(P=Ai(U,L.mode,q),P.return=L,P):(P=l(P,U.children||[]),P.return=L,P)}function K(L,P,U,q,le){return P===null||P.tag!==7?(P=Vs(U,L.mode,q,le),P.return=L,P):(P=l(P,U),P.return=L,P)}function W(L,P,U){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Li(""+P,L.mode,U),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case M:return U=Sa(P.type,P.key,P.props,null,L.mode,U),U.ref=er(L,null,P),U.return=L,U;case B:return P=Ai(P,L.mode,U),P.return=L,P;case Te:var q=P._init;return W(L,q(P._payload),U)}if(Rn(P)||ie(P))return P=Vs(P,L.mode,U,null),P.return=L,P;ea(L,P)}return null}function V(L,P,U,q){var le=P!==null?P.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return le!==null?null:y(L,P,""+U,q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case M:return U.key===le?k(L,P,U,q):null;case B:return U.key===le?_(L,P,U,q):null;case Te:return le=U._init,V(L,P,le(U._payload),q)}if(Rn(U)||ie(U))return le!==null?null:K(L,P,U,q,null);ea(L,U)}return null}function ee(L,P,U,q,le){if(typeof q=="string"&&q!==""||typeof q=="number")return L=L.get(U)||null,y(P,L,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return L=L.get(q.key===null?U:q.key)||null,k(P,L,q,le);case B:return L=L.get(q.key===null?U:q.key)||null,_(P,L,q,le);case Te:var ce=q._init;return ee(L,P,U,ce(q._payload),le)}if(Rn(q)||ie(q))return L=L.get(U)||null,K(P,L,q,le,null);ea(P,q)}return null}function se(L,P,U,q){for(var le=null,ce=null,de=P,pe=P=0,et=null;de!==null&&pe<U.length;pe++){de.index>pe?(et=de,de=null):et=de.sibling;var Ce=V(L,de,U[pe],q);if(Ce===null){de===null&&(de=et);break}e&&de&&Ce.alternate===null&&t(L,de),P=c(Ce,P,pe),ce===null?le=Ce:ce.sibling=Ce,ce=Ce,de=et}if(pe===U.length)return n(L,de),ze&&Us(L,pe),le;if(de===null){for(;pe<U.length;pe++)de=W(L,U[pe],q),de!==null&&(P=c(de,P,pe),ce===null?le=de:ce.sibling=de,ce=de);return ze&&Us(L,pe),le}for(de=a(L,de);pe<U.length;pe++)et=ee(de,L,pe,U[pe],q),et!==null&&(e&&et.alternate!==null&&de.delete(et.key===null?pe:et.key),P=c(et,P,pe),ce===null?le=et:ce.sibling=et,ce=et);return e&&de.forEach(function(ks){return t(L,ks)}),ze&&Us(L,pe),le}function ae(L,P,U,q){var le=ie(U);if(typeof le!="function")throw Error(o(150));if(U=le.call(U),U==null)throw Error(o(151));for(var ce=le=null,de=P,pe=P=0,et=null,Ce=U.next();de!==null&&!Ce.done;pe++,Ce=U.next()){de.index>pe?(et=de,de=null):et=de.sibling;var ks=V(L,de,Ce.value,q);if(ks===null){de===null&&(de=et);break}e&&de&&ks.alternate===null&&t(L,de),P=c(ks,P,pe),ce===null?le=ks:ce.sibling=ks,ce=ks,de=et}if(Ce.done)return n(L,de),ze&&Us(L,pe),le;if(de===null){for(;!Ce.done;pe++,Ce=U.next())Ce=W(L,Ce.value,q),Ce!==null&&(P=c(Ce,P,pe),ce===null?le=Ce:ce.sibling=Ce,ce=Ce);return ze&&Us(L,pe),le}for(de=a(L,de);!Ce.done;pe++,Ce=U.next())Ce=ee(de,L,pe,Ce.value,q),Ce!==null&&(e&&Ce.alternate!==null&&de.delete(Ce.key===null?pe:Ce.key),P=c(Ce,P,pe),ce===null?le=Ce:ce.sibling=Ce,ce=Ce);return e&&de.forEach(function(If){return t(L,If)}),ze&&Us(L,pe),le}function We(L,P,U,q){if(typeof U=="object"&&U!==null&&U.type===z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case M:e:{for(var le=U.key,ce=P;ce!==null;){if(ce.key===le){if(le=U.type,le===z){if(ce.tag===7){n(L,ce.sibling),P=l(ce,U.props.children),P.return=L,L=P;break e}}else if(ce.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Te&&Bc(le)===ce.type){n(L,ce.sibling),P=l(ce,U.props),P.ref=er(L,ce,U),P.return=L,L=P;break e}n(L,ce);break}else t(L,ce);ce=ce.sibling}U.type===z?(P=Vs(U.props.children,L.mode,q,U.key),P.return=L,L=P):(q=Sa(U.type,U.key,U.props,null,L.mode,q),q.ref=er(L,P,U),q.return=L,L=q)}return p(L);case B:e:{for(ce=U.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===U.containerInfo&&P.stateNode.implementation===U.implementation){n(L,P.sibling),P=l(P,U.children||[]),P.return=L,L=P;break e}else{n(L,P);break}else t(L,P);P=P.sibling}P=Ai(U,L.mode,q),P.return=L,L=P}return p(L);case Te:return ce=U._init,We(L,P,ce(U._payload),q)}if(Rn(U))return se(L,P,U,q);if(ie(U))return ae(L,P,U,q);ea(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,P!==null&&P.tag===6?(n(L,P.sibling),P=l(P,U),P.return=L,L=P):(n(L,P),P=Li(U,L.mode,q),P.return=L,L=P),p(L)):n(L,P)}return We}var un=Vc(!0),Kc=Vc(!1),ta=fs(null),sa=null,mn=null,Vl=null;function Kl(){Vl=mn=sa=null}function Hl(e){var t=ta.current;Ue(ta),e._currentValue=t}function Wl(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function pn(e,t){sa=e,Vl=mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(pt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Vl!==e)if(e={context:e,memoizedValue:t,next:null},mn===null){if(sa===null)throw Error(o(308));mn=e,sa.dependencies={lanes:0,firstContext:e}}else mn=mn.next=e;return t}var zs=null;function ql(e){zs===null?zs=[e]:zs.push(e)}function Hc(e,t,n,a){var l=t.interleaved;return l===null?(n.next=n,ql(t)):(n.next=l.next,l.next=n),t.interleaved=n,Zt(e,a)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gs=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ys(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Se&2)!==0){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Zt(e,n)}return l=a.interleaved,l===null?(t.next=t,ql(a)):(t.next=l.next,l.next=t),a.interleaved=t,Zt(e,n)}function na(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ol(e,n)}}function qc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=p:c=c.next=p,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ra(e,t,n,a){var l=e.updateQueue;gs=!1;var c=l.firstBaseUpdate,p=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var k=y,_=k.next;k.next=null,p===null?c=_:p.next=_,p=k;var K=e.alternate;K!==null&&(K=K.updateQueue,y=K.lastBaseUpdate,y!==p&&(y===null?K.firstBaseUpdate=_:y.next=_,K.lastBaseUpdate=k))}if(c!==null){var W=l.baseState;p=0,K=_=k=null,y=c;do{var V=y.lane,ee=y.eventTime;if((a&V)===V){K!==null&&(K=K.next={eventTime:ee,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var se=e,ae=y;switch(V=t,ee=n,ae.tag){case 1:if(se=ae.payload,typeof se=="function"){W=se.call(ee,W,V);break e}W=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,V=typeof se=="function"?se.call(ee,W,V):se,V==null)break e;W=$({},W,V);break e;case 2:gs=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,V=l.effects,V===null?l.effects=[y]:V.push(y))}else ee={eventTime:ee,lane:V,tag:y.tag,payload:y.payload,callback:y.callback,next:null},K===null?(_=K=ee,k=W):K=K.next=ee,p|=V;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;V=y,y=V.next,V.next=null,l.lastBaseUpdate=V,l.shared.pending=null}}while(!0);if(K===null&&(k=W),l.baseState=k,l.firstBaseUpdate=_,l.lastBaseUpdate=K,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Ms|=p,e.lanes=p,e.memoizedState=W}}function Gc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=n,typeof l!="function")throw Error(o(191,l));l.call(a)}}}var tr={},Bt=fs(tr),sr=fs(tr),nr=fs(tr);function _s(e){if(e===tr)throw Error(o(174));return e}function Jl(e,t){switch(Le(nr,t),Le(sr,e),Le(Bt,tr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qa(t,e)}Ue(Bt),Le(Bt,t)}function fn(){Ue(Bt),Ue(sr),Ue(nr)}function Jc(e){_s(nr.current);var t=_s(Bt.current),n=Qa(t,e.type);t!==n&&(Le(sr,e),Le(Bt,n))}function Ql(e){sr.current===e&&(Ue(Bt),Ue(sr))}var _e=fs(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function Zl(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var la=D.ReactCurrentDispatcher,Xl=D.ReactCurrentBatchConfig,Os=0,Oe=null,Qe=null,Ze=null,ia=!1,rr=!1,ar=0,Zp=0;function at(){throw Error(o(321))}function ei(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function ti(e,t,n,a,l,c){if(Os=c,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?sf:nf,e=n(a,l),rr){c=0;do{if(rr=!1,ar=0,25<=c)throw Error(o(301));c+=1,Ze=Qe=null,t.updateQueue=null,la.current=rf,e=n(a,l)}while(rr)}if(la.current=da,t=Qe!==null&&Qe.next!==null,Os=0,Ze=Qe=Oe=null,ia=!1,t)throw Error(o(300));return e}function si(){var e=ar!==0;return ar=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Oe.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Pt(){if(Qe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Ze===null?Oe.memoizedState:Ze.next;if(t!==null)Ze=t,Qe=e;else{if(e===null)throw Error(o(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ze===null?Oe.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function lr(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=Pt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=Qe,l=a.baseQueue,c=n.pending;if(c!==null){if(l!==null){var p=l.next;l.next=c.next,c.next=p}a.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,a=a.baseState;var y=p=null,k=null,_=c;do{var K=_.lane;if((Os&K)===K)k!==null&&(k=k.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),a=_.hasEagerState?_.eagerState:e(a,_.action);else{var W={lane:K,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};k===null?(y=k=W,p=a):k=k.next=W,Oe.lanes|=K,Ms|=K}_=_.next}while(_!==null&&_!==c);k===null?p=a:k.next=y,Dt(a,t.memoizedState)||(pt=!0),t.memoizedState=a,t.baseState=p,t.baseQueue=k,n.lastRenderedState=a}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Oe.lanes|=c,Ms|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ri(e){var t=Pt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do c=e(c,p.action),p=p.next;while(p!==l);Dt(c,t.memoizedState)||(pt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function Qc(){}function Yc(e,t){var n=Oe,a=Pt(),l=t(),c=!Dt(a.memoizedState,l);if(c&&(a.memoizedState=l,pt=!0),a=a.queue,ai(ed.bind(null,n,a,e),[e]),a.getSnapshot!==t||c||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,ir(9,Xc.bind(null,n,a,l,t),void 0,null),Xe===null)throw Error(o(349));(Os&30)!==0||Zc(n,t,l)}return l}function Zc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xc(e,t,n,a){t.value=n,t.getSnapshot=a,td(t)&&sd(e)}function ed(e,t,n){return n(function(){td(t)&&sd(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function sd(e){var t=Zt(e,1);t!==null&&_t(t,e,1,-1)}function nd(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:e},t.queue=e,e=e.dispatch=tf.bind(null,Oe,e),[t.memoizedState,e]}function ir(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function rd(){return Pt().memoizedState}function oa(e,t,n,a){var l=Vt();Oe.flags|=e,l.memoizedState=ir(1|t,n,void 0,a===void 0?null:a)}function ca(e,t,n,a){var l=Pt();a=a===void 0?null:a;var c=void 0;if(Qe!==null){var p=Qe.memoizedState;if(c=p.destroy,a!==null&&ei(a,p.deps)){l.memoizedState=ir(t,n,c,a);return}}Oe.flags|=e,l.memoizedState=ir(1|t,n,c,a)}function ad(e,t){return oa(8390656,8,e,t)}function ai(e,t){return ca(2048,8,e,t)}function ld(e,t){return ca(4,2,e,t)}function id(e,t){return ca(4,4,e,t)}function od(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cd(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,4,od.bind(null,t,e),n)}function li(){}function dd(e,t){var n=Pt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ei(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ud(e,t){var n=Pt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&ei(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function md(e,t,n){return(Os&21)===0?(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n):(Dt(n,t)||(n=Bo(),Oe.lanes|=n,Ms|=n,e.baseState=!0),t)}function Xp(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var a=Xl.transition;Xl.transition={};try{e(!1),t()}finally{Ie=n,Xl.transition=a}}function pd(){return Pt().memoizedState}function ef(e,t,n){var a=ws(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},fd(e))hd(t,n);else if(n=Hc(e,t,n,a),n!==null){var l=ct();_t(n,e,a,l),xd(n,t,a)}}function tf(e,t,n){var a=ws(e),l={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(fd(e))hd(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,y=c(p,n);if(l.hasEagerState=!0,l.eagerState=y,Dt(y,p)){var k=t.interleaved;k===null?(l.next=l,ql(t)):(l.next=k.next,k.next=l),t.interleaved=l;return}}catch{}n=Hc(e,t,l,a),n!==null&&(l=ct(),_t(n,e,a,l),xd(n,t,a))}}function fd(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function hd(e,t){rr=ia=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xd(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ol(e,n)}}var da={readContext:Et,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},sf={readContext:Et,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:ad,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oa(4194308,4,od.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return oa(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Vt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ef.bind(null,Oe,e),[a.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:nd,useDebugValue:li,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=nd(!1),t=e[0];return e=Xp.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Oe,l=Vt();if(ze){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Xe===null)throw Error(o(349));(Os&30)!==0||Zc(a,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,ad(ed.bind(null,a,c,e),[e]),a.flags|=2048,ir(9,Xc.bind(null,a,c,n,t),void 0,null),n},useId:function(){var e=Vt(),t=Xe.identifierPrefix;if(ze){var n=Yt,a=Qt;n=(a&~(1<<32-It(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nf={readContext:Et,useCallback:dd,useContext:Et,useEffect:ai,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:id,useMemo:ud,useReducer:ni,useRef:rd,useState:function(){return ni(lr)},useDebugValue:li,useDeferredValue:function(e){var t=Pt();return md(t,Qe.memoizedState,e)},useTransition:function(){var e=ni(lr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Yc,useId:pd,unstable_isNewReconciler:!1},rf={readContext:Et,useCallback:dd,useContext:Et,useEffect:ai,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:id,useMemo:ud,useReducer:ri,useRef:rd,useState:function(){return ri(lr)},useDebugValue:li,useDeferredValue:function(e){var t=Pt();return Qe===null?t.memoizedState=e:md(t,Qe.memoizedState,e)},useTransition:function(){var e=ri(lr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Yc,useId:pd,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ii(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ct(),l=ws(e),c=Xt(a,l);c.payload=t,n!=null&&(c.callback=n),t=ys(e,c,l),t!==null&&(_t(t,e,l,a),na(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ct(),l=ws(e),c=Xt(a,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=ys(e,c,l),t!==null&&(_t(t,e,l,a),na(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),a=ws(e),l=Xt(n,a);l.tag=2,t!=null&&(l.callback=t),t=ys(e,l,a),t!==null&&(_t(t,e,a,n),na(t,e,a))}};function gd(e,t,n,a,l,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,p):t.prototype&&t.prototype.isPureReactComponent?!qn(n,a)||!qn(l,c):!0}function yd(e,t,n){var a=!1,l=hs,c=t.contextType;return typeof c=="object"&&c!==null?c=Et(c):(l=mt(t)?Ls:rt.current,a=t.contextTypes,c=(a=a!=null)?ln(e,l):hs),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function vd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function oi(e,t,n,a){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Gl(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=Et(c):(c=mt(t)?Ls:rt.current,l.context=ln(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(ii(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ua.enqueueReplaceState(l,l.state,null),ra(e,n,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var n="",a=t;do n+=we(a),a=a.return;while(a);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var af=typeof WeakMap=="function"?WeakMap:Map;function jd(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){ya||(ya=!0,ki=a),di(e,t)},n}function bd(e,t,n){n=Xt(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;n.payload=function(){return a(l)},n.callback=function(){di(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){di(e,t),typeof a!="function"&&(js===null?js=new Set([this]):js.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function wd(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new af;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(l.add(n),e=jf.bind(null,e,t,n),t.then(e,e))}function Nd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sd(e,t,n,a,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,ys(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var lf=D.ReactCurrentOwner,pt=!1;function ot(e,t,n,a){t.child=e===null?Kc(t,null,n,a):un(t,e.child,n,a)}function kd(e,t,n,a,l){n=n.render;var c=t.ref;return pn(t,l),a=ti(e,t,n,a,c,l),n=si(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,es(e,t,l)):(ze&&n&&Ol(t),t.flags|=1,ot(e,t,a,l),t.child)}function Cd(e,t,n,a,l){if(e===null){var c=n.type;return typeof c=="function"&&!Di(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Ed(e,t,c,a,l)):(e=Sa(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var p=c.memoizedProps;if(n=n.compare,n=n!==null?n:qn,n(p,a)&&e.ref===t.ref)return es(e,t,l)}return t.flags|=1,e=Ss(c,a),e.ref=t.ref,e.return=t,t.child=e}function Ed(e,t,n,a,l){if(e!==null){var c=e.memoizedProps;if(qn(c,a)&&e.ref===t.ref)if(pt=!1,t.pendingProps=a=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,es(e,t,l)}return ui(e,t,n,a,l)}function Pd(e,t,n){var a=t.pendingProps,l=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(gn,bt),bt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(gn,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:n,Le(gn,bt),bt|=a}else c!==null?(a=c.baseLanes|n,t.memoizedState=null):a=n,Le(gn,bt),bt|=a;return ot(e,t,l,n),t.child}function Rd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ui(e,t,n,a,l){var c=mt(n)?Ls:rt.current;return c=ln(t,c),pn(t,l),n=ti(e,t,n,a,c,l),a=si(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,es(e,t,l)):(ze&&a&&Ol(t),t.flags|=1,ot(e,t,n,l),t.child)}function Td(e,t,n,a,l){if(mt(n)){var c=!0;Jr(t)}else c=!1;if(pn(t,l),t.stateNode===null)pa(e,t),yd(t,n,a),oi(t,n,a,l),a=!0;else if(e===null){var p=t.stateNode,y=t.memoizedProps;p.props=y;var k=p.context,_=n.contextType;typeof _=="object"&&_!==null?_=Et(_):(_=mt(n)?Ls:rt.current,_=ln(t,_));var K=n.getDerivedStateFromProps,W=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function";W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==a||k!==_)&&vd(t,p,a,_),gs=!1;var V=t.memoizedState;p.state=V,ra(t,a,p,l),k=t.memoizedState,y!==a||V!==k||ut.current||gs?(typeof K=="function"&&(ii(t,n,K,a),k=t.memoizedState),(y=gs||gd(t,n,y,a,V,k,_))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),p.props=a,p.state=k,p.context=_,a=y):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,Wc(e,t),y=t.memoizedProps,_=t.type===t.elementType?y:At(t.type,y),p.props=_,W=t.pendingProps,V=p.context,k=n.contextType,typeof k=="object"&&k!==null?k=Et(k):(k=mt(n)?Ls:rt.current,k=ln(t,k));var ee=n.getDerivedStateFromProps;(K=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==W||V!==k)&&vd(t,p,a,k),gs=!1,V=t.memoizedState,p.state=V,ra(t,a,p,l);var se=t.memoizedState;y!==W||V!==se||ut.current||gs?(typeof ee=="function"&&(ii(t,n,ee,a),se=t.memoizedState),(_=gs||gd(t,n,_,a,V,se,k)||!1)?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,se,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,se,k)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=se),p.props=a,p.state=se,p.context=k,a=_):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),a=!1)}return mi(e,t,n,a,c,l)}function mi(e,t,n,a,l,c){Rd(e,t);var p=(t.flags&128)!==0;if(!a&&!p)return l&&Uc(t,n,!1),es(e,t,c);a=t.stateNode,lf.current=t;var y=p&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&p?(t.child=un(t,e.child,null,c),t.child=un(t,null,y,c)):ot(e,t,y,c),t.memoizedState=a.state,l&&Uc(t,n,!0),t.child}function Id(e){var t=e.stateNode;t.pendingContext?Lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lc(e,t.context,!1),Jl(e,t.containerInfo)}function Dd(e,t,n,a,l){return dn(),Bl(l),t.flags|=256,ot(e,t,n,a),t.child}var pi={dehydrated:null,treeContext:null,retryLane:0};function fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ld(e,t,n){var a=t.pendingProps,l=_e.current,c=!1,p=(t.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Le(_e,l&1),e===null)return $l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=a.children,e=a.fallback,c?(a=t.mode,c=t.child,p={mode:"hidden",children:p},(a&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=p):c=ka(p,a,0,null),e=Vs(e,a,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=fi(n),t.memoizedState=pi,e):hi(t,p));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return of(e,t,p,a,y,l,n);if(c){c=a.fallback,p=t.mode,l=e.child,y=l.sibling;var k={mode:"hidden",children:a.children};return(p&1)===0&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=k,t.deletions=null):(a=Ss(l,k),a.subtreeFlags=l.subtreeFlags&14680064),y!==null?c=Ss(y,c):(c=Vs(c,p,n,null),c.flags|=2),c.return=t,a.return=t,a.sibling=c,t.child=a,a=c,c=t.child,p=e.child.memoizedState,p=p===null?fi(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},c.memoizedState=p,c.childLanes=e.childLanes&~n,t.memoizedState=pi,a}return c=e.child,e=c.sibling,a=Ss(c,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function hi(e,t){return t=ka({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ma(e,t,n,a){return a!==null&&Bl(a),un(t,e.child,null,n),e=hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function of(e,t,n,a,l,c,p){if(n)return t.flags&256?(t.flags&=-257,a=ci(Error(o(422))),ma(e,t,p,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=a.fallback,l=t.mode,a=ka({mode:"visible",children:a.children},l,0,null),c=Vs(c,l,p,null),c.flags|=2,a.return=t,c.return=t,a.sibling=c,t.child=a,(t.mode&1)!==0&&un(t,e.child,null,p),t.child.memoizedState=fi(p),t.memoizedState=pi,c);if((t.mode&1)===0)return ma(e,t,p,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var y=a.dgst;return a=y,c=Error(o(419)),a=ci(c,a,void 0),ma(e,t,p,a)}if(y=(p&e.childLanes)!==0,pt||y){if(a=Xe,a!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(a.suspendedLanes|p))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Zt(e,l),_t(a,e,l,-1))}return Ii(),a=ci(Error(o(421))),ma(e,t,p,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=bf.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,jt=ps(l.nextSibling),vt=t,ze=!0,Lt=null,e!==null&&(kt[Ct++]=Qt,kt[Ct++]=Yt,kt[Ct++]=As,Qt=e.id,Yt=e.overflow,As=t),t=hi(t,a.children),t.flags|=4096,t)}function Ad(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Wl(e.return,t,n)}function xi(e,t,n,a,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=n,c.tailMode=l)}function Ud(e,t,n){var a=t.pendingProps,l=a.revealOrder,c=a.tail;if(ot(e,t,a.children,n),a=_e.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,n,t);else if(e.tag===19)Ad(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le(_e,a),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&aa(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),xi(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&aa(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}xi(t,!0,n,null,c);break;case"together":xi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function es(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ms|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Ss(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ss(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cf(e,t,n){switch(t.tag){case 3:Id(t),dn();break;case 5:Jc(t);break;case 1:mt(t.type)&&Jr(t);break;case 4:Jl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;Le(ta,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Le(_e,_e.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Ld(e,t,n):(Le(_e,_e.current&1),e=es(e,t,n),e!==null?e.sibling:null);Le(_e,_e.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Ud(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Le(_e,_e.current),a)break;return null;case 22:case 23:return t.lanes=0,Pd(e,t,n)}return es(e,t,n)}var zd,gi,_d,Od;zd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gi=function(){},_d=function(e,t,n,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,_s(Bt.current);var c=null;switch(n){case"input":l=En(e,l),a=En(e,a),c=[];break;case"select":l=$({},l,{value:void 0}),a=$({},a,{value:void 0}),c=[];break;case"textarea":l=Ja(e,l),a=Ja(e,a),c=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Wr)}Ya(n,a);var p;n=null;for(_ in l)if(!a.hasOwnProperty(_)&&l.hasOwnProperty(_)&&l[_]!=null)if(_==="style"){var y=l[_];for(p in y)y.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(m.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in a){var k=a[_];if(y=l?.[_],a.hasOwnProperty(_)&&k!==y&&(k!=null||y!=null))if(_==="style")if(y){for(p in y)!y.hasOwnProperty(p)||k&&k.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in k)k.hasOwnProperty(p)&&y[p]!==k[p]&&(n||(n={}),n[p]=k[p])}else n||(c||(c=[]),c.push(_,n)),n=k;else _==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,y=y?y.__html:void 0,k!=null&&y!==k&&(c=c||[]).push(_,k)):_==="children"?typeof k!="string"&&typeof k!="number"||(c=c||[]).push(_,""+k):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(m.hasOwnProperty(_)?(k!=null&&_==="onScroll"&&Ae("scroll",e),c||y===k||(c=[])):(c=c||[]).push(_,k))}n&&(c=c||[]).push("style",n);var _=c;(t.updateQueue=_)&&(t.flags|=4)}},Od=function(e,t,n,a){n!==a&&(t.flags|=4)};function or(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function df(e,t,n){var a=t.pendingProps;switch(Ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return mt(t.type)&&Gr(),lt(t),null;case 3:return a=t.stateNode,fn(),Ue(ut),Ue(rt),Zl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lt!==null&&(Pi(Lt),Lt=null))),gi(e,t),lt(t),null;case 5:Ql(t);var l=_s(nr.current);if(n=t.type,e!==null&&t.stateNode!=null)_d(e,t,n,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return lt(t),null}if(e=_s(Bt.current),Xr(t)){a=t.stateNode,n=t.type;var c=t.memoizedProps;switch(a[$t]=t,a[Zn]=c,e=(t.mode&1)!==0,n){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(l=0;l<Jn.length;l++)Ae(Jn[l],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":Nr(a,c),Ae("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},Ae("invalid",a);break;case"textarea":bo(a,c),Ae("invalid",a)}Ya(n,c),l=null;for(var p in c)if(c.hasOwnProperty(p)){var y=c[p];p==="children"?typeof y=="string"?a.textContent!==y&&(c.suppressHydrationWarning!==!0&&Hr(a.textContent,y,e),l=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&Hr(a.textContent,y,e),l=["children",""+y]):m.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&Ae("scroll",a)}switch(n){case"input":qt(a),Fe(a,c,!0);break;case"textarea":qt(a),No(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=Wr)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=So(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(n,{is:a.is}):(e=p.createElement(n),n==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,n),e[$t]=t,e[Zn]=a,zd(e,t,!1,!1),t.stateNode=e;e:{switch(p=Za(n,a),n){case"dialog":Ae("cancel",e),Ae("close",e),l=a;break;case"iframe":case"object":case"embed":Ae("load",e),l=a;break;case"video":case"audio":for(l=0;l<Jn.length;l++)Ae(Jn[l],e);l=a;break;case"source":Ae("error",e),l=a;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),l=a;break;case"details":Ae("toggle",e),l=a;break;case"input":Nr(e,a),l=En(e,a),Ae("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=$({},a,{value:void 0}),Ae("invalid",e);break;case"textarea":bo(e,a),l=Ja(e,a),Ae("invalid",e);break;default:l=a}Ya(n,l),y=l;for(c in y)if(y.hasOwnProperty(c)){var k=y[c];c==="style"?Eo(e,k):c==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&ko(e,k)):c==="children"?typeof k=="string"?(n!=="textarea"||k!=="")&&Tn(e,k):typeof k=="number"&&Tn(e,""+k):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(m.hasOwnProperty(c)?k!=null&&c==="onScroll"&&Ae("scroll",e):k!=null&&E(e,c,k,p))}switch(n){case"input":qt(e),Fe(e,a,!1);break;case"textarea":qt(e),No(e);break;case"option":a.value!=null&&e.setAttribute("value",""+G(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?Gs(e,!!a.multiple,c,!1):a.defaultValue!=null&&Gs(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Wr)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Od(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(n=_s(nr.current),_s(Bt.current),Xr(t)){if(a=t.stateNode,n=t.memoizedProps,a[$t]=t,(c=a.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:Hr(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hr(a.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[$t]=t,t.stateNode=a}return lt(t),null;case 13:if(Ue(_e),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)$c(),dn(),t.flags|=98560,c=!1;else if(c=Xr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[$t]=t}else dn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),c=!1}else Lt!==null&&(Pi(Lt),Lt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(_e.current&1)!==0?Ye===0&&(Ye=3):Ii())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return fn(),gi(e,t),e===null&&Qn(t.stateNode.containerInfo),lt(t),null;case 10:return Hl(t.type._context),lt(t),null;case 17:return mt(t.type)&&Gr(),lt(t),null;case 19:if(Ue(_e),c=t.memoizedState,c===null)return lt(t),null;if(a=(t.flags&128)!==0,p=c.rendering,p===null)if(a)or(c,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=aa(e),p!==null){for(t.flags|=128,or(c,!1),a=p.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)c=n,e=a,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,e=p.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(_e,_e.current&1|2),t.child}e=e.sibling}c.tail!==null&&He()>yn&&(t.flags|=128,a=!0,or(c,!1),t.lanes=4194304)}else{if(!a)if(e=aa(p),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),or(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!ze)return lt(t),null}else 2*He()-c.renderingStartTime>yn&&n!==1073741824&&(t.flags|=128,a=!0,or(c,!1),t.lanes=4194304);c.isBackwards?(p.sibling=t.child,t.child=p):(n=c.last,n!==null?n.sibling=p:t.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=He(),t.sibling=null,n=_e.current,Le(_e,a?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return Ti(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(bt&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function uf(e,t){switch(Ml(t),t.tag){case 1:return mt(t.type)&&Gr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),Ue(ut),Ue(rt),Zl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ql(t),null;case 13:if(Ue(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(_e),null;case 4:return fn(),null;case 10:return Hl(t.type._context),null;case 22:case 23:return Ti(),null;case 24:return null;default:return null}}var fa=!1,it=!1,mf=typeof WeakSet=="function"?WeakSet:Set,te=null;function xn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){$e(e,t,a)}else n.current=null}function yi(e,t,n){try{n()}catch(a){$e(e,t,a)}}var Md=!1;function pf(e,t){if(Tl=Ar,e=gc(),wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var p=0,y=-1,k=-1,_=0,K=0,W=e,V=null;t:for(;;){for(var ee;W!==n||l!==0&&W.nodeType!==3||(y=p+l),W!==c||a!==0&&W.nodeType!==3||(k=p+a),W.nodeType===3&&(p+=W.nodeValue.length),(ee=W.firstChild)!==null;)V=W,W=ee;for(;;){if(W===e)break t;if(V===n&&++_===l&&(y=p),V===c&&++K===a&&(k=p),(ee=W.nextSibling)!==null)break;W=V,V=W.parentNode}W=ee}n=y===-1||k===-1?null:{start:y,end:k}}else n=null}n=n||{start:0,end:0}}else n=null;for(Il={focusedElem:e,selectionRange:n},Ar=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var se=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ae=se.memoizedProps,We=se.memoizedState,L=t.stateNode,P=L.getSnapshotBeforeUpdate(t.elementType===t.type?ae:At(t.type,ae),We);L.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var U=t.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(q){$e(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return se=Md,Md=!1,se}function cr(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&yi(t,n,c)}l=l.next}while(l!==a)}}function ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function vi(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function Fd(e){var t=e.alternate;t!==null&&(e.alternate=null,Fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Zn],delete t[Ul],delete t[Gp],delete t[Jp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $d(e){return e.tag===5||e.tag===3||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ji(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wr));else if(a!==4&&(e=e.child,e!==null))for(ji(e,t,n),e=e.sibling;e!==null;)ji(e,t,n),e=e.sibling}function bi(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(bi(e,t,n),e=e.sibling;e!==null;)bi(e,t,n),e=e.sibling}var st=null,Ut=!1;function vs(e,t,n){for(n=n.child;n!==null;)Vd(e,t,n),n=n.sibling}function Vd(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Pr,n)}catch{}switch(n.tag){case 5:it||xn(n,t);case 6:var a=st,l=Ut;st=null,vs(e,t,n),st=a,Ut=l,st!==null&&(Ut?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Ut?(e=st,n=n.stateNode,e.nodeType===8?Al(e.parentNode,n):e.nodeType===1&&Al(e,n),$n(e)):Al(st,n.stateNode));break;case 4:a=st,l=Ut,st=n.stateNode.containerInfo,Ut=!0,vs(e,t,n),st=a,Ut=l;break;case 0:case 11:case 14:case 15:if(!it&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var c=l,p=c.destroy;c=c.tag,p!==void 0&&((c&2)!==0||(c&4)!==0)&&yi(n,t,p),l=l.next}while(l!==a)}vs(e,t,n);break;case 1:if(!it&&(xn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(y){$e(n,t,y)}vs(e,t,n);break;case 21:vs(e,t,n);break;case 22:n.mode&1?(it=(a=it)||n.memoizedState!==null,vs(e,t,n),it=a):vs(e,t,n);break;default:vs(e,t,n)}}function Kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mf),t.forEach(function(a){var l=wf.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}}function zt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];try{var c=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 5:st=y.stateNode,Ut=!1;break e;case 3:st=y.stateNode.containerInfo,Ut=!0;break e;case 4:st=y.stateNode.containerInfo,Ut=!0;break e}y=y.return}if(st===null)throw Error(o(160));Vd(c,p,l),st=null,Ut=!1;var k=l.alternate;k!==null&&(k.return=null),l.return=null}catch(_){$e(l,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hd(t,e),t=t.sibling}function Hd(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Kt(e),a&4){try{cr(3,e,e.return),ha(3,e)}catch(ae){$e(e,e.return,ae)}try{cr(5,e,e.return)}catch(ae){$e(e,e.return,ae)}}break;case 1:zt(t,e),Kt(e),a&512&&n!==null&&xn(n,n.return);break;case 5:if(zt(t,e),Kt(e),a&512&&n!==null&&xn(n,n.return),e.flags&32){var l=e.stateNode;try{Tn(l,"")}catch(ae){$e(e,e.return,ae)}}if(a&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,p=n!==null?n.memoizedProps:c,y=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&fe(l,c),Za(y,p);var _=Za(y,c);for(p=0;p<k.length;p+=2){var K=k[p],W=k[p+1];K==="style"?Eo(l,W):K==="dangerouslySetInnerHTML"?ko(l,W):K==="children"?Tn(l,W):E(l,K,W,_)}switch(y){case"input":ke(l,c);break;case"textarea":wo(l,c);break;case"select":var V=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var ee=c.value;ee!=null?Gs(l,!!c.multiple,ee,!1):V!==!!c.multiple&&(c.defaultValue!=null?Gs(l,!!c.multiple,c.defaultValue,!0):Gs(l,!!c.multiple,c.multiple?[]:"",!1))}l[Zn]=c}catch(ae){$e(e,e.return,ae)}}break;case 6:if(zt(t,e),Kt(e),a&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(ae){$e(e,e.return,ae)}}break;case 3:if(zt(t,e),Kt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{$n(t.containerInfo)}catch(ae){$e(e,e.return,ae)}break;case 4:zt(t,e),Kt(e);break;case 13:zt(t,e),Kt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(Si=He())),a&4&&Kd(e);break;case 22:if(K=n!==null&&n.memoizedState!==null,e.mode&1?(it=(_=it)||K,zt(t,e),it=_):zt(t,e),Kt(e),a&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!K&&(e.mode&1)!==0)for(te=e,K=e.child;K!==null;){for(W=te=K;te!==null;){switch(V=te,ee=V.child,V.tag){case 0:case 11:case 14:case 15:cr(4,V,V.return);break;case 1:xn(V,V.return);var se=V.stateNode;if(typeof se.componentWillUnmount=="function"){a=V,n=V.return;try{t=a,se.props=t.memoizedProps,se.state=t.memoizedState,se.componentWillUnmount()}catch(ae){$e(a,n,ae)}}break;case 5:xn(V,V.return);break;case 22:if(V.memoizedState!==null){Gd(W);continue}}ee!==null?(ee.return=V,te=ee):Gd(W)}K=K.sibling}e:for(K=null,W=e;;){if(W.tag===5){if(K===null){K=W;try{l=W.stateNode,_?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=W.stateNode,k=W.memoizedProps.style,p=k!=null&&k.hasOwnProperty("display")?k.display:null,y.style.display=Co("display",p))}catch(ae){$e(e,e.return,ae)}}}else if(W.tag===6){if(K===null)try{W.stateNode.nodeValue=_?"":W.memoizedProps}catch(ae){$e(e,e.return,ae)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;K===W&&(K=null),W=W.return}K===W&&(K=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:zt(t,e),Kt(e),a&4&&Kd(e);break;case 21:break;default:zt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($d(n)){var a=n;break e}n=n.return}throw Error(o(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(Tn(l,""),a.flags&=-33);var c=Bd(e);bi(e,c,l);break;case 3:case 4:var p=a.stateNode.containerInfo,y=Bd(e);ji(e,y,p);break;default:throw Error(o(161))}}catch(k){$e(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e,t,n){te=e,Wd(e)}function Wd(e,t,n){for(var a=(e.mode&1)!==0;te!==null;){var l=te,c=l.child;if(l.tag===22&&a){var p=l.memoizedState!==null||fa;if(!p){var y=l.alternate,k=y!==null&&y.memoizedState!==null||it;y=fa;var _=it;if(fa=p,(it=k)&&!_)for(te=l;te!==null;)p=te,k=p.child,p.tag===22&&p.memoizedState!==null?Jd(l):k!==null?(k.return=p,te=k):Jd(l);for(;c!==null;)te=c,Wd(c),c=c.sibling;te=l,fa=y,it=_}qd(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,te=c):qd(e)}}function qd(e){for(;te!==null;){var t=te;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:it||ha(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!it)if(n===null)a.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);a.componentDidUpdate(l,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Gc(t,c,a);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gc(t,p,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&n.focus();break;case"img":k.src&&(n.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var K=_.memoizedState;if(K!==null){var W=K.dehydrated;W!==null&&$n(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}it||t.flags&512&&vi(t)}catch(V){$e(t,t.return,V)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function Gd(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function Jd(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ha(4,t)}catch(k){$e(t,n,k)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(k){$e(t,l,k)}}var c=t.return;try{vi(t)}catch(k){$e(t,c,k)}break;case 5:var p=t.return;try{vi(t)}catch(k){$e(t,p,k)}}}catch(k){$e(t,t.return,k)}if(t===e){te=null;break}var y=t.sibling;if(y!==null){y.return=t.return,te=y;break}te=t.return}}var hf=Math.ceil,xa=D.ReactCurrentDispatcher,wi=D.ReactCurrentOwner,Rt=D.ReactCurrentBatchConfig,Se=0,Xe=null,Ge=null,nt=0,bt=0,gn=fs(0),Ye=0,dr=null,Ms=0,ga=0,Ni=0,ur=null,ft=null,Si=0,yn=1/0,ts=null,ya=!1,ki=null,js=null,va=!1,bs=null,ja=0,mr=0,Ci=null,ba=-1,wa=0;function ct(){return(Se&6)!==0?He():ba!==-1?ba:ba=He()}function ws(e){return(e.mode&1)===0?1:(Se&2)!==0&&nt!==0?nt&-nt:Yp.transition!==null?(wa===0&&(wa=Bo()),wa):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Yo(e.type)),e)}function _t(e,t,n,a){if(50<mr)throw mr=0,Ci=null,Error(o(185));zn(e,n,a),((Se&2)===0||e!==Xe)&&(e===Xe&&((Se&2)===0&&(ga|=n),Ye===4&&Ns(e,nt)),ht(e,a),n===1&&Se===0&&(t.mode&1)===0&&(yn=He()+500,Qr&&xs()))}function ht(e,t){var n=e.callbackNode;Ym(e,t);var a=Ir(e,e===Xe?nt:0);if(a===0)n!==null&&Mo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&Mo(n),t===1)e.tag===0?Qp(Yd.bind(null,e)):zc(Yd.bind(null,e)),Wp(function(){(Se&6)===0&&xs()}),n=null;else{switch(Vo(a)){case 1:n=al;break;case 4:n=Fo;break;case 16:n=Er;break;case 536870912:n=$o;break;default:n=Er}n=au(n,Qd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qd(e,t){if(ba=-1,wa=0,(Se&6)!==0)throw Error(o(327));var n=e.callbackNode;if(vn()&&e.callbackNode!==n)return null;var a=Ir(e,e===Xe?nt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Na(e,a);else{t=a;var l=Se;Se|=2;var c=Xd();(Xe!==e||nt!==t)&&(ts=null,yn=He()+500,$s(e,t));do try{yf();break}catch(y){Zd(e,y)}while(!0);Kl(),xa.current=c,Se=l,Ge!==null?t=0:(Xe=null,nt=0,t=Ye)}if(t!==0){if(t===2&&(l=ll(e),l!==0&&(a=l,t=Ei(e,l))),t===1)throw n=dr,$s(e,0),Ns(e,a),ht(e,He()),n;if(t===6)Ns(e,a);else{if(l=e.current.alternate,(a&30)===0&&!xf(l)&&(t=Na(e,a),t===2&&(c=ll(e),c!==0&&(a=c,t=Ei(e,c))),t===1))throw n=dr,$s(e,0),Ns(e,a),ht(e,He()),n;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:Bs(e,ft,ts);break;case 3:if(Ns(e,a),(a&130023424)===a&&(t=Si+500-He(),10<t)){if(Ir(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){ct(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ll(Bs.bind(null,e,ft,ts),t);break}Bs(e,ft,ts);break;case 4:if(Ns(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var p=31-It(a);c=1<<p,p=t[p],p>l&&(l=p),a&=~c}if(a=l,a=He()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*hf(a/1960))-a,10<a){e.timeoutHandle=Ll(Bs.bind(null,e,ft,ts),a);break}Bs(e,ft,ts);break;case 5:Bs(e,ft,ts);break;default:throw Error(o(329))}}}return ht(e,He()),e.callbackNode===n?Qd.bind(null,e):null}function Ei(e,t){var n=ur;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=Na(e,t),e!==2&&(t=ft,ft=n,t!==null&&Pi(t)),e}function Pi(e){ft===null?ft=e:ft.push.apply(ft,e)}function xf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var l=n[a],c=l.getSnapshot;l=l.value;try{if(!Dt(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ns(e,t){for(t&=~Ni,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-It(t),a=1<<n;e[n]=-1,t&=~a}}function Yd(e){if((Se&6)!==0)throw Error(o(327));vn();var t=Ir(e,0);if((t&1)===0)return ht(e,He()),null;var n=Na(e,t);if(e.tag!==0&&n===2){var a=ll(e);a!==0&&(t=a,n=Ei(e,a))}if(n===1)throw n=dr,$s(e,0),Ns(e,t),ht(e,He()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bs(e,ft,ts),ht(e,He()),null}function Ri(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(yn=He()+500,Qr&&xs())}}function Fs(e){bs!==null&&bs.tag===0&&(Se&6)===0&&vn();var t=Se;Se|=1;var n=Rt.transition,a=Ie;try{if(Rt.transition=null,Ie=1,e)return e()}finally{Ie=a,Rt.transition=n,Se=t,(Se&6)===0&&xs()}}function Ti(){bt=gn.current,Ue(gn)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hp(n)),Ge!==null)for(n=Ge.return;n!==null;){var a=n;switch(Ml(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Gr();break;case 3:fn(),Ue(ut),Ue(rt),Zl();break;case 5:Ql(a);break;case 4:fn();break;case 13:Ue(_e);break;case 19:Ue(_e);break;case 10:Hl(a.type._context);break;case 22:case 23:Ti()}n=n.return}if(Xe=e,Ge=e=Ss(e.current,null),nt=bt=t,Ye=0,dr=null,Ni=ga=Ms=0,ft=ur=null,zs!==null){for(t=0;t<zs.length;t++)if(n=zs[t],a=n.interleaved,a!==null){n.interleaved=null;var l=a.next,c=n.pending;if(c!==null){var p=c.next;c.next=l,a.next=p}n.pending=a}zs=null}return e}function Zd(e,t){do{var n=Ge;try{if(Kl(),la.current=da,ia){for(var a=Oe.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}ia=!1}if(Os=0,Ze=Qe=Oe=null,rr=!1,ar=0,wi.current=null,n===null||n.return===null){Ye=1,dr=t,Ge=null;break}e:{var c=e,p=n.return,y=n,k=t;if(t=nt,y.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var _=k,K=y,W=K.tag;if((K.mode&1)===0&&(W===0||W===11||W===15)){var V=K.alternate;V?(K.updateQueue=V.updateQueue,K.memoizedState=V.memoizedState,K.lanes=V.lanes):(K.updateQueue=null,K.memoizedState=null)}var ee=Nd(p);if(ee!==null){ee.flags&=-257,Sd(ee,p,y,c,t),ee.mode&1&&wd(c,_,t),t=ee,k=_;var se=t.updateQueue;if(se===null){var ae=new Set;ae.add(k),t.updateQueue=ae}else se.add(k);break e}else{if((t&1)===0){wd(c,_,t),Ii();break e}k=Error(o(426))}}else if(ze&&y.mode&1){var We=Nd(p);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),Sd(We,p,y,c,t),Bl(hn(k,y));break e}}c=k=hn(k,y),Ye!==4&&(Ye=2),ur===null?ur=[c]:ur.push(c),c=p;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var L=jd(c,k,t);qc(c,L);break e;case 1:y=k;var P=c.type,U=c.stateNode;if((c.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(js===null||!js.has(U)))){c.flags|=65536,t&=-t,c.lanes|=t;var q=bd(c,y,t);qc(c,q);break e}}c=c.return}while(c!==null)}tu(n)}catch(le){t=le,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Xd(){var e=xa.current;return xa.current=da,e===null?da:e}function Ii(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Xe===null||(Ms&268435455)===0&&(ga&268435455)===0||Ns(Xe,nt)}function Na(e,t){var n=Se;Se|=2;var a=Xd();(Xe!==e||nt!==t)&&(ts=null,$s(e,t));do try{gf();break}catch(l){Zd(e,l)}while(!0);if(Kl(),Se=n,xa.current=a,Ge!==null)throw Error(o(261));return Xe=null,nt=0,Ye}function gf(){for(;Ge!==null;)eu(Ge)}function yf(){for(;Ge!==null&&!Bm();)eu(Ge)}function eu(e){var t=ru(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?tu(e):Ge=t,wi.current=null}function tu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=df(n,t,bt),n!==null){Ge=n;return}}else{if(n=uf(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ge=null;return}}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Ye===0&&(Ye=5)}function Bs(e,t,n){var a=Ie,l=Rt.transition;try{Rt.transition=null,Ie=1,vf(e,t,n,a)}finally{Rt.transition=l,Ie=a}return null}function vf(e,t,n,a){do vn();while(bs!==null);if((Se&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Zm(e,c),e===Xe&&(Ge=Xe=null,nt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||va||(va=!0,au(Er,function(){return vn(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=Rt.transition,Rt.transition=null;var p=Ie;Ie=1;var y=Se;Se|=4,wi.current=null,pf(e,n),Hd(n,e),Op(Il),Ar=!!Tl,Il=Tl=null,e.current=n,ff(n),Vm(),Se=y,Ie=p,Rt.transition=c}else e.current=n;if(va&&(va=!1,bs=e,ja=l),c=e.pendingLanes,c===0&&(js=null),Wm(n.stateNode),ht(e,He()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],a(l.value,{componentStack:l.stack,digest:l.digest});if(ya)throw ya=!1,e=ki,ki=null,e;return(ja&1)!==0&&e.tag!==0&&vn(),c=e.pendingLanes,(c&1)!==0?e===Ci?mr++:(mr=0,Ci=e):mr=0,xs(),null}function vn(){if(bs!==null){var e=Vo(ja),t=Rt.transition,n=Ie;try{if(Rt.transition=null,Ie=16>e?16:e,bs===null)var a=!1;else{if(e=bs,bs=null,ja=0,(Se&6)!==0)throw Error(o(331));var l=Se;for(Se|=4,te=e.current;te!==null;){var c=te,p=c.child;if((te.flags&16)!==0){var y=c.deletions;if(y!==null){for(var k=0;k<y.length;k++){var _=y[k];for(te=_;te!==null;){var K=te;switch(K.tag){case 0:case 11:case 15:cr(8,K,c)}var W=K.child;if(W!==null)W.return=K,te=W;else for(;te!==null;){K=te;var V=K.sibling,ee=K.return;if(Fd(K),K===_){te=null;break}if(V!==null){V.return=ee,te=V;break}te=ee}}}var se=c.alternate;if(se!==null){var ae=se.child;if(ae!==null){se.child=null;do{var We=ae.sibling;ae.sibling=null,ae=We}while(ae!==null)}}te=c}}if((c.subtreeFlags&2064)!==0&&p!==null)p.return=c,te=p;else e:for(;te!==null;){if(c=te,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:cr(9,c,c.return)}var L=c.sibling;if(L!==null){L.return=c.return,te=L;break e}te=c.return}}var P=e.current;for(te=P;te!==null;){p=te;var U=p.child;if((p.subtreeFlags&2064)!==0&&U!==null)U.return=p,te=U;else e:for(p=P;te!==null;){if(y=te,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ha(9,y)}}catch(le){$e(y,y.return,le)}if(y===p){te=null;break e}var q=y.sibling;if(q!==null){q.return=y.return,te=q;break e}te=y.return}}if(Se=l,xs(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Pr,e)}catch{}a=!0}return a}finally{Ie=n,Rt.transition=t}}return!1}function su(e,t,n){t=hn(n,t),t=jd(e,t,1),e=ys(e,t,1),t=ct(),e!==null&&(zn(e,1,t),ht(e,t))}function $e(e,t,n){if(e.tag===3)su(e,e,n);else for(;t!==null;){if(t.tag===3){su(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(js===null||!js.has(a))){e=hn(n,e),e=bd(t,e,1),t=ys(t,e,1),e=ct(),t!==null&&(zn(t,1,e),ht(t,e));break}}t=t.return}}function jf(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(nt&n)===n&&(Ye===4||Ye===3&&(nt&130023424)===nt&&500>He()-Si?$s(e,0):Ni|=n),ht(e,t)}function nu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var n=ct();e=Zt(e,t),e!==null&&(zn(e,t,n),ht(e,n))}function bf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nu(e,n)}function wf(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),nu(e,n)}var ru;ru=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)pt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return pt=!1,cf(e,t,n);pt=(e.flags&131072)!==0}else pt=!1,ze&&(t.flags&1048576)!==0&&_c(t,Zr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;pa(e,t),e=t.pendingProps;var l=ln(t,rt.current);pn(t,n),l=ti(null,t,a,e,l,n);var c=si();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(a)?(c=!0,Jr(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Gl(t),l.updater=ua,t.stateNode=l,l._reactInternals=t,oi(t,a,e,n),t=mi(null,t,a,!0,c,n)):(t.tag=0,ze&&c&&Ol(t),ot(null,t,l,n),t=t.child),t;case 16:a=t.elementType;e:{switch(pa(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=Sf(a),e=At(a,e),l){case 0:t=ui(null,t,a,e,n);break e;case 1:t=Td(null,t,a,e,n);break e;case 11:t=kd(null,t,a,e,n);break e;case 14:t=Cd(null,t,a,At(a.type,e),n);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:At(a,l),ui(e,t,a,l,n);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:At(a,l),Td(e,t,a,l,n);case 3:e:{if(Id(t),e===null)throw Error(o(387));a=t.pendingProps,c=t.memoizedState,l=c.element,Wc(e,t),ra(t,a,null,n);var p=t.memoizedState;if(a=p.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=hn(Error(o(423)),t),t=Dd(e,t,a,n,l);break e}else if(a!==l){l=hn(Error(o(424)),t),t=Dd(e,t,a,n,l);break e}else for(jt=ps(t.stateNode.containerInfo.firstChild),vt=t,ze=!0,Lt=null,n=Kc(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dn(),a===l){t=es(e,t,n);break e}ot(e,t,a,n)}t=t.child}return t;case 5:return Jc(t),e===null&&$l(t),a=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,p=l.children,Dl(a,l)?p=null:c!==null&&Dl(a,c)&&(t.flags|=32),Rd(e,t),ot(e,t,p,n),t.child;case 6:return e===null&&$l(t),null;case 13:return Ld(e,t,n);case 4:return Jl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=un(t,null,a,n):ot(e,t,a,n),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:At(a,l),kd(e,t,a,l,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,c=t.memoizedProps,p=l.value,Le(ta,a._currentValue),a._currentValue=p,c!==null)if(Dt(c.value,p)){if(c.children===l.children&&!ut.current){t=es(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var y=c.dependencies;if(y!==null){p=c.child;for(var k=y.firstContext;k!==null;){if(k.context===a){if(c.tag===1){k=Xt(-1,n&-n),k.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var K=_.pending;K===null?k.next=k:(k.next=K.next,K.next=k),_.pending=k}}c.lanes|=n,k=c.alternate,k!==null&&(k.lanes|=n),Wl(c.return,n,t),y.lanes|=n;break}k=k.next}}else if(c.tag===10)p=c.type===t.type?null:c.child;else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=n,y=p.alternate,y!==null&&(y.lanes|=n),Wl(p,n,t),p=c.sibling}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}ot(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,pn(t,n),l=Et(l),a=a(l),t.flags|=1,ot(e,t,a,n),t.child;case 14:return a=t.type,l=At(a,t.pendingProps),l=At(a.type,l),Cd(e,t,a,l,n);case 15:return Ed(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:At(a,l),pa(e,t),t.tag=1,mt(a)?(e=!0,Jr(t)):e=!1,pn(t,n),yd(t,a,l),oi(t,a,l,n),mi(null,t,a,!0,e,n);case 19:return Ud(e,t,n);case 22:return Pd(e,t,n)}throw Error(o(156,t.tag))};function au(e,t){return Oo(e,t)}function Nf(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,a){return new Nf(e,t,n,a)}function Di(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sf(e){if(typeof e=="function")return Di(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===Ke)return 14}return 2}function Ss(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sa(e,t,n,a,l,c){var p=2;if(a=e,typeof e=="function")Di(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case z:return Vs(n.children,l,c,t);case H:p=8,l|=8;break;case ue:return e=Tt(12,n,t,l|2),e.elementType=ue,e.lanes=c,e;case Re:return e=Tt(13,n,t,l),e.elementType=Re,e.lanes=c,e;case Ee:return e=Tt(19,n,t,l),e.elementType=Ee,e.lanes=c,e;case Pe:return ka(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:p=10;break e;case Z:p=9;break e;case ye:p=11;break e;case Ke:p=14;break e;case Te:p=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Tt(p,n,t,l),t.elementType=e,t.type=a,t.lanes=c,t}function Vs(e,t,n,a){return e=Tt(7,e,a,t),e.lanes=n,e}function ka(e,t,n,a){return e=Tt(22,e,a,t),e.elementType=Pe,e.lanes=n,e.stateNode={isHidden:!1},e}function Li(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Ai(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kf(e,t,n,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ui(e,t,n,a,l,c,p,y,k){return e=new kf(e,t,n,y,k),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Tt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(c),e}function Cf(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function lu(e){if(!e)return hs;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(mt(n))return Ac(e,n,t)}return t}function iu(e,t,n,a,l,c,p,y,k){return e=Ui(n,a,!0,e,l,c,p,y,k),e.context=lu(null),n=e.current,a=ct(),l=ws(n),c=Xt(a,l),c.callback=t??null,ys(n,c,l),e.current.lanes=l,zn(e,l,a),ht(e,a),e}function Ca(e,t,n,a){var l=t.current,c=ct(),p=ws(l);return n=lu(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(c,p),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=ys(l,t,p),e!==null&&(_t(e,l,p,c),na(e,l,p)),p}function Ea(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zi(e,t){ou(e,t),(e=e.alternate)&&ou(e,t)}function Ef(){return null}var cu=typeof reportError=="function"?reportError:function(e){console.error(e)};function _i(e){this._internalRoot=e}Pa.prototype.render=_i.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Ca(e,t,null,null)},Pa.prototype.unmount=_i.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Ca(null,e,null,null)}),t[Gt]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ds.length&&t!==0&&t<ds[n].priority;n++);ds.splice(n,0,e),n===0&&Jo(e)}};function Oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function Pf(e,t,n,a,l){if(l){if(typeof a=="function"){var c=a;a=function(){var _=Ea(p);c.call(_)}}var p=iu(t,a,e,0,null,!1,!1,"",du);return e._reactRootContainer=p,e[Gt]=p.current,Qn(e.nodeType===8?e.parentNode:e),Fs(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var y=a;a=function(){var _=Ea(k);y.call(_)}}var k=Ui(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=k,e[Gt]=k.current,Qn(e.nodeType===8?e.parentNode:e),Fs(function(){Ca(t,k,n,a)}),k}function Ta(e,t,n,a,l){var c=n._reactRootContainer;if(c){var p=c;if(typeof l=="function"){var y=l;l=function(){var k=Ea(p);y.call(k)}}Ca(t,p,e,l)}else p=Pf(n,t,e,l,a);return Ea(p)}Ko=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Un(t.pendingLanes);n!==0&&(ol(t,n|1),ht(t,He()),(Se&6)===0&&(yn=He()+500,xs()))}break;case 13:Fs(function(){var a=Zt(e,1);if(a!==null){var l=ct();_t(a,e,1,l)}}),zi(e,1)}},cl=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=ct();_t(t,e,134217728,n)}zi(e,134217728)}},Ho=function(e){if(e.tag===13){var t=ws(e),n=Zt(e,t);if(n!==null){var a=ct();_t(n,e,t,a)}zi(e,t)}},Wo=function(){return Ie},qo=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}},tl=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=qr(a);if(!l)throw Error(o(90));ls(a),ke(a,l)}}}break;case"textarea":wo(e,n);break;case"select":t=n.value,t!=null&&Gs(e,!!n.multiple,t,!1)}},Io=Ri,Do=Fs;var Rf={usingClientEntryPoint:!1,Events:[Xn,rn,qr,Ro,To,Ri]},pr={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tf={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zo(e),e===null?null:e.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||Ef,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Pr=Ia.inject(Tf),Ft=Ia}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rf,xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oi(t))throw Error(o(200));return Cf(e,t,null,n)},xt.createRoot=function(e,t){if(!Oi(e))throw Error(o(299));var n=!1,a="",l=cu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ui(e,1,!1,null,null,n,!1,a,l),e[Gt]=t.current,Qn(e.nodeType===8?e.parentNode:e),new _i(t)},xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=zo(t),e=e===null?null:e.stateNode,e},xt.flushSync=function(e){return Fs(e)},xt.hydrate=function(e,t,n){if(!Ra(t))throw Error(o(200));return Ta(null,e,t,!0,n)},xt.hydrateRoot=function(e,t,n){if(!Oi(e))throw Error(o(405));var a=n!=null&&n.hydratedSources||null,l=!1,c="",p=cu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=iu(t,null,e,1,n??null,l,!1,c,p),e[Gt]=t.current,Qn(e),a)for(e=0;e<a.length;e++)n=a[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Pa(t)},xt.render=function(e,t,n){if(!Ra(t))throw Error(o(200));return Ta(null,e,t,!1,n)},xt.unmountComponentAtNode=function(e){if(!Ra(e))throw Error(o(40));return e._reactRootContainer?(Fs(function(){Ta(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1},xt.unstable_batchedUpdates=Ri,xt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Ra(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Ta(e,t,n,!1,a)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var yu;function Xu(){if(yu)return $i.exports;yu=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),$i.exports=Mf(),$i.exports}var vu;function Ff(){if(vu)return Da;vu=1;var r=Xu();return Da.createRoot=r.createRoot,Da.hydrateRoot=r.hydrateRoot,Da}var $f=Ff();const Bf=Yu($f);Xu();function yr(){return yr=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d])}return r},yr.apply(this,arguments)}var Es;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Es||(Es={}));const ju="popstate";function Vf(r){r===void 0&&(r={});function i(d,m){let{pathname:f,search:h,hash:g}=d.location;return Yi("",{pathname:f,search:h,hash:g},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function o(d,m){return typeof m=="string"?m:Oa(m)}return Hf(i,o,null,r)}function Me(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function co(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Kf(){return Math.random().toString(36).substr(2,8)}function bu(r,i){return{usr:r.state,key:r.key,idx:i}}function Yi(r,i,o,d){return o===void 0&&(o=null),yr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof i=="string"?Sn(i):i,{state:o,key:i&&i.key||d||Kf()})}function Oa(r){let{pathname:i="/",search:o="",hash:d=""}=r;return o&&o!=="?"&&(i+=o.charAt(0)==="?"?o:"?"+o),d&&d!=="#"&&(i+=d.charAt(0)==="#"?d:"#"+d),i}function Sn(r){let i={};if(r){let o=r.indexOf("#");o>=0&&(i.hash=r.substr(o),r=r.substr(0,o));let d=r.indexOf("?");d>=0&&(i.search=r.substr(d),r=r.substr(0,d)),r&&(i.pathname=r)}return i}function Hf(r,i,o,d){d===void 0&&(d={});let{window:m=document.defaultView,v5Compat:f=!1}=d,h=m.history,g=Es.Pop,x=null,S=N();S==null&&(S=0,h.replaceState(yr({},h.state,{idx:S}),""));function N(){return(h.state||{idx:null}).idx}function b(){g=Es.Pop;let j=N(),I=j==null?null:j-S;S=j,x&&x({action:g,location:T.location,delta:I})}function w(j,I){g=Es.Push;let v=Yi(T.location,j,I);S=N()+1;let E=bu(v,S),D=T.createHref(v);try{h.pushState(E,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;m.location.assign(D)}f&&x&&x({action:g,location:T.location,delta:1})}function C(j,I){g=Es.Replace;let v=Yi(T.location,j,I);S=N();let E=bu(v,S),D=T.createHref(v);h.replaceState(E,"",D),f&&x&&x({action:g,location:T.location,delta:0})}function A(j){let I=m.location.origin!=="null"?m.location.origin:m.location.href,v=typeof j=="string"?j:Oa(j);return v=v.replace(/ $/,"%20"),Me(I,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,I)}let T={get action(){return g},get location(){return r(m,h)},listen(j){if(x)throw new Error("A history only accepts one active listener");return m.addEventListener(ju,b),x=j,()=>{m.removeEventListener(ju,b),x=null}},createHref(j){return i(m,j)},createURL:A,encodeLocation(j){let I=A(j);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:w,replace:C,go(j){return h.go(j)}};return T}var wu;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(wu||(wu={}));function Wf(r,i,o){return o===void 0&&(o="/"),qf(r,i,o)}function qf(r,i,o,d){let m=typeof i=="string"?Sn(i):i,f=wn(m.pathname||"/",o);if(f==null)return null;let h=em(r);Gf(h);let g=null;for(let x=0;g==null&&x<h.length;++x){let S=ah(f);g=nh(h[x],S)}return g}function em(r,i,o,d){i===void 0&&(i=[]),o===void 0&&(o=[]),d===void 0&&(d="");let m=(f,h,g)=>{let x={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};x.relativePath.startsWith("/")&&(Me(x.relativePath.startsWith(d),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+d+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(d.length));let S=Rs([d,x.relativePath]),N=o.concat(x);f.children&&f.children.length>0&&(Me(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+S+'".')),em(f.children,i,N,S)),!(f.path==null&&!f.index)&&i.push({path:S,score:th(S,f.index),routesMeta:N})};return r.forEach((f,h)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))m(f,h);else for(let x of tm(f.path))m(f,h,x)}),i}function tm(r){let i=r.split("/");if(i.length===0)return[];let[o,...d]=i,m=o.endsWith("?"),f=o.replace(/\?$/,"");if(d.length===0)return m?[f,""]:[f];let h=tm(d.join("/")),g=[];return g.push(...h.map(x=>x===""?f:[f,x].join("/"))),m&&g.push(...h),g.map(x=>r.startsWith("/")&&x===""?"/":x)}function Gf(r){r.sort((i,o)=>i.score!==o.score?o.score-i.score:sh(i.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}const Jf=/^:[\w-]+$/,Qf=3,Yf=2,Zf=1,Xf=10,eh=-2,Nu=r=>r==="*";function th(r,i){let o=r.split("/"),d=o.length;return o.some(Nu)&&(d+=eh),i&&(d+=Yf),o.filter(m=>!Nu(m)).reduce((m,f)=>m+(Jf.test(f)?Qf:f===""?Zf:Xf),d)}function sh(r,i){return r.length===i.length&&r.slice(0,-1).every((d,m)=>d===i[m])?r[r.length-1]-i[i.length-1]:0}function nh(r,i,o){let{routesMeta:d}=r,m={},f="/",h=[];for(let g=0;g<d.length;++g){let x=d[g],S=g===d.length-1,N=f==="/"?i:i.slice(f.length)||"/",b=Zi({path:x.relativePath,caseSensitive:x.caseSensitive,end:S},N),w=x.route;if(!b)return null;Object.assign(m,b.params),h.push({params:m,pathname:Rs([f,b.pathname]),pathnameBase:dh(Rs([f,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(f=Rs([f,b.pathnameBase]))}return h}function Zi(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[o,d]=rh(r.path,r.caseSensitive,r.end),m=i.match(o);if(!m)return null;let f=m[0],h=f.replace(/(.)\/+$/,"$1"),g=m.slice(1);return{params:d.reduce((S,N,b)=>{let{paramName:w,isOptional:C}=N;if(w==="*"){let T=g[b]||"";h=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const A=g[b];return C&&!A?S[w]=void 0:S[w]=(A||"").replace(/%2F/g,"/"),S},{}),pathname:f,pathnameBase:h,pattern:r}}function rh(r,i,o){i===void 0&&(i=!1),o===void 0&&(o=!0),co(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let d=[],m="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,x)=>(d.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(d.push({paramName:"*"}),m+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?m+="\\/*$":r!==""&&r!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,i?void 0:"i"),d]}function ah(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return co(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),r}}function wn(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let o=i.endsWith("/")?i.length-1:i.length,d=r.charAt(o);return d&&d!=="/"?null:r.slice(o)||"/"}const lh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ih=r=>lh.test(r);function oh(r,i){i===void 0&&(i="/");let{pathname:o,search:d="",hash:m=""}=typeof r=="string"?Sn(r):r,f;if(o)if(ih(o))f=o;else{if(o.includes("//")){let h=o;o=o.replace(/\/\/+/g,"/"),co(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+o))}o.startsWith("/")?f=Su(o.substring(1),"/"):f=Su(o,i)}else f=i;return{pathname:f,search:uh(d),hash:mh(m)}}function Su(r,i){let o=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(m=>{m===".."?o.length>1&&o.pop():m!=="."&&o.push(m)}),o.length>1?o.join("/"):"/"}function Ki(r,i,o,d){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(d)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ch(r){return r.filter((i,o)=>o===0||i.route.path&&i.route.path.length>0)}function uo(r,i){let o=ch(r);return i?o.map((d,m)=>m===o.length-1?d.pathname:d.pathnameBase):o.map(d=>d.pathnameBase)}function mo(r,i,o,d){d===void 0&&(d=!1);let m;typeof r=="string"?m=Sn(r):(m=yr({},r),Me(!m.pathname||!m.pathname.includes("?"),Ki("?","pathname","search",m)),Me(!m.pathname||!m.pathname.includes("#"),Ki("#","pathname","hash",m)),Me(!m.search||!m.search.includes("#"),Ki("#","search","hash",m)));let f=r===""||m.pathname==="",h=f?"/":m.pathname,g;if(h==null)g=o;else{let b=i.length-1;if(!d&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;m.pathname=w.join("/")}g=b>=0?i[b]:"/"}let x=oh(m,g),S=h&&h!=="/"&&h.endsWith("/"),N=(f||h===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(S||N)&&(x.pathname+="/"),x}const Rs=r=>r.join("/").replace(/\/\/+/g,"/"),dh=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uh=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mh=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ph(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const sm=["post","put","patch","delete"];new Set(sm);const fh=["get",...sm];new Set(fh);function vr(){return vr=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d])}return r},vr.apply(this,arguments)}const Ha=u.createContext(null),nm=u.createContext(null),ss=u.createContext(null),Wa=u.createContext(null),Ht=u.createContext({outlet:null,matches:[],isDataRoute:!1}),rm=u.createContext(null);function hh(r,i){let{relative:o}=i===void 0?{}:i;kn()||Me(!1);let{basename:d,navigator:m}=u.useContext(ss),{hash:f,pathname:h,search:g}=qa(r,{relative:o}),x=h;return d!=="/"&&(x=h==="/"?d:Rs([d,h])),m.createHref({pathname:x,search:g,hash:f})}function kn(){return u.useContext(Wa)!=null}function gt(){return kn()||Me(!1),u.useContext(Wa).location}function am(r){u.useContext(ss).static||u.useLayoutEffect(r)}function tt(){let{isDataRoute:r}=u.useContext(Ht);return r?Th():xh()}function xh(){kn()||Me(!1);let r=u.useContext(Ha),{basename:i,future:o,navigator:d}=u.useContext(ss),{matches:m}=u.useContext(Ht),{pathname:f}=gt(),h=JSON.stringify(uo(m,o.v7_relativeSplatPath)),g=u.useRef(!1);return am(()=>{g.current=!0}),u.useCallback(function(S,N){if(N===void 0&&(N={}),!g.current)return;if(typeof S=="number"){d.go(S);return}let b=mo(S,JSON.parse(h),f,N.relative==="path");r==null&&i!=="/"&&(b.pathname=b.pathname==="/"?i:Rs([i,b.pathname])),(N.replace?d.replace:d.push)(b,N.state,N)},[i,d,h,f,r])}const gh=u.createContext(null);function yh(r){let i=u.useContext(Ht).outlet;return i&&u.createElement(gh.Provider,{value:r},i)}function ns(){let{matches:r}=u.useContext(Ht),i=r[r.length-1];return i?i.params:{}}function qa(r,i){let{relative:o}=i===void 0?{}:i,{future:d}=u.useContext(ss),{matches:m}=u.useContext(Ht),{pathname:f}=gt(),h=JSON.stringify(uo(m,d.v7_relativeSplatPath));return u.useMemo(()=>mo(r,JSON.parse(h),f,o==="path"),[r,h,f,o])}function vh(r,i){return jh(r,i)}function jh(r,i,o,d){kn()||Me(!1);let{navigator:m}=u.useContext(ss),{matches:f}=u.useContext(Ht),h=f[f.length-1],g=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let S=gt(),N;if(i){var b;let j=typeof i=="string"?Sn(i):i;x==="/"||(b=j.pathname)!=null&&b.startsWith(x)||Me(!1),N=j}else N=S;let w=N.pathname||"/",C=w;if(x!=="/"){let j=x.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let A=Wf(r,{pathname:C}),T=kh(A&&A.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:Rs([x,m.encodeLocation?m.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?x:Rs([x,m.encodeLocation?m.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),f,o,d);return i&&T?u.createElement(Wa.Provider,{value:{location:vr({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:Es.Pop}},T):T}function bh(){let r=Rh(),i=ph(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),o=r instanceof Error?r.stack:null,m={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},i),o?u.createElement("pre",{style:m},o):null,null)}const wh=u.createElement(bh,null);class Nh extends u.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,o){return o.location!==i.location||o.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:o.error,location:o.location,revalidation:i.revalidation||o.revalidation}}componentDidCatch(i,o){console.error("React Router caught the following error during render",i,o)}render(){return this.state.error!==void 0?u.createElement(Ht.Provider,{value:this.props.routeContext},u.createElement(rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sh(r){let{routeContext:i,match:o,children:d}=r,m=u.useContext(Ha);return m&&m.static&&m.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=o.route.id),u.createElement(Ht.Provider,{value:i},d)}function kh(r,i,o,d){var m;if(i===void 0&&(i=[]),o===void 0&&(o=null),d===void 0&&(d=null),r==null){var f;if(!o)return null;if(o.errors)r=o.matches;else if((f=d)!=null&&f.v7_partialHydration&&i.length===0&&!o.initialized&&o.matches.length>0)r=o.matches;else return null}let h=r,g=(m=o)==null?void 0:m.errors;if(g!=null){let N=h.findIndex(b=>b.route.id&&g?.[b.route.id]!==void 0);N>=0||Me(!1),h=h.slice(0,Math.min(h.length,N+1))}let x=!1,S=-1;if(o&&d&&d.v7_partialHydration)for(let N=0;N<h.length;N++){let b=h[N];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(S=N),b.route.id){let{loaderData:w,errors:C}=o,A=b.route.loader&&w[b.route.id]===void 0&&(!C||C[b.route.id]===void 0);if(b.route.lazy||A){x=!0,S>=0?h=h.slice(0,S+1):h=[h[0]];break}}}return h.reduceRight((N,b,w)=>{let C,A=!1,T=null,j=null;o&&(C=g&&b.route.id?g[b.route.id]:void 0,T=b.route.errorElement||wh,x&&(S<0&&w===0?(Ih("route-fallback"),A=!0,j=null):S===w&&(A=!0,j=b.route.hydrateFallbackElement||null)));let I=i.concat(h.slice(0,w+1)),v=()=>{let E;return C?E=T:A?E=j:b.route.Component?E=u.createElement(b.route.Component,null):b.route.element?E=b.route.element:E=N,u.createElement(Sh,{match:b,routeContext:{outlet:N,matches:I,isDataRoute:o!=null},children:E})};return o&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?u.createElement(Nh,{location:o.location,revalidation:o.revalidation,component:T,error:C,children:v(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):v()},null)}var lm=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(lm||{}),im=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(im||{});function Ch(r){let i=u.useContext(Ha);return i||Me(!1),i}function Eh(r){let i=u.useContext(nm);return i||Me(!1),i}function Ph(r){let i=u.useContext(Ht);return i||Me(!1),i}function om(r){let i=Ph(),o=i.matches[i.matches.length-1];return o.route.id||Me(!1),o.route.id}function Rh(){var r;let i=u.useContext(rm),o=Eh(),d=om();return i!==void 0?i:(r=o.errors)==null?void 0:r[d]}function Th(){let{router:r}=Ch(lm.UseNavigateStable),i=om(im.UseNavigateStable),o=u.useRef(!1);return am(()=>{o.current=!0}),u.useCallback(function(m,f){f===void 0&&(f={}),o.current&&(typeof m=="number"?r.navigate(m):r.navigate(m,vr({fromRouteId:i},f)))},[r,i])}const ku={};function Ih(r,i,o){ku[r]||(ku[r]=!0)}function Dh(r,i){r?.v7_startTransition,r?.v7_relativeSplatPath}function Ks(r){let{to:i,replace:o,state:d,relative:m}=r;kn()||Me(!1);let{future:f,static:h}=u.useContext(ss),{matches:g}=u.useContext(Ht),{pathname:x}=gt(),S=tt(),N=mo(i,uo(g,f.v7_relativeSplatPath),x,m==="path"),b=JSON.stringify(N);return u.useEffect(()=>S(JSON.parse(b),{replace:o,state:d,relative:m}),[S,b,m,o,d]),null}function wr(r){return yh(r.context)}function ne(r){Me(!1)}function Lh(r){let{basename:i="/",children:o=null,location:d,navigationType:m=Es.Pop,navigator:f,static:h=!1,future:g}=r;kn()&&Me(!1);let x=i.replace(/^\/*/,"/"),S=u.useMemo(()=>({basename:x,navigator:f,static:h,future:vr({v7_relativeSplatPath:!1},g)}),[x,g,f,h]);typeof d=="string"&&(d=Sn(d));let{pathname:N="/",search:b="",hash:w="",state:C=null,key:A="default"}=d,T=u.useMemo(()=>{let j=wn(N,x);return j==null?null:{location:{pathname:j,search:b,hash:w,state:C,key:A},navigationType:m}},[x,N,b,w,C,A,m]);return T==null?null:u.createElement(ss.Provider,{value:S},u.createElement(Wa.Provider,{children:o,value:T}))}function Ah(r){let{children:i,location:o}=r;return vh(Xi(i),o)}new Promise(()=>{});function Xi(r,i){i===void 0&&(i=[]);let o=[];return u.Children.forEach(r,(d,m)=>{if(!u.isValidElement(d))return;let f=[...i,m];if(d.type===u.Fragment){o.push.apply(o,Xi(d.props.children,f));return}d.type!==ne&&Me(!1),!d.props.index||!d.props.children||Me(!1);let h={id:d.props.id||f.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(h.children=Xi(d.props.children,f)),o.push(h)}),o}function Ma(){return Ma=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d])}return r},Ma.apply(this,arguments)}function cm(r,i){if(r==null)return{};var o={},d=Object.keys(r),m,f;for(f=0;f<d.length;f++)m=d[f],!(i.indexOf(m)>=0)&&(o[m]=r[m]);return o}function Uh(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zh(r,i){return r.button===0&&(!i||i==="_self")&&!Uh(r)}function eo(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((i,o)=>{let d=r[o];return i.concat(Array.isArray(d)?d.map(m=>[o,m]):[[o,d]])},[]))}function _h(r,i){let o=eo(r);return i&&i.forEach((d,m)=>{o.has(m)||i.getAll(m).forEach(f=>{o.append(m,f)})}),o}const Oh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mh=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Fh="6";try{window.__reactRouterVersion=Fh}catch{}const $h=u.createContext({isTransitioning:!1}),Bh="startTransition",Cu=zf[Bh];function Vh(r){let{basename:i,children:o,future:d,window:m}=r,f=u.useRef();f.current==null&&(f.current=Vf({window:m,v5Compat:!0}));let h=f.current,[g,x]=u.useState({action:h.action,location:h.location}),{v7_startTransition:S}=d||{},N=u.useCallback(b=>{S&&Cu?Cu(()=>x(b)):x(b)},[x,S]);return u.useLayoutEffect(()=>h.listen(N),[h,N]),u.useEffect(()=>Dh(d),[d]),u.createElement(Lh,{basename:i,children:o,location:g.location,navigationType:g.action,navigator:h,future:d})}const Kh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=u.forwardRef(function(i,o){let{onClick:d,relative:m,reloadDocument:f,replace:h,state:g,target:x,to:S,preventScrollReset:N,viewTransition:b}=i,w=cm(i,Oh),{basename:C}=u.useContext(ss),A,T=!1;if(typeof S=="string"&&Hh.test(S)&&(A=S,Kh))try{let E=new URL(window.location.href),D=S.startsWith("//")?new URL(E.protocol+S):new URL(S),M=wn(D.pathname,C);D.origin===E.origin&&M!=null?S=M+D.search+D.hash:T=!0}catch{}let j=hh(S,{relative:m}),I=qh(S,{replace:h,state:g,target:x,preventScrollReset:N,relative:m,viewTransition:b});function v(E){d&&d(E),E.defaultPrevented||I(E)}return u.createElement("a",Ma({},w,{href:A||j,onClick:T||f?d:v,ref:o,target:x}))}),jr=u.forwardRef(function(i,o){let{"aria-current":d="page",caseSensitive:m=!1,className:f="",end:h=!1,style:g,to:x,viewTransition:S,children:N}=i,b=cm(i,Mh),w=qa(x,{relative:b.relative}),C=gt(),A=u.useContext(nm),{navigator:T,basename:j}=u.useContext(ss),I=A!=null&&Gh(w)&&S===!0,v=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,E=C.pathname,D=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;m||(E=E.toLowerCase(),D=D?D.toLowerCase():null,v=v.toLowerCase()),D&&j&&(D=wn(D,j)||D);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let B=E===v||!h&&E.startsWith(v)&&E.charAt(M)==="/",z=D!=null&&(D===v||!h&&D.startsWith(v)&&D.charAt(v.length)==="/"),H={isActive:B,isPending:z,isTransitioning:I},ue=B?d:void 0,Y;typeof f=="function"?Y=f(H):Y=[f,B?"active":null,z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Z=typeof g=="function"?g(H):g;return u.createElement(ve,Ma({},b,{"aria-current":ue,className:Y,ref:o,style:Z,to:x,viewTransition:S}),typeof N=="function"?N(H):N)});var to;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(to||(to={}));var Eu;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Eu||(Eu={}));function Wh(r){let i=u.useContext(Ha);return i||Me(!1),i}function qh(r,i){let{target:o,replace:d,state:m,preventScrollReset:f,relative:h,viewTransition:g}=i===void 0?{}:i,x=tt(),S=gt(),N=qa(r,{relative:h});return u.useCallback(b=>{if(zh(b,o)){b.preventDefault();let w=d!==void 0?d:Oa(S)===Oa(N);x(r,{replace:w,state:m,preventScrollReset:f,relative:h,viewTransition:g})}},[S,x,N,d,m,o,r,f,h,g])}function Cn(r){let i=u.useRef(eo(r)),o=u.useRef(!1),d=gt(),m=u.useMemo(()=>_h(d.search,o.current?null:i.current),[d.search]),f=tt(),h=u.useCallback((g,x)=>{const S=eo(typeof g=="function"?g(m):g);o.current=!0,f("?"+S,x)},[f,m]);return[m,h]}function Gh(r,i){i===void 0&&(i={});let o=u.useContext($h);o==null&&Me(!1);let{basename:d}=Wh(to.useViewTransitionState),m=qa(r,{relative:i.relative});if(!o.isTransitioning)return!1;let f=wn(o.currentLocation.pathname,d)||o.currentLocation.pathname,h=wn(o.nextLocation.pathname,d)||o.nextLocation.pathname;return Zi(m.pathname,h)!=null||Zi(m.pathname,f)!=null}const rs=({title:r,description:i,titleAs:o="h2",children:d})=>{const m=o;return s.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6 shadow-xl shadow-slate-950/40",children:[r?s.jsxs("header",{className:"mb-4",children:[s.jsx(m,{className:"text-lg font-semibold text-slate-100",children:r}),i?s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:i}):null]}):null,d]})},Jh={info:"border-sky-400/40 bg-sky-500/10 text-sky-100",warning:"border-amber-400/40 bg-amber-500/10 text-amber-100",error:"border-rose-400/40 bg-rose-500/10 text-rose-100",success:"border-emerald-400/40 bg-emerald-500/10 text-emerald-100"},St=({variant:r="info",children:i})=>s.jsx("div",{className:`rounded-xl border px-4 py-3 text-sm ${Jh[r]}`,children:i}),dm={400:"Please check the entered data and try again.",401:"Your session has expired. Please sign in again.",403:"You dont have permission to access this page.",404:"The requested resource was not found.",409:"This action conflicts with an existing record.",422:"Some fields are invalid. Please review and try again.",429:"Too many attempts. Please try again later.",500:"Something went wrong on our side. Please try again.",503:"The service is temporarily unavailable. Please try again later."};class Ne extends Error{status;title;detail;traceId;errorId;fieldErrors;generalErrors;debug;constructor({status:i,title:o,detail:d,traceId:m,errorId:f,fieldErrors:h,generalErrors:g,debug:x}){super(d||o||dm[i]||"Request failed."),this.name="AppError",this.status=i,this.title=o,this.detail=d,this.traceId=m,this.errorId=f,this.fieldErrors=h,this.generalErrors=g,this.debug=x}}function Qh(r){if(!r||typeof r!="object")return;const i=Object.entries(r).map(([o,d])=>Array.isArray(d)?[o,d.map(String)]:typeof d=="string"?[o,[d]]:[o,[]]).filter(([,o])=>o.length>0);if(i.length!==0)return Object.fromEntries(i)}async function um(r){const i=r.headers.get("content-type")??"";let o=null,d=null;if(i.includes("application/json")||i.includes("application/problem+json"))try{o=await r.json()}catch{o=null}if(!o)try{d=await r.text()}catch{d=null}const m=typeof o?.status=="number"?o.status:r.status,f=typeof o?.title=="string"?o.title:r.statusText,h=typeof o?.detail=="string"?o.detail:d||dm[m],g=Qh(o?.errors),x=Array.isArray(o?.generalErrors)?o.generalErrors.map(String):void 0;return new Ne({status:m,title:f,detail:h,traceId:typeof o?.traceId=="string"?o.traceId:void 0,errorId:typeof o?.errorId=="string"?o.errorId:void 0,fieldErrors:g,generalErrors:x,debug:typeof o?.debug=="object"?o.debug:void 0})}const po=["en","cs","de","pl","sk"],Fa="en",fo="astraid.locale",mm="astraid.lang",Yh={en:"en-US",cs:"cs-CZ",de:"de-DE",pl:"pl-PL",sk:"sk-SK"},Zh={en:"en",cs:"cs",de:"de",pl:"pl",sk:"sk"},br=r=>{if(!r)return Fa;const i=r.trim().toLowerCase(),o=po.find(m=>m===i);if(o)return o;const d=i.split("-")[0];return Zh[d]??Fa},pm=r=>Yh[r],Xh=()=>{try{const r=localStorage.getItem(fo)??localStorage.getItem(mm);return r?br(r):null}catch{return null}},ex=r=>{const i=br(r);try{localStorage.setItem(fo,i),localStorage.removeItem(mm)}catch{}return i},fm=()=>{const r=Xh();if(r)return r;if(typeof navigator<"u"){const i=(navigator.languages??[]).map(o=>br(o));return i.length>0?i[0]:br(navigator.language)}return Fa},ho=()=>pm(fm()),xo="https://localhost:7001",tx=r=>r.startsWith("http")?r:`${xo}${r.startsWith("/")?"":"/"}${r}`,Ve=async(r,i={})=>{const o=await fetch(tx(r),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Language":ho(),...i.headers??{}},...i});if(!o.ok)throw await um(o);if(o.status!==204)return await o.json()},sx=r=>Ve("/auth/login",{method:"POST",body:JSON.stringify(r)}),nx=r=>Ve("/auth/login/mfa",{method:"POST",body:JSON.stringify({mfaToken:r.mfaToken,code:r.code,rememberMachine:r.rememberMachine??!1,useRecoveryCode:r.useRecoveryCode??!1})}),rx=r=>Ve("/auth/register",{method:"POST",body:JSON.stringify(r)}),ax=r=>Ve("/auth/forgot-password",{method:"POST",body:JSON.stringify(r)}),lx=r=>Ve("/auth/reset-password",{method:"POST",body:JSON.stringify(r)}),ix=r=>Ve("/auth/activate",{method:"POST",body:JSON.stringify(r)}),ox=()=>Ve("/auth/logout",{method:"POST"}),cx=()=>Ve("/auth/session"),go=r=>r?r.startsWith("/")?`${xo}${r}`:r:null,dx=r=>Ve("/account/preferences/language",{method:"PUT",body:JSON.stringify({language:r})}),so="astraid.auth.status";let Hi=null,La="loading",hr="",xr=null;const hm=u.createContext(null),ux=r=>r?.isAuthenticated?"authenticated":"anonymous",mx=()=>sessionStorage.getItem(so)==="authenticated"?"authenticated":"loading",px=({children:r})=>{const[i,o]=u.useState(Hi),[d,m]=u.useState(La==="loading"?mx():La),[f,h]=u.useState(hr),g=u.useCallback(async()=>{if(xr){await xr;return}xr=(async()=>{m(N=>N==="authenticated"?N:"loading"),h("");try{const b=await cx(),w=ux(b);o(b),m(w),Hi=b,La=w,hr="",sessionStorage.setItem(so,w)}catch(N){const b="anonymous";o(null),m(b),N instanceof Ne?(h(N.detail??N.message),hr=N.detail??N.message):N instanceof Error?(h(N.message),hr=N.message):(h("Unable to load session."),hr="Unable to load session."),Hi=null,La=b,sessionStorage.setItem(so,b)}})().finally(()=>{xr=null}),await xr},[]);u.useEffect(()=>{g()},[g]);const x=u.useMemo(()=>({session:i,status:d,isLoading:d==="loading",error:f,refresh:g}),[f,g,i,d]);return s.jsx(hm.Provider,{value:x,children:r})},Wt=()=>{const r=u.useContext(hm);if(!r)throw new Error("useAuthSession must be used within AuthSessionProvider.");return r},fx=r=>!!r,yo=()=>fx(void 0)?(void 0).trim():"/admin",vo=r=>/^https?:\/\//i.test(r),gr={"language.label":"Language","language.popoverAria":"Select language","language.listAria":"Supported languages","language.searchPlaceholder":"Search language","language.noResults":"No matching languages","auth.backToHome":"Back to home","auth.backToHomeAria":"Back to home","auth.login.badge":"Authorization Portal","auth.register.badge":"Account Registration","login.metaTitle":"AstraId | Sign in","login.metaDescription":"Sign in to AstraId to securely access your account and enterprise identity features.","login.cardTitle":"Sign in","login.cardDescription":"Access your AstraId account securely.","login.emailOrUsername":"Email or username","login.password":"Password","login.forgotPassword":"Forgot password?","login.hidePassword":"Hide password","login.showPassword":"Show password","login.submit":"Sign in","login.submitting":"Signing in...","login.createAccount":"Create account","register.metaTitle":"AstraId | Create account","register.metaDescription":"Create a new AstraId account with secure registration and enterprise-grade protection.","register.cardTitle":"Create account","register.cardDescription":"Set up your AstraId account.","register.email":"Email","register.password":"Password","register.confirmPassword":"Confirm password","register.passwordHint":"Use at least 8 characters with a mix of letters and numbers.","register.hidePassword":"Hide password","register.showPassword":"Show password","register.hideConfirmedPassword":"Hide confirmed password","register.showConfirmedPassword":"Show confirmed password","register.submit":"Create account","register.submitting":"Creating account...","register.signIn":"Already have an account? Sign in","common.home":"Home","common.login":"Login","common.register":"Register","common.account":"Account","common.admin":"Admin","common.logout":"Logout","common.loadingSession":"Checking session","common.validationFailed":"Validation failed.","common.requestFailed":"Request failed.","auth.layoutTitle":"AstraId authentication","auth.layoutSection":"Authentication form","auth.metaTitle":"AstraId | Authentication","auth.metaDescription":"Sign in or register for AstraId with secure authentication and account protections.","forgot.title":"Reset password","forgot.description":"Enter the email to reset your password.","forgot.email":"Email","forgot.submit":"Send reset link","forgot.submitting":"Sending...","forgot.success":"If an account exists for this email, youll receive a password reset link shortly.","reset.title":"Set a new password","reset.email":"Email","reset.token":"Verification token","reset.newPassword":"New password","reset.confirmPassword":"Confirm new password","reset.submit":"Update password","reset.submitting":"Saving...","reset.success":"Your password was updated. Please sign in again.","activate.title":"Activate account","activate.email":"Email","activate.token":"Verification token","activate.submit":"Activate account","activate.submitting":"Activating...","activate.success":"Your account has been activated. Please sign in.","mfa.title":"Two-factor authentication","mfa.description":"Enter the code from your authenticator app or use a recovery code.","mfa.code":"Verification code","mfa.recoveryCode":"Recovery code","mfa.useRecovery":"Use a recovery code","mfa.remember":"Trust this device","mfa.submit":"Continue","mfa.submitting":"Verifying...","mfa.tokenMissing":"The MFA challenge is no longer available. Please sign in again.","signedIn.goSecurity":"Go to account security","account.sidebarTitle":"Account","account.nav.overview":"Profile","account.nav.security":"Security","account.nav.privacy":"Privacy","account.overview.title":"Profile","account.overview.description":"Your self-service account dashboard.","account.security.title":"Security","account.security.description":"Manage account protections with dedicated security controls.","account.sessions.title":"Sign out all sessions","account.sessions.description":"Invalidate all active sessions except the current flow.","account.sessions.confirm":"Sign out all active sessions? You will need to sign in again on other devices.","account.sessions.submit":"Sign out all sessions","account.sessions.submitting":"Signing out...","account.events.title":"Recent login activity","account.events.description":"Review recent sign-ins and token issuances for your account.","account.events.empty":"No recent login history.","account.events.time":"Time (UTC)","account.events.result":"Result","account.events.client":"Client","account.events.ip":"IP","account.events.userAgent":"User agent","account.events.success":"Success","account.events.failed":"Failed","account.dropdown.aria":"Account menu","error.403.description":"You dont have permission to access this page.","error.403.hint":"If you believe this is a mistake, contact an administrator.","error.404.description":"The requested resource was not found.","error.404.hint":"Check the URL or use the navigation to find what you need.","error.500.description":"Something went wrong on our side. Please try again.","error.500.hint":"If the issue persists, contact support and share the trace ID.","footer.copyright":" {{year}} AstraId","common.metaTitle":"AstraId | Secure Identity","common.metaDescription":"AstraId secure identity portal for sign-in, account management, and access control.","common.main":"Main content","common.primaryNavigation":"Primary","common.unknown":"Unknown","common.unknownUser":"Unknown user","common.notAvailable":"N/A","common.yes":"Yes","common.no":"No","common.submitting":"Submitting...","home.title":"Public UI","home.description":"Public sign-in interface for users.","home.loading":"Loading session...","home.authenticated":"You are signed in. Nothing else to show here yet.","home.user":"User","home.id":"ID","home.email":"Email","home.roles":"Roles","home.permissions":"Permissions","home.anonymous":"You are not signed in. Continue by signing in or registering.","profile.title":"User profile","profile.description":"Information from the identity token and /api/me.","profile.notSignedIn":"You are not signed in. Sign in to view your profile.","profile.permissions":"Permissions","profile.permissionsEmpty":"No permissions found in the token or /api/me.","profile.loading":"Loading data from the API...","profile.error":"Unable to load profile.","integrations.title":"Integrations","integrations.description":"Check the availability of connected services.","integrations.signInRequired":"Sign in to check integrations.","integrations.adminPermissionRequired":"Integrations require the system.admin permission.","integrations.unavailable":"Integrations are unavailable.","integrations.missingToken":"Missing access token.","integrations.authServerPing":"AuthServer ping","integrations.cmsPing":"CMS ping","admin.page.title":"Administration","admin.page.description":"Administration is available only in AuthServer.","admin.page.location":"Admin UI is available at:","admin.page.hint":"If you are an administrator, open it in a new tab.","admin.page.open":"Open administration","callback.title":"Signing you in","callback.description":"Processing the OIDC callback.","callback.progress":"Completing sign-in...","callback.error":"We couldnt complete the sign-in.","confirmEmail.title":"Confirm email change","confirmEmail.description":"Click the button below to confirm your new email address.","confirmEmail.submit":"Confirm email change","confirmEmail.submitting":"Confirming...","confirmEmail.backToLogin":"Back to login","confirmEmail.success":"Your email has been updated.","confirmEmail.error":"Unable to confirm email change.","activate.alreadySignedIn":"You are already signed in. Account activation links are intended for email verification flows.","activate.backToSignIn":"Back to sign in","account.profile.title":"Profile","account.profile.description":"Review basic account information from your current session.","account.profile.username":"Username","account.profile.email":"Email","account.profile.userId":"User ID","account.profile.authentication":"Authentication","account.profile.active":"Active","account.profile.inactive":"Inactive","account.overview.email":"Email","account.overview.emailStatus":"Email status","account.overview.verified":"Verified","account.overview.verificationRequired":"Verification required","account.overview.mfa":"MFA","account.overview.enabled":"Enabled","account.overview.disabled":"Disabled","account.overview.profileCard":"Review your account identity details.","account.overview.securityCard":"Open enterprise security controls and activity pages.","account.email.title":"Email","account.email.description":"Request a change for your account email address.","account.email.newEmail":"New email","account.email.currentPassword":"Current password","account.email.submit":"Send confirmation link","account.email.success":"Check your email for a confirmation link.","account.email.error":"Unable to request email change.","account.password.title":"Password","account.password.description":"Change your password and optionally sign out other sessions.","account.password.current":"Current password","account.password.new":"New password","account.password.confirm":"Confirm password","account.password.signOutOthers":"Sign out other sessions","account.password.submit":"Update password","account.password.updating":"Updating...","account.password.success":"Password updated.","account.password.error":"Unable to update password.","account.sessions.success":"Other sessions were signed out.","account.sessions.error":"Unable to revoke sessions.","account.mfa.title":"MFA","account.mfa.description":"Manage multi-factor authentication for your account.","account.mfa.loading":"Loading MFA status...","account.mfa.loadError":"Unable to load MFA status.","account.mfa.actionError":"Unable to complete MFA action.","account.mfa.status":"MFA status","account.mfa.recoveryCodesLeft":"Recovery codes left","account.mfa.start":"Start MFA setup","account.mfa.sharedKey":"Shared key","account.mfa.verifyEnable":"Verify & enable MFA","account.mfa.enabled":"MFA enabled.","account.mfa.authenticatorCode":"Authenticator code","account.mfa.disable":"Disable MFA","account.mfa.disabledMsg":"MFA disabled.","account.mfa.generateCodes":"Generate recovery codes","account.mfa.codesGenerated":"Recovery codes generated.","account.mfa.startError":"Unable to start MFA setup.","account.mfa.enterVerification":"Enter the verification code from your authenticator app.","account.mfa.verifyError":"Unable to verify the code.","account.mfa.regenError":"Unable to regenerate recovery codes.","account.mfa.enterCode":"Enter the verification code.","account.mfa.disableError":"Unable to disable MFA.","account.mfa.qrAria":"QR code for MFA","account.mfa.loadingQr":"Loading QR","account.mfa.scanQr":"Scan the QR code or use the key:","account.mfa.recoveryCodes":"Recovery codes","account.security.signInRequired":"You must be signed in to manage security settings.","account.security.loading":"Loading security settings...","account.security.loadError":"Unable to load security data.","account.security.emailVerified":"Email verified","account.security.legacyDescription":"Use the dedicated security center to manage password, email, sessions, and MFA.","account.security.openCenter":"Open security center","account.privacy.title":"Privacy","account.privacy.description":"Export your data and manage deletion requests.","account.privacy.exportTitle":"Export my data","account.privacy.exportHelp":"Download a machine-readable JSON export of your account data.","account.privacy.exportButton":"Export my data","account.privacy.exportFailed":"Failed to export your data.","account.privacy.exportDownloaded":"Data export downloaded.","account.privacy.deleteTitle":"Account deletion","account.privacy.deleteHelp":"Request deletion of your account after a cooldown period.","account.privacy.requestDelete":"Request deletion","account.privacy.cancelDelete":"Cancel deletion","account.privacy.deletionRequested":"Deletion requested. Cooldown until {{time}}.","account.privacy.deletionCancelled":"Deletion request cancelled.","diagnostics.title":"Diagnostics","diagnostics.errorId":"Error ID","diagnostics.traceId":"Trace ID","diagnostics.exception":"Exception","diagnostics.request":"Request","diagnostics.innerException":"Inner exception","security.mfa":"MFA management","security.email":"Change email","security.password":"Change password","security.sessions":"Sign out all sessions","security.activity":"Recent login activity","security.mfa.description":"Set up, disable, and recover multi-factor authentication.","security.email.description":"Start a secured email change flow and confirm ownership.","security.password.description":"Update your password and refresh account protection.","security.sessions.description":"Invalidate sessions on every other device.","security.activity.description":"Review recent sign-in successes, failures, and logout events.","privacy.export":"Export my data","privacy.delete":"Request deletion"},Pu={en:gr,cs:{...gr,"language.label":"Jazyk","language.popoverAria":"Vyberte jazyk","language.listAria":"Podporovan jazyky","language.searchPlaceholder":"Hledat jazyk","language.noResults":"dn odpovdajc jazyky","auth.backToHome":"Zpt na hlavn strnku","auth.backToHomeAria":"Zpt na hlavn strnku","auth.login.badge":"Autorizan portl","auth.register.badge":"Registrace tu","login.metaTitle":"AstraId | Pihlen","login.metaDescription":"Pihlaste se do AstraId a zskejte bezpen pstup ke svmu tu a podnikovm funkcm identity.","login.cardTitle":"Pihlen","login.cardDescription":"Bezpen pstup k vaemu tu AstraId.","login.emailOrUsername":"E-mail nebo uivatelsk jmno","login.password":"Heslo","login.forgotPassword":"Zapomenut heslo?","login.hidePassword":"Skrt heslo","login.showPassword":"Zobrazit heslo","login.submit":"Pihlsit se","login.submitting":"Pihlaovn...","login.createAccount":"Vytvoit et","register.metaTitle":"AstraId | Vytvoen tu","register.metaDescription":"Vytvote si nov et AstraId se zabezpeenou registrac a ochranou na podnikov rovni.","register.cardTitle":"Vytvoit et","register.cardDescription":"Nastavte svj et AstraId.","register.email":"E-mail","register.password":"Heslo","register.confirmPassword":"Potvrzen hesla","register.passwordHint":"Pouijte alespo 8 znak v kombinaci psmen a slic.","register.hidePassword":"Skrt heslo","register.showPassword":"Zobrazit heslo","register.hideConfirmedPassword":"Skrt potvrzen heslo","register.showConfirmedPassword":"Zobrazit potvrzen heslo","register.submit":"Vytvoit et","register.submitting":"Vytven tu...","register.signIn":"U mte et? Pihlaste se"},de:{...gr,"language.label":"Sprache","language.popoverAria":"Sprache auswhlen","language.listAria":"Untersttzte Sprachen","language.searchPlaceholder":"Sprache suchen","language.noResults":"Keine passenden Sprachen","auth.backToHome":"Zur Startseite","auth.backToHomeAria":"Zur Startseite","auth.login.badge":"Autorisierungsportal","auth.register.badge":"Konto registrieren","login.metaTitle":"AstraId | Anmelden","login.metaDescription":"Melden Sie sich bei AstraId an, um sicher auf Ihr Konto und auf unternehmensweite Identittsfunktionen zuzugreifen.","login.cardTitle":"Anmelden","login.cardDescription":"Sicherer Zugriff auf Ihr AstraId-Konto.","login.emailOrUsername":"E-Mail oder Benutzername","login.password":"Passwort","login.forgotPassword":"Passwort vergessen?","login.hidePassword":"Passwort ausblenden","login.showPassword":"Passwort anzeigen","login.submit":"Anmelden","login.submitting":"Anmeldung luft...","login.createAccount":"Konto erstellen","register.metaTitle":"AstraId | Konto erstellen","register.metaDescription":"Erstellen Sie ein neues AstraId-Konto mit sicherer Registrierung und Schutz auf Unternehmensniveau.","register.cardTitle":"Konto erstellen","register.cardDescription":"Richten Sie Ihr AstraId-Konto ein.","register.email":"E-Mail","register.password":"Passwort","register.confirmPassword":"Passwort besttigen","register.passwordHint":"Verwenden Sie mindestens 8 Zeichen mit einer Kombination aus Buchstaben und Zahlen.","register.hidePassword":"Passwort ausblenden","register.showPassword":"Passwort anzeigen","register.hideConfirmedPassword":"Besttigtes Passwort ausblenden","register.showConfirmedPassword":"Besttigtes Passwort anzeigen","register.submit":"Konto erstellen","register.submitting":"Konto wird erstellt...","register.signIn":"Sie haben bereits ein Konto? Anmelden"},pl:{...gr,"language.label":"Jzyk","language.popoverAria":"Wybierz jzyk","language.listAria":"Obsugiwane jzyki","language.searchPlaceholder":"Szukaj jzyka","language.noResults":"Brak pasujcych jzykw","auth.backToHome":"Powrt do strony gwnej","auth.backToHomeAria":"Powrt do strony gwnej","auth.login.badge":"Portal autoryzacji","auth.register.badge":"Rejestracja konta","login.metaTitle":"AstraId | Zaloguj si","login.metaDescription":"Zaloguj si do AstraId, aby bezpiecznie uzyska dostp do konta i firmowych funkcji tosamoci.","login.cardTitle":"Zaloguj si","login.cardDescription":"Bezpieczny dostp do konta AstraId.","login.emailOrUsername":"E-mail lub nazwa uytkownika","login.password":"Haso","login.forgotPassword":"Nie pamitasz hasa?","login.hidePassword":"Ukryj haso","login.showPassword":"Poka haso","login.submit":"Zaloguj si","login.submitting":"Logowanie...","login.createAccount":"Utwrz konto","register.metaTitle":"AstraId | Utwrz konto","register.metaDescription":"Utwrz nowe konto AstraId z bezpieczn rejestracj i ochron klasy korporacyjnej.","register.cardTitle":"Utwrz konto","register.cardDescription":"Skonfiguruj swoje konto AstraId.","register.email":"E-mail","register.password":"Haso","register.confirmPassword":"Potwierd haso","register.passwordHint":"Uyj co najmniej 8 znakw, czc litery i cyfry.","register.hidePassword":"Ukryj haso","register.showPassword":"Poka haso","register.hideConfirmedPassword":"Ukryj potwierdzone haso","register.showConfirmedPassword":"Poka potwierdzone haso","register.submit":"Utwrz konto","register.submitting":"Tworzenie konta...","register.signIn":"Masz ju konto? Zaloguj si"},sk:{...gr,"language.label":"Jazyk","language.popoverAria":"Vyberte jazyk","language.listAria":"Podporovan jazyky","language.searchPlaceholder":"Vyhada jazyk","language.noResults":"iadne zodpovedajce jazyky","auth.backToHome":"Sp na hlavn strnku","auth.backToHomeAria":"Sp na hlavn strnku","auth.login.badge":"Autorizan portl","auth.register.badge":"Registrcia tu","login.metaTitle":"AstraId | Prihlsenie","login.metaDescription":"Prihlste sa do AstraId a zskajte bezpen prstup k svojmu tu a podnikovm funkcim identity.","login.cardTitle":"Prihlsenie","login.cardDescription":"Bezpen prstup k vmu tu AstraId.","login.emailOrUsername":"E-mail alebo pouvatesk meno","login.password":"Heslo","login.forgotPassword":"Zabudnut heslo?","login.hidePassword":"Skry heslo","login.showPassword":"Zobrazi heslo","login.submit":"Prihlsi sa","login.submitting":"Prihlasovanie...","login.createAccount":"Vytvori et","register.metaTitle":"AstraId | Vytvorenie tu","register.metaDescription":"Vytvorte si nov et AstraId so zabezpeenou registrciou a ochranou na podnikovej rovni.","register.cardTitle":"Vytvori et","register.cardDescription":"Nastavte si et AstraId.","register.email":"E-mail","register.password":"Heslo","register.confirmPassword":"Potvrdenie hesla","register.passwordHint":"Pouite aspo 8 znakov v kombincii psmen a slic.","register.hidePassword":"Skry heslo","register.showPassword":"Zobrazi heslo","register.hideConfirmedPassword":"Skry potvrden heslo","register.showConfirmedPassword":"Zobrazi potvrden heslo","register.submit":"Vytvori et","register.submitting":"Vytvranie tu...","register.signIn":"U mte et? Prihlste sa"}},xm=u.createContext(null),hx=({children:r})=>{const[i,o]=u.useState(()=>fm()),d=u.useCallback(f=>{const h=ex(f);o(h)},[]);u.useEffect(()=>{document.documentElement.lang=pm(i)},[i]),u.useEffect(()=>{const f=h=>{h.key!==null&&h.key!==fo&&h.key!=="astraid.lang"||o(br(h.newValue))};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]);const m=u.useMemo(()=>({locale:i,setLocale:d,t:f=>Pu[i][f]??Pu[Fa][f]}),[i,d]);return s.jsx(xm.Provider,{value:m,children:r})},De=()=>{const r=u.useContext(xm);if(!r)throw new Error("useLanguage must be used within LanguageProvider");return r},xx=()=>{const{t:r}=De(),{session:i,isLoading:o,error:d}=Wt(),m=yo(),f=vo(m),h=u.useMemo(()=>i?.permissions?.length?i.permissions.some(g=>g.toLowerCase()==="system.admin"):!1,[i]);return s.jsx("div",{className:"flex flex-col gap-6",children:s.jsx(rs,{title:r("home.title"),description:r("home.description"),children:s.jsx("div",{className:"flex flex-col gap-3 text-sm text-slate-300",children:o?s.jsx(St,{variant:"info",children:r("home.loading")}):d?s.jsx(St,{variant:"warning",children:d}):i&&i.isAuthenticated?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-base font-semibold text-white",children:r("home.authenticated")}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("p",{className:"text-sm text-slate-400",children:r("home.user")}),s.jsx("p",{className:"text-sm text-white",children:i.userName??i.email??r("common.unknownUser")}),i.userId?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:r("home.id")}),s.jsx("p",{className:"text-xs text-slate-300",children:i.userId})]}):null,i.email?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:r("home.email")}),s.jsx("p",{className:"text-sm text-slate-200",children:i.email})]}):null,i.roles.length?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:r("home.roles")}),s.jsx("p",{className:"text-xs text-slate-300",children:i.roles.join(", ")})]}):null,i.permissions.length?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:r("home.permissions")}),s.jsx("p",{className:"text-xs text-slate-300",children:i.permissions.join(", ")})]}):null]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(ve,{className:"rounded-lg border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500",to:"/account",children:r("common.account")}),h?f?s.jsx("a",{className:"rounded-lg bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:bg-slate-700",href:m,children:r("common.admin")}):s.jsx(ve,{className:"rounded-lg bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:bg-slate-700",to:m,children:r("common.admin")}):null]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:r("home.anonymous")}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(ve,{className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400",to:"/login",children:r("login.submit")}),s.jsx(ve,{className:"rounded-lg border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500",to:"/register",children:r("common.register")})]})]})})})})};const gx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,o,d)=>d?d.toUpperCase():o.toLowerCase()),Ru=r=>{const i=yx(r);return i.charAt(0).toUpperCase()+i.slice(1)},gm=(...r)=>r.filter((i,o,d)=>!!i&&i.trim()!==""&&d.indexOf(i)===o).join(" ").trim(),vx=r=>{for(const i in r)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};var jx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bx=u.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:f,iconNode:h,...g},x)=>u.createElement("svg",{ref:x,...jx,width:i,height:i,stroke:r,strokeWidth:d?Number(o)*24/Number(i):o,className:gm("lucide",m),...!f&&!vx(g)&&{"aria-hidden":"true"},...g},[...h.map(([S,N])=>u.createElement(S,N)),...Array.isArray(f)?f:[f]]));const dt=(r,i)=>{const o=u.forwardRef(({className:d,...m},f)=>u.createElement(bx,{ref:f,iconNode:i,className:gm(`lucide-${gx(Ru(r))}`,`lucide-${r}`,d),...m}));return o.displayName=Ru(r),o};const wx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ym=dt("arrow-right",wx);const Nx=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sx=dt("badge-check",Nx);const kx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cx=dt("check",kx);const Ex=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Px=dt("chevron-down",Ex);const Rx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],no=dt("eye-off",Rx);const Tx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ro=dt("eye",Tx);const Ix=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],vm=dt("house",Ix);const Dx=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],jm=dt("languages",Dx);const Lx=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ax=dt("log-in",Lx);const Ux=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bm=dt("lock",Ux);const zx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wm=dt("mail",zx);const _x=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ox=dt("search",_x);const Mx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fx=dt("shield-check",Mx);const $x=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}],["path",{d:"M12 9v6",key:"199k2o"}]],Bx=dt("shield-plus",$x);const Vx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Kx=dt("user-plus",Vx);function Ot({traceId:r,errorId:i,debug:o,compact:d=!1}){const{t:m}=De();return!r&&!i&&!o?null:s.jsxs("details",{className:`rounded-lg border border-slate-700/60 bg-slate-950/50 ${d?"px-3 py-2 text-xs":"px-4 py-3 text-sm"}`,children:[s.jsx("summary",{className:"cursor-pointer font-semibold text-slate-200",children:m("diagnostics.title")}),s.jsxs("div",{className:"mt-3 space-y-2 text-slate-300",children:[i&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-slate-200",children:[m("diagnostics.errorId"),":"]})," ",i]}),r&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-slate-200",children:[m("diagnostics.traceId"),":"]})," ",r]}),o?.exceptionType&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-slate-200",children:[m("diagnostics.exception"),":"]})," ",o.exceptionType]}),(o?.path||o?.method)&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-slate-200",children:[m("diagnostics.request"),":"]})," ",[o.method,o.path].filter(Boolean).join(" ")]}),o?.innerExceptionSummary&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-slate-200",children:[m("diagnostics.innerException"),":"]})," ",o.innerExceptionSummary]}),o?.stackTrace&&s.jsx("pre",{className:"max-h-64 overflow-auto rounded-md bg-slate-900/70 p-3 text-xs text-slate-200",children:o.stackTrace})]})]})}function wt({message:r}){return r?s.jsx("p",{className:"mt-1 text-xs text-rose-300",children:r}):null}const Wi={en:{nativeName:"English",code:"en-US",flag:""},cs:{nativeName:"etina",code:"cs-CZ",flag:""},sk:{nativeName:"Slovenina",code:"sk-SK",flag:""},de:{nativeName:"Deutsch",code:"de-DE",flag:""},pl:{nativeName:"Polski",code:"pl-PL",flag:""}};function Nm({value:r,onChange:i,compact:o=!1,placement:d="bottom-start",fullWidth:m=!1}){const{t:f}=De(),[h,g]=u.useState(!1),[x,S]=u.useState(""),[N,b]=u.useState(0),w=u.useRef(null),C=u.useRef(null),A=u.useRef(null),T=u.useId(),j=u.useId(),I=u.useId(),v=u.useMemo(()=>po.map(H=>({locale:H,...Wi[H]})),[]),E=u.useMemo(()=>{const H=x.trim().toLowerCase();return H?v.filter(({nativeName:ue,code:Y})=>ue.toLowerCase().includes(H)||Y.toLowerCase().includes(H)):v},[v,x]);u.useEffect(()=>{if(!h){S(""),b(0);return}const H=E.findIndex(ue=>ue.locale===r);b(H>=0?H:0)},[E,h,r]),u.useEffect(()=>{if(!h)return;const H=Y=>{const Z=Y.target;w.current?.contains(Z)||g(!1)},ue=Y=>{Y.key==="Escape"&&(Y.preventDefault(),g(!1))};return document.addEventListener("mousedown",H),document.addEventListener("touchstart",H),document.addEventListener("keydown",ue),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("touchstart",H),document.removeEventListener("keydown",ue)}},[h]),u.useEffect(()=>{if(h){A.current?.focus();return}C.current?.focus()},[h]);const D=H=>{i(H),g(!1)},M=H=>{if(E.length){if(H.key==="ArrowDown"){H.preventDefault(),b(ue=>(ue+1)%E.length);return}if(H.key==="ArrowUp"){H.preventDefault(),b(ue=>(ue-1+E.length)%E.length);return}if(H.key==="Enter"){H.preventDefault();const ue=E[Math.max(N,0)];ue&&D(ue.locale)}}},B=E[N]?`${I}-${E[N].locale}`:void 0,z=d==="bottom-end"?"right-0":"left-0";return s.jsxs("div",{ref:w,className:`relative flex flex-col gap-1.5 ${o?"":"mt-2"}`,children:[s.jsxs("label",{htmlFor:T,className:"inline-flex items-center gap-2 text-xs text-slate-300",children:[s.jsx(jm,{className:"h-3.5 w-3.5","aria-hidden":"true"}),s.jsx("span",{children:f("language.label")})]}),s.jsxs("button",{id:T,ref:C,type:"button","aria-haspopup":"dialog","aria-expanded":h,"aria-controls":j,className:`inline-flex items-center justify-between gap-2 rounded-full border border-slate-700/80 bg-slate-900/70 px-3 py-1.5 text-sm text-slate-100 shadow-lg shadow-slate-950/30 backdrop-blur-md transition hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/70 ${m?"w-full":"min-w-[11rem]"}`,onClick:()=>g(H=>!H),children:[s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{"aria-hidden":"true",children:Wi[r].flag}),s.jsx("span",{children:Wi[r].nativeName})]}),s.jsx(Px,{className:`h-4 w-4 text-slate-300 transition-transform motion-reduce:transition-none ${h?"rotate-180":""}`,"aria-hidden":"true"})]}),s.jsxs("div",{id:j,role:"dialog","aria-label":f("language.popoverAria"),className:`absolute ${z} top-full z-30 mt-2 rounded-2xl border border-slate-700/80 bg-slate-950/90 p-2 shadow-2xl shadow-slate-950/60 backdrop-blur-md transition duration-150 motion-reduce:transition-none ${m?"w-full":"w-72"} ${h?"pointer-events-auto scale-100 opacity-100":"pointer-events-none scale-95 opacity-0"}`,onKeyDown:M,children:[s.jsxs("div",{className:"relative mb-2",children:[s.jsx(Ox,{className:"pointer-events-none absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-500","aria-hidden":"true"}),s.jsx("input",{ref:A,type:"text",value:x,onChange:H=>S(H.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-900/80 py-1.5 pl-8 pr-3 text-xs text-slate-100 outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40",placeholder:f("language.searchPlaceholder"),"aria-label":f("language.searchPlaceholder")})]}),s.jsx("ul",{id:I,role:"listbox","aria-label":f("language.listAria"),"aria-activedescendant":B,className:"max-h-56 overflow-y-auto rounded-xl",tabIndex:0,children:E.length===0?s.jsx("li",{className:"px-3 py-2 text-xs text-slate-400",children:f("language.noResults")}):E.map((H,ue)=>{const Y=H.locale===r,Z=ue===N;return s.jsx("li",{id:`${I}-${H.locale}`,role:"option","aria-selected":Y,children:s.jsxs("button",{type:"button",className:`flex w-full items-center justify-between rounded-lg px-2.5 py-2 text-left text-sm transition focus:outline-none ${Z?"bg-indigo-500/20 text-indigo-100":"text-slate-200 hover:bg-slate-800/80"}`,onMouseEnter:()=>b(ue),onClick:()=>D(H.locale),children:[s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{"aria-hidden":"true",children:H.flag}),s.jsx("span",{children:H.nativeName})]}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-slate-400",children:[H.code,Y?s.jsx(Cx,{className:"h-3.5 w-3.5 text-emerald-300","aria-hidden":"true"}):null]})]})},H.locale)})})]})]})}const Hx='meta[name="description"]',Ga=({title:r,description:i})=>{u.useEffect(()=>{document.title=r;let o=document.querySelector(Hx);o||(o=document.createElement("meta"),o.name="description",document.head.appendChild(o)),o.content=i},[i,r])},Wx=()=>{const{locale:r,setLocale:i,t:o}=De();Ga({title:o("login.metaTitle"),description:o("login.metaDescription")});const d=tt(),[m]=Cn(),f=m.get("returnUrl"),[h,g]=u.useState(""),[x,S]=u.useState(""),[N,b]=u.useState(!1),[w,C]=u.useState(null),[A,T]=u.useState({}),[j,I]=u.useState(!1),v=async E=>{E.preventDefault(),C(null),T({}),I(!0);try{const D=await sx({emailOrUsername:h,password:x,returnUrl:f});if(D.requiresTwoFactor){const B=D.mfaToken;if(!B)throw new Error("Missing MFA token. Please try again.");const z=new URLSearchParams;z.set("token",B),(D.redirectTo??f)&&z.set("returnUrl",D.redirectTo??f??""),d(`/mfa?${z.toString()}`,{replace:!0});return}const M=go(D.redirectTo??f??null);M?window.location.href=M:d("/",{replace:!0})}catch(D){if(D&&typeof D=="object"&&"status"in D){const M=D;C(M),T(M.fieldErrors??{})}else C(new Ne({status:500,detail:"Unable to sign in."}))}finally{I(!1)}};return s.jsx("main",{className:"mx-auto w-full max-w-md",children:s.jsx(rs,{title:o("login.cardTitle"),titleAs:"h1",description:o("login.cardDescription"),children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:v,noValidate:!0,children:[s.jsxs("div",{className:"-mb-1 flex items-center justify-between gap-2",children:[s.jsxs("p",{className:"inline-flex items-center gap-1 text-xs uppercase tracking-[0.18em] text-indigo-300",children:[s.jsx(Fx,{className:"h-3.5 w-3.5","aria-hidden":"true"}),o("auth.login.badge")]}),s.jsxs(ve,{to:"/","aria-label":o("auth.backToHomeAria"),className:"inline-flex items-center gap-2 rounded-lg border border-slate-700 bg-slate-900 px-3 py-1.5 text-xs font-medium text-slate-200 transition hover:border-slate-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950",children:[s.jsx(vm,{className:"h-4 w-4","aria-hidden":"true"}),o("auth.backToHome")]})]}),w?s.jsxs("div",{className:"flex flex-col gap-3",role:"alert","aria-live":"polite",children:[s.jsx(St,{variant:"error",children:w.detail??w.message}),s.jsx(Ot,{traceId:w.traceId,errorId:w.errorId,debug:w.debug,compact:!0})]}):null,s.jsxs("div",{children:[s.jsx("label",{htmlFor:"login-identity",className:"text-sm text-slate-200",children:o("login.emailOrUsername")}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(wm,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500","aria-hidden":"true"}),s.jsx("input",{id:"login-identity",className:"w-full rounded-lg border border-slate-700 bg-slate-950 py-2 pl-10 pr-3 text-white outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40",type:"text",value:h,onChange:E=>g(E.target.value),autoComplete:"username","aria-invalid":!!A.emailOrUsername?.[0],"aria-describedby":A.emailOrUsername?.[0]?"login-identity-error":void 0,required:!0})]}),s.jsx("div",{id:"login-identity-error",children:s.jsx(wt,{message:A.emailOrUsername?.[0]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[s.jsx("label",{htmlFor:"login-password",className:"text-sm text-slate-200",children:o("login.password")}),s.jsx(ve,{className:"text-xs text-indigo-300 transition hover:text-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",to:"/forgot-password",children:o("login.forgotPassword")})]}),s.jsxs("div",{className:"relative",children:[s.jsx(bm,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500","aria-hidden":"true"}),s.jsx("input",{id:"login-password",className:"w-full rounded-lg border border-slate-700 bg-slate-950 py-2 pl-10 pr-11 text-white outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40",type:N?"text":"password",value:x,onChange:E=>S(E.target.value),autoComplete:"current-password","aria-invalid":!!A.password?.[0],"aria-describedby":A.password?.[0]?"login-password-error":void 0,required:!0}),s.jsx("button",{type:"button",onClick:()=>b(E=>!E),className:"absolute right-2 top-1/2 inline-flex -translate-y-1/2 rounded p-1 text-slate-300 transition hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":o(N?"login.hidePassword":"login.showPassword"),"aria-pressed":N,children:N?s.jsx(no,{className:"h-4 w-4","aria-hidden":"true"}):s.jsx(ro,{className:"h-4 w-4","aria-hidden":"true"})})]}),s.jsx("div",{id:"login-password-error",children:s.jsx(wt,{message:A.password?.[0]})})]}),s.jsxs("button",{type:"submit",disabled:j,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950 disabled:cursor-not-allowed disabled:opacity-60",children:[s.jsx(ym,{className:"h-4 w-4","aria-hidden":"true"}),o(j?"login.submitting":"login.submit")]}),s.jsxs(ve,{to:"/register",className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-600 bg-slate-900 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950",children:[s.jsx(Kx,{className:"h-4 w-4","aria-hidden":"true"}),o("login.createAccount")]}),s.jsx("div",{className:"mt-6",children:s.jsx(Nm,{value:r,onChange:i,compact:!0,fullWidth:!0})})]})})})},qx=()=>{const{locale:r,setLocale:i,t:o}=De();Ga({title:o("register.metaTitle"),description:o("register.metaDescription")});const d=tt(),[m]=Cn(),f=m.get("returnUrl"),[h,g]=u.useState(""),[x,S]=u.useState(""),[N,b]=u.useState(""),[w,C]=u.useState(!1),[A,T]=u.useState(!1),[j,I]=u.useState(null),[v,E]=u.useState({}),[D,M]=u.useState(!1),B=async z=>{z.preventDefault(),I(null),E({}),M(!0);try{await rx({email:h,password:x,confirmPassword:N,returnUrl:f});const H=go(f);H?window.location.href=H:d("/",{replace:!0})}catch(H){if(H&&typeof H=="object"&&"status"in H){const ue=H;I(ue),E(ue.fieldErrors??{})}else I(new Ne({status:500,detail:"Unable to register."}))}finally{M(!1)}};return s.jsx("main",{className:"mx-auto w-full max-w-md",children:s.jsx(rs,{title:o("register.cardTitle"),titleAs:"h1",description:o("register.cardDescription"),children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:B,noValidate:!0,children:[s.jsxs("div",{className:"-mb-1 flex items-center justify-between gap-2",children:[s.jsxs("p",{className:"inline-flex items-center gap-1 text-xs uppercase tracking-[0.18em] text-indigo-300",children:[s.jsx(Bx,{className:"h-3.5 w-3.5","aria-hidden":"true"}),o("auth.register.badge")]}),s.jsxs(ve,{to:"/","aria-label":o("auth.backToHomeAria"),className:"inline-flex items-center gap-2 rounded-lg border border-slate-700 bg-slate-900 px-3 py-1.5 text-xs font-medium text-slate-200 transition hover:border-slate-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950",children:[s.jsx(vm,{className:"h-4 w-4","aria-hidden":"true"}),o("auth.backToHome")]})]}),j?s.jsxs("div",{className:"flex flex-col gap-3",role:"alert","aria-live":"polite",children:[s.jsx(St,{variant:"error",children:j.detail??j.message}),s.jsx(Ot,{traceId:j.traceId,errorId:j.errorId,debug:j.debug,compact:!0})]}):null,s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-email",className:"text-sm text-slate-200",children:o("register.email")}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(wm,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500","aria-hidden":"true"}),s.jsx("input",{id:"register-email",className:"w-full rounded-lg border border-slate-700 bg-slate-950 py-2 pl-10 pr-3 text-white outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40",type:"email",value:h,onChange:z=>g(z.target.value),autoComplete:"email","aria-invalid":!!v.email?.[0],"aria-describedby":v.email?.[0]?"register-email-error":void 0,required:!0})]}),s.jsx("div",{id:"register-email-error",children:s.jsx(wt,{message:v.email?.[0]})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-password",className:"text-sm text-slate-200",children:o("register.password")}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(bm,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500","aria-hidden":"true"}),s.jsx("input",{id:"register-password",className:"w-full rounded-lg border border-slate-700 bg-slate-950 py-2 pl-10 pr-11 text-white outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40",type:w?"text":"password",value:x,onChange:z=>S(z.target.value),autoComplete:"new-password","aria-invalid":!!v.password?.[0],"aria-describedby":v.password?.[0]?"register-password-error":"register-password-hint",required:!0}),s.jsx("button",{type:"button",onClick:()=>C(z=>!z),className:"absolute right-2 top-1/2 inline-flex -translate-y-1/2 rounded p-1 text-slate-300 transition hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":o(w?"register.hidePassword":"register.showPassword"),"aria-pressed":w,children:w?s.jsx(no,{className:"h-4 w-4","aria-hidden":"true"}):s.jsx(ro,{className:"h-4 w-4","aria-hidden":"true"})})]}),s.jsx("p",{id:"register-password-hint",className:"mt-2 text-xs text-slate-400",children:o("register.passwordHint")}),s.jsx("div",{id:"register-password-error",children:s.jsx(wt,{message:v.password?.[0]})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"register-confirm-password",className:"text-sm text-slate-200",children:o("register.confirmPassword")}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Sx,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500","aria-hidden":"true"}),s.jsx("input",{id:"register-confirm-password",className:"w-full rounded-lg border border-slate-700 bg-slate-950 py-2 pl-10 pr-11 text-white outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40",type:A?"text":"password",value:N,onChange:z=>b(z.target.value),autoComplete:"new-password","aria-invalid":!!v.confirmPassword?.[0],"aria-describedby":v.confirmPassword?.[0]?"register-confirm-password-error":void 0,required:!0}),s.jsx("button",{type:"button",onClick:()=>T(z=>!z),className:"absolute right-2 top-1/2 inline-flex -translate-y-1/2 rounded p-1 text-slate-300 transition hover:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":o(A?"register.hideConfirmedPassword":"register.showConfirmedPassword"),"aria-pressed":A,children:A?s.jsx(no,{className:"h-4 w-4","aria-hidden":"true"}):s.jsx(ro,{className:"h-4 w-4","aria-hidden":"true"})})]}),s.jsx("div",{id:"register-confirm-password-error",children:s.jsx(wt,{message:v.confirmPassword?.[0]})})]}),s.jsxs("button",{type:"submit",disabled:D,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950 disabled:cursor-not-allowed disabled:opacity-60",children:[s.jsx(ym,{className:"h-4 w-4","aria-hidden":"true"}),o(D?"register.submitting":"register.submit")]}),s.jsxs(ve,{to:"/login",className:"inline-flex items-center justify-center gap-2 rounded-lg border border-slate-600 bg-slate-900 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-950",children:[s.jsx(Ax,{className:"h-4 w-4","aria-hidden":"true"}),o("register.signIn")]}),s.jsx("div",{className:"mt-6",children:s.jsx(Nm,{value:r,onChange:i,compact:!0,fullWidth:!0})})]})})})},Gx=()=>{const{t:r}=De(),[i,o]=u.useState(""),[d,m]=u.useState(null),[f,h]=u.useState({}),[g,x]=u.useState(""),[S,N]=u.useState(!1),b=async w=>{w.preventDefault(),m(null),h({}),x(""),N(!0);try{const C=await ax({email:i});x(C.message??r("forgot.success"))}catch(C){if(C&&typeof C=="object"&&"status"in C){const A=C;m(A),h(A.fieldErrors??{})}else m(new Ne({status:500,detail:r("common.requestFailed")}))}finally{N(!1)}};return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(rs,{title:r("forgot.title"),description:r("forgot.description"),children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:b,children:[d?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(St,{variant:"error",children:d.detail??d.message}),s.jsx(Ot,{traceId:d.traceId,errorId:d.errorId,debug:d.debug,compact:!0})]}):null,g?s.jsx(St,{variant:"success",children:g}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:[r("forgot.email"),s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"email",value:i,onChange:w=>o(w.target.value),autoComplete:"email",required:!0}),s.jsx(wt,{message:f.email?.[0]})]}),s.jsx("button",{type:"submit",disabled:S,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:r(S?"forgot.submitting":"forgot.submit")})]})})})};function Sm({title:r,message:i}){const{t:o}=De();return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(rs,{title:r,children:s.jsxs("div",{className:"space-y-4 text-sm text-slate-300",children:[s.jsx("p",{children:i}),s.jsx(ve,{to:"/account/security",className:"inline-flex rounded-lg bg-indigo-500 px-4 py-2 font-semibold text-white transition hover:bg-indigo-400",children:o("signedIn.goSecurity")})]})})})}const Jx=()=>{const{t:r}=De(),{status:i}=Wt(),[o]=Cn(),d=u.useMemo(()=>o.get("email")??"",[o]),m=u.useMemo(()=>o.get("token")??"",[o]),[f,h]=u.useState(d),[g,x]=u.useState(m),[S,N]=u.useState(""),[b,w]=u.useState(""),[C,A]=u.useState(null),[T,j]=u.useState({}),[I,v]=u.useState(""),[E,D]=u.useState(!1),M=async B=>{B.preventDefault(),A(null),j({}),v(""),D(!0);try{await lx({email:f,token:g,newPassword:S,confirmPassword:b}),v(r("reset.success"))}catch(z){if(z&&typeof z=="object"&&"status"in z){const H=z;A(H),j(H.fieldErrors??{})}else A(new Ne({status:500,detail:r("common.requestFailed")}))}finally{D(!1)}};return i==="authenticated"?s.jsx(Sm,{title:r("forgot.title"),message:r("reset.title")}):s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(rs,{title:r("reset.title"),children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:M,children:[C?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(St,{variant:"error",children:C.detail??C.message}),s.jsx(Ot,{traceId:C.traceId,errorId:C.errorId,debug:C.debug,compact:!0})]}):null,I?s.jsx(St,{variant:"success",children:I}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:[r("reset.email"),s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"email",value:f,onChange:B=>h(B.target.value),autoComplete:"email",required:!0}),s.jsx(wt,{message:T.email?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:["Reset token",s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:g,onChange:B=>x(B.target.value),required:!0}),s.jsx(wt,{message:T.token?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:[r("reset.newPassword"),s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"password",value:S,onChange:B=>N(B.target.value),autoComplete:"new-password",required:!0}),s.jsx(wt,{message:T.newPassword?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:[r("reset.confirmPassword"),s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"password",value:b,onChange:B=>w(B.target.value),autoComplete:"new-password",required:!0}),s.jsx(wt,{message:T.confirmPassword?.[0]})]}),s.jsx("button",{type:"submit",disabled:E,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:r(E?"reset.submitting":"reset.submit")}),I?s.jsx("div",{className:"text-xs text-slate-400",children:s.jsx(ve,{className:"hover:text-slate-200",to:"/login",children:"Back to sign in"})}):null]})})})},Qx=()=>{const{t:r}=De(),{status:i}=Wt(),[o]=Cn(),d=u.useMemo(()=>o.get("email")??"",[o]),m=u.useMemo(()=>o.get("token")??"",[o]),[f,h]=u.useState(d),[g,x]=u.useState(m),[S,N]=u.useState(null),[b,w]=u.useState({}),[C,A]=u.useState(""),[T,j]=u.useState(!1),I=async v=>{v.preventDefault(),N(null),w({}),A(""),j(!0);try{await ix({email:f,token:g}),A(r("activate.success"))}catch(E){if(E&&typeof E=="object"&&"status"in E){const D=E;N(D),w(D.fieldErrors??{})}else N(new Ne({status:500,detail:r("common.requestFailed")}))}finally{j(!1)}};return i==="authenticated"?s.jsx(Sm,{title:r("activate.title"),message:r("activate.alreadySignedIn")}):s.jsx("div",{className:"mx-auto flex max-w-3xl flex-col gap-6",children:s.jsx(rs,{title:r("activate.title"),children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:I,children:[S?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(St,{variant:"error",children:S.detail??S.message}),s.jsx(Ot,{traceId:S.traceId,errorId:S.errorId,debug:S.debug,compact:!0})]}):null,C?s.jsx(St,{variant:"success",children:C}):null,s.jsxs("label",{className:"text-sm text-slate-200",children:[r("activate.email"),s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"email",value:f,onChange:v=>h(v.target.value),autoComplete:"email",required:!0}),s.jsx(wt,{message:b.email?.[0]})]}),s.jsxs("label",{className:"text-sm text-slate-200",children:[r("activate.token"),s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:g,onChange:v=>x(v.target.value),required:!0}),s.jsx(wt,{message:b.token?.[0]})]}),s.jsx("button",{type:"submit",disabled:T,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:r(T?"activate.submitting":"activate.submit")}),C?s.jsx("div",{className:"text-xs text-slate-400",children:s.jsx(ve,{className:"hover:text-slate-200",to:"/login",children:r("activate.backToSignIn")})}):null]})})})};function Yx({children:r}){const{session:i,isLoading:o}=Wt(),d=gt();if(o)return s.jsx("div",{className:"py-10 text-sm text-slate-400",children:"Loading account..."});if(!i?.isAuthenticated){const m=`${d.pathname}${d.search}${d.hash}`;return s.jsx(Ks,{to:`/login?returnUrl=${encodeURIComponent(m)}`,replace:!0})}return s.jsx(s.Fragment,{children:r})}const Zx=({isActive:r})=>`flex items-center gap-2 rounded-xl px-3 py-2 text-sm transition ${r?"bg-indigo-500/20 text-indigo-100 ring-1 ring-indigo-400/30":"text-slate-300 hover:bg-slate-800 hover:text-white"}`;function qi({to:r,icon:i,label:o,onClick:d,end:m}){return s.jsxs(jr,{to:r,className:Zx,onClick:d,end:m,children:[i,o]})}const Ts=({children:r,className:i,...o})=>s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,...o,children:r}),Xx=r=>s.jsxs(Ts,{...r,children:[s.jsx("rect",{x:"3",y:"3",width:"8",height:"8",rx:"1"}),s.jsx("rect",{x:"13",y:"3",width:"8",height:"5",rx:"1"}),s.jsx("rect",{x:"13",y:"10",width:"8",height:"11",rx:"1"}),s.jsx("rect",{x:"3",y:"13",width:"8",height:"8",rx:"1"})]}),Gi=r=>s.jsx(Ts,{...r,children:s.jsx("path",{d:"M12 3l8 3v6c0 5-3.5 8-8 9-4.5-1-8-4-8-9V6l8-3z"})}),Tu=r=>s.jsxs(Ts,{...r,children:[s.jsx("circle",{cx:"8",cy:"12",r:"3"}),s.jsx("path",{d:"M11 12h10"}),s.jsx("path",{d:"M18 9v6"}),s.jsx("path",{d:"M21 10v4"})]}),e0=r=>s.jsxs(Ts,{...r,children:[s.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M3 7l9 6 9-6"})]}),t0=r=>s.jsxs(Ts,{...r,children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"12",rx:"2"}),s.jsx("path",{d:"M12 16v4"}),s.jsx("path",{d:"M8 20h8"})]}),Iu=r=>s.jsx(Ts,{...r,children:s.jsx("path",{d:"M3 12h4l2-5 4 10 2-5h6"})}),s0=r=>s.jsxs(Ts,{...r,children:[s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M19.4 15a1.7 1.7 0 0 0 .3 1.8l.1.1a2 2 0 1 1-2.8 2.8l-.1-.1a1.7 1.7 0 0 0-1.8-.3 1.7 1.7 0 0 0-1 1.5V21a2 2 0 1 1-4 0v-.2a1.7 1.7 0 0 0-1-1.5 1.7 1.7 0 0 0-1.8.3l-.1.1A2 2 0 1 1 4.4 17l.1-.1a1.7 1.7 0 0 0 .3-1.8 1.7 1.7 0 0 0-1.5-1H3a2 2 0 1 1 0-4h.2a1.7 1.7 0 0 0 1.5-1 1.7 1.7 0 0 0-.3-1.8l-.1-.1A2 2 0 1 1 7 4.4l.1.1a1.7 1.7 0 0 0 1.8.3h.1a1.7 1.7 0 0 0 1-1.5V3a2 2 0 1 1 4 0v.2a1.7 1.7 0 0 0 1 1.5h.1a1.7 1.7 0 0 0 1.8-.3l.1-.1A2 2 0 1 1 19.6 7l-.1.1a1.7 1.7 0 0 0-.3 1.8v.1a1.7 1.7 0 0 0 1.5 1H21a2 2 0 1 1 0 4h-.2a1.7 1.7 0 0 0-1.5 1z"})]}),n0=r=>s.jsxs(Ts,{...r,children:[s.jsx("path",{d:"M10 17l5-5-5-5"}),s.jsx("path",{d:"M15 12H3"}),s.jsx("path",{d:"M21 19V5a2 2 0 0 0-2-2h-6"})]}),Be={profile:Xx,security:Gi,mfa:Gi,email:e0,password:Tu,sessions:t0,activity:Iu,admin:s0,privacy:Gi,export:Iu,delete:Tu,logout:n0},r0=[{key:"profile",labelKey:"account.nav.overview",to:"/account",icon:Be.profile},{key:"security",labelKey:"account.nav.security",to:"/account/security",icon:Be.security},{key:"mfa",labelKey:"security.mfa",to:"/account/security/mfa",icon:Be.mfa},{key:"email",labelKey:"security.email",to:"/account/security/email",icon:Be.email},{key:"password",labelKey:"security.password",to:"/account/security/password",icon:Be.password},{key:"sessions",labelKey:"security.sessions",to:"/account/security/sessions",icon:Be.sessions},{key:"activity",labelKey:"security.activity",to:"/account/security/activity",icon:Be.activity},{key:"privacy",labelKey:"account.nav.privacy",to:"/account/privacy",icon:Be.privacy},{key:"export",labelKey:"privacy.export",to:"/account/privacy",icon:Be.export},{key:"delete",labelKey:"privacy.delete",to:"/account/privacy",icon:Be.delete}],ao=[{key:"mfa",labelKey:"security.mfa",to:"/account/security/mfa",descriptionKey:"security.mfa.description",icon:Be.mfa},{key:"email",labelKey:"security.email",to:"/account/security/email",descriptionKey:"security.email.description",icon:Be.email},{key:"password",labelKey:"security.password",to:"/account/security/password",descriptionKey:"security.password.description",icon:Be.password},{key:"sessions",labelKey:"security.sessions",to:"/account/security/sessions",descriptionKey:"security.sessions.description",icon:Be.sessions},{key:"activity",labelKey:"security.activity",to:"/account/security/activity",descriptionKey:"security.activity.description",icon:Be.activity}],_a="h-5 w-5",Ji="h-4 w-4";function a0(){const{t:r}=De(),i=Be.profile,o=Be.security,d=Be.activity;return s.jsxs("nav",{className:"space-y-1",children:[s.jsx("p",{className:"px-3 pb-2 text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:r("account.sidebarTitle")}),s.jsx(qi,{to:"/account",label:r("account.nav.overview"),icon:s.jsx(i,{className:"h-[17px] w-[17px]"}),end:!0}),s.jsx(qi,{to:"/account/security",label:r("account.nav.security"),icon:s.jsx(o,{className:"h-[17px] w-[17px]"})}),s.jsx(qi,{to:"/account/privacy",label:r("account.nav.privacy"),icon:s.jsx(d,{className:"h-[17px] w-[17px]"})})]})}function l0(){return s.jsx("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/30 p-4 md:p-6",children:s.jsxs("div",{className:"grid gap-5 md:grid-cols-[220px_1fr]",children:[s.jsx("aside",{children:s.jsx(a0,{})}),s.jsx("main",{children:s.jsx(wr,{})})]})})}const i0=()=>Ve("/auth/me"),o0=r=>Ve("/auth/me/change-password",{method:"POST",body:JSON.stringify({currentPassword:r.currentPassword,newPassword:r.newPassword,confirmNewPassword:r.confirmPassword})}),c0=r=>Ve("/auth/me/change-email/start",{method:"POST",body:JSON.stringify({newEmail:r.newEmail,password:r.currentPassword})}),d0=r=>Ve("/auth/me/change-email/confirm",{method:"POST",body:JSON.stringify(r)}),u0=()=>Ve("/auth/me/signout-all",{method:"POST"}),km=()=>Ve("/auth/mfa/status"),m0=()=>Ve("/auth/mfa/setup/start",{method:"POST"}),p0=r=>Ve("/auth/mfa/setup/confirm",{method:"POST",body:JSON.stringify(r)}),f0=()=>Ve("/auth/mfa/recovery-codes/regenerate",{method:"POST"}),h0=r=>Ve("/auth/mfa/disable",{method:"POST",body:JSON.stringify(r)}),x0=(r=20)=>Ve(`/account/security/login-history?take=${r}`),g0=r=>Ve("/account/deletion/request",{method:"POST",body:JSON.stringify(r)}),y0=()=>Ve("/account/deletion/cancel",{method:"POST"}),v0=()=>fetch("https://localhost:7001/account/export",{credentials:"include",headers:{"Accept-Language":ho()}}),Nn=(r,i)=>r&&typeof r=="object"&&"kind"in r&&(r.kind==="problem"||r.kind==="validation")?r:r instanceof Ne?r.fieldErrors&&Object.keys(r.fieldErrors).length>0?{kind:"validation",status:r.status,title:r.title,detail:r.detail??r.message,traceId:r.traceId,errorId:r.errorId,fieldErrors:r.fieldErrors}:{kind:"problem",status:r.status,title:r.title,detail:r.detail??r.message,traceId:r.traceId,errorId:r.errorId}:r instanceof Error?{kind:"problem",status:500,title:"Unexpected error",detail:r.message}:{kind:"problem",status:500,title:"Unexpected error",detail:i};function Nt({kind:r,message:i}){return s.jsx(St,{variant:r==="success"?"success":"error",children:i})}function as({title:r,description:i,actions:o}){return s.jsxs("div",{className:"mb-6 flex flex-col gap-3 border-b border-slate-800 pb-4 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:r}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:i})]}),o?s.jsx("div",{className:"shrink-0",children:o}):null]})}function j0(){const{t:r}=De(),[i,o]=u.useState(null),[d,m]=u.useState(null),[f,h]=u.useState(null),g=tt();u.useEffect(()=>{(async()=>{try{const[N,b]=await Promise.all([i0(),km().catch(()=>null)]);o(N),m(b)}catch(N){const b=Nn(N,r("common.requestFailed"));if(b.status===401||b.status===403)return g(`/login?returnUrl=${encodeURIComponent("/account")}`,{replace:!0});h(b)}})()},[g]);const x=Be.profile,S=Be.security;return s.jsxs("div",{className:"space-y-5",children:[s.jsx(as,{title:r("account.overview.title"),description:r("account.overview.description")}),f?.kind==="problem"&&s.jsx(Nt,{kind:"error",message:f.detail??f.title??r("common.requestFailed")}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/50 p-4",children:[s.jsx("p",{className:"text-xs text-slate-400",children:r("account.overview.email")}),s.jsx("p",{className:"mt-2 font-semibold text-white",children:i?.email??r("common.unknown")})]}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/50 p-4",children:[s.jsx("p",{className:"text-xs text-slate-400",children:r("account.overview.emailStatus")}),s.jsx("p",{className:"mt-2 font-semibold text-white",children:i?.emailConfirmed?r("account.overview.verified"):r("account.overview.verificationRequired")})]}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/50 p-4",children:[s.jsx("p",{className:"text-xs text-slate-400",children:r("account.overview.mfa")}),s.jsx("p",{className:"mt-2 font-semibold text-white",children:d?.enabled?r("account.overview.enabled"):r("account.overview.disabled")})]})]}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs(ve,{to:"/account",className:"rounded-xl border border-slate-700 p-4 hover:border-indigo-400",children:[s.jsx(x,{className:`${_a} mb-2 text-indigo-300`}),s.jsx("p",{className:"font-semibold text-white",children:r("account.nav.overview")}),s.jsx("p",{className:"text-sm text-slate-400",children:r("account.overview.profileCard")})]}),s.jsxs(ve,{to:"/account/security",className:"rounded-xl border border-slate-700 p-4 hover:border-indigo-400",children:[s.jsx(S,{className:`${_a} mb-2 text-indigo-300`}),s.jsx("p",{className:"font-semibold text-white",children:r("account.nav.security")}),s.jsx("p",{className:"text-sm text-slate-400",children:r("account.overview.securityCard")})]}),ao.map(N=>{const b=N.icon;return s.jsxs(ve,{to:N.to,className:"rounded-xl border border-slate-700 p-4 hover:border-indigo-400",children:[s.jsx(b,{className:`${_a} mb-2 text-indigo-300`}),s.jsx("p",{className:"font-semibold text-white",children:r(N.labelKey)}),s.jsx("p",{className:"text-sm text-slate-400",children:r(N.descriptionKey)})]},N.key)})]})]})}function Ws({label:r,error:i,className:o,...d}){return s.jsxs("label",{className:"text-sm text-slate-200",children:[r,s.jsx("input",{...d,className:`mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white ${o??""}`}),i?s.jsx("p",{className:"mt-1 text-xs text-rose-300",children:i}):null]})}function b0(){const{t:r}=De(),[i,o]=u.useState(""),[d,m]=u.useState(""),[f,h]=u.useState(""),[g,x]=u.useState(!0),[S,N]=u.useState(!1),[b,w]=u.useState(""),[C,A]=u.useState(null),T=tt(),j=async v=>{v.preventDefault(),N(!0),w(""),A(null);try{await o0({currentPassword:i,newPassword:d,confirmPassword:f,signOutOtherSessions:g}),o(""),m(""),h(""),w(r("account.password.success"))}catch(E){const D=Nn(E,r("account.password.error"));if(D.status===401||D.status===403){T(`/login?returnUrl=${encodeURIComponent("/account/security/password")}`,{replace:!0});return}A(D)}finally{N(!1)}},I=C?.kind==="validation"?C.fieldErrors:{};return s.jsxs("div",{children:[s.jsx(as,{title:r("account.password.title"),description:r("account.password.description")}),s.jsxs("form",{className:"space-y-3 rounded-xl border border-slate-800 bg-slate-950/50 p-5",onSubmit:j,children:[b?s.jsx(Nt,{kind:"success",message:b}):null,C?.kind==="problem"?s.jsx(Nt,{kind:"error",message:`${C.detail??r("common.requestFailed")}${C.errorId?` (Error ID: ${C.errorId})`:""}`}):null,C?.kind==="validation"?s.jsx(Nt,{kind:"error",message:Object.values(C.fieldErrors).flat()[0]??r("common.validationFailed")}):null,s.jsx(Ws,{label:r("account.password.current"),type:"password",value:i,onChange:v=>o(v.target.value),error:I.currentPassword?.[0],autoComplete:"current-password"}),s.jsx(Ws,{label:r("account.password.new"),type:"password",value:d,onChange:v=>m(v.target.value),error:I.newPassword?.[0],autoComplete:"new-password"}),s.jsx(Ws,{label:r("account.password.confirm"),type:"password",value:f,onChange:v=>h(v.target.value),error:I.confirmPassword?.[0],autoComplete:"new-password"}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:v=>x(v.target.checked)}),r("account.password.signOutOthers")]}),s.jsx("button",{type:"submit",disabled:S,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:r(S?"account.password.updating":"account.password.submit")})]})]})}function w0(){const{t:r}=De(),[i,o]=u.useState(""),[d,m]=u.useState(""),[f,h]=u.useState(!1),[g,x]=u.useState(""),[S,N]=u.useState(null),b=tt(),w=async A=>{A.preventDefault(),h(!0),N(null),x("");try{await c0({newEmail:i,currentPassword:d,returnUrl:"/account/security/email/confirm"}),m(""),x(r("account.email.success"))}catch(T){const j=Nn(T,r("account.email.error"));if(j.status===401||j.status===403){b(`/login?returnUrl=${encodeURIComponent("/account/security/email")}`,{replace:!0});return}N(j)}finally{h(!1)}},C=S?.kind==="validation"?S.fieldErrors:{};return s.jsxs("div",{children:[s.jsx(as,{title:r("account.email.title"),description:r("account.email.description")}),s.jsxs("form",{className:"space-y-3 rounded-xl border border-slate-800 bg-slate-950/50 p-5",onSubmit:w,children:[g?s.jsx(Nt,{kind:"success",message:g}):null,S?.kind==="problem"?s.jsx(Nt,{kind:"error",message:`${S.detail??r("common.requestFailed")}${S.errorId?` (Error ID: ${S.errorId})`:""}`}):null,S?.kind==="validation"?s.jsx(Nt,{kind:"error",message:Object.values(S.fieldErrors).flat()[0]??r("common.validationFailed")}):null,s.jsx(Ws,{label:r("account.email.newEmail"),type:"email",value:i,onChange:A=>o(A.target.value),error:C.newEmail?.[0],autoComplete:"email"}),s.jsx(Ws,{label:r("account.email.currentPassword"),type:"password",value:d,onChange:A=>m(A.target.value),error:C.currentPassword?.[0],autoComplete:"current-password"}),s.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:r(f?"common.submitting":"account.email.submit")})]})]})}function N0(){const{t:r}=De(),[i,o]=u.useState(!1),[d,m]=u.useState(null),f=async()=>{if(window.confirm(r("account.sessions.confirm"))){o(!0);try{const h=await u0();m(h.message)}finally{o(!1)}}};return s.jsxs("div",{className:"space-y-3",children:[s.jsx(as,{title:r("account.sessions.title"),description:r("account.sessions.description")}),d?s.jsx(Nt,{kind:"success",message:d}):null,s.jsx("button",{type:"button",onClick:f,disabled:i,className:"rounded-lg border border-rose-700 px-4 py-2 text-sm font-semibold text-rose-200 hover:border-rose-500 disabled:opacity-60",children:r(i?"account.sessions.submitting":"account.sessions.submit")})]})}function S0({message:r="Loading..."}){return s.jsx("p",{className:"text-sm text-slate-400",children:r})}function k0(){const{t:r}=De(),[i,o]=u.useState(null),[d,m]=u.useState(null),[f,h]=u.useState(""),[g,x]=u.useState(""),[S,N]=u.useState([]),[b,w]=u.useState(null),[C,A]=u.useState(""),[T,j]=u.useState(!0),[I,v]=u.useState(!1),E=tt(),D=async()=>{j(!0);try{const z=await km();o(z)}catch(z){const H=Nn(z,r("account.mfa.loadError"));if(H.status===401||H.status===403){E(`/login?returnUrl=${encodeURIComponent("/account/security/mfa")}`,{replace:!0});return}w(H)}finally{j(!1)}};u.useEffect(()=>{D()},[]);const M=async z=>{v(!0),w(null),A("");try{await z(),await D()}catch(H){w(Nn(H,r("account.mfa.actionError")))}finally{v(!1)}},B=u.useMemo(()=>S.join(`
`),[S]);return s.jsxs("div",{children:[s.jsx(as,{title:r("account.mfa.title"),description:r("account.mfa.description")}),T?s.jsx(S0,{message:r("account.mfa.loading")}):null,C?s.jsx(Nt,{kind:"success",message:C}):null,b?.kind==="problem"?s.jsx(Nt,{kind:"error",message:`${b.detail??r("common.requestFailed")}${b.errorId?` (Error ID: ${b.errorId})`:""}`}):null,s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/50 p-4 text-sm text-slate-200",children:[s.jsxs("p",{children:[r("account.mfa.status"),": ",s.jsx("span",{className:"font-semibold text-white",children:i?.enabled?r("account.overview.enabled"):r("account.overview.disabled")})]}),s.jsxs("p",{className:"mt-1",children:[r("account.mfa.recoveryCodesLeft"),": ",i?.recoveryCodesLeft??0]})]}),i?.enabled?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ws,{label:r("account.mfa.authenticatorCode"),value:g,onChange:z=>x(z.target.value),error:b?.kind==="validation"?b.fieldErrors.code?.[0]:void 0}),s.jsx("button",{type:"button",className:"rounded-lg border border-rose-700 px-4 py-2 text-sm font-semibold text-rose-200 hover:border-rose-500",disabled:I||!g,onClick:()=>M(async()=>{await h0({code:g}),x(""),A(r("account.mfa.disabledMsg"))}),children:r("account.mfa.disable")}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-500",disabled:I,onClick:()=>M(async()=>{const z=await f0();N(z.recoveryCodes),A(r("account.mfa.codesGenerated"))}),children:r("account.mfa.generateCodes")})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{type:"button",className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",disabled:I,onClick:()=>M(async()=>{const z=await m0();m(z)}),children:r("account.mfa.start")}),d?s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/50 p-4",children:[s.jsx("p",{className:"text-sm text-slate-300",children:r("account.mfa.sharedKey")}),s.jsx("code",{className:"mt-2 block rounded bg-slate-900 px-2 py-2 text-xs text-slate-100",children:d.sharedKey}),s.jsx(Ws,{label:r("mfa.code"),value:f,onChange:z=>h(z.target.value),error:b?.kind==="validation"?b.fieldErrors.code?.[0]:void 0}),s.jsx("button",{type:"button",className:"rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-400",disabled:I||!f,onClick:()=>M(async()=>{const z=await p0({code:f});N(z.recoveryCodes),h(""),A(r("account.mfa.enabled"))}),children:r("account.mfa.verifyEnable")})]}):null]}),S.length>0?s.jsx("textarea",{readOnly:!0,value:B,className:"min-h-[130px] w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 font-mono text-xs text-slate-100"}):null]})]})}function C0(){const{t:r}=De(),[i,o]=u.useState([]);return u.useEffect(()=>{x0(30).then(o).catch(()=>o([]))},[]),s.jsxs("div",{className:"space-y-3",children:[s.jsx(as,{title:r("account.events.title"),description:r("account.events.description")}),s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-800",children:s.jsxs("table",{className:"min-w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900/80 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2",children:r("account.events.time")}),s.jsx("th",{className:"px-3 py-2",children:r("account.events.result")}),s.jsx("th",{className:"px-3 py-2",children:r("account.events.client")}),s.jsx("th",{className:"px-3 py-2",children:r("account.events.ip")}),s.jsx("th",{className:"px-3 py-2",children:r("account.events.userAgent")})]})}),s.jsxs("tbody",{children:[i.map(d=>s.jsxs("tr",{className:"border-t border-slate-800",children:[s.jsx("td",{className:"px-3 py-2 text-slate-300",children:new Date(d.timestampUtc).toLocaleString()}),s.jsx("td",{className:"px-3 py-2 text-white",children:d.success?r("account.events.success"):`${r("account.events.failed")} (${d.failureReasonCode??"unknown"})`}),s.jsx("td",{className:"px-3 py-2 text-slate-300",children:d.clientId??"-"}),s.jsx("td",{className:"px-3 py-2 text-slate-300",children:d.ip??"-"}),s.jsx("td",{className:"px-3 py-2 text-slate-400",children:(d.userAgent??"-").slice(0,72)})]},d.id)),i.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-3 py-4 text-slate-400",children:r("account.events.empty")})}):null]})]})})]})}function E0(){const{t:r}=De(),o=gt().pathname==="/account/security";return s.jsxs("div",{className:"space-y-4",children:[s.jsx(as,{title:r("account.security.title"),description:r("account.security.description")}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ao.map(d=>{const m=d.icon;return s.jsx(jr,{to:d.to,className:({isActive:f})=>`rounded-lg border px-3 py-2 text-xs font-semibold uppercase tracking-wide ${f?"border-indigo-400 bg-indigo-500/20 text-indigo-100":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(m,{className:"h-4 w-4"}),r(d.labelKey)]})},d.key)})}),o?s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:ao.map(d=>{const m=d.icon;return s.jsxs(ve,{to:d.to,className:"rounded-xl border border-slate-700 bg-slate-950/40 p-4 text-sm text-slate-100 transition hover:border-indigo-400",children:[s.jsx(m,{className:`${_a} mb-2 text-indigo-300`}),s.jsx("p",{className:"font-semibold",children:r(d.labelKey)}),s.jsx("p",{className:"mt-1 text-slate-400",children:r(d.descriptionKey)})]},d.key)})}):s.jsx(wr,{})]})}function P0(){const{t:r}=De(),[i,o]=u.useState(""),d=async()=>{const h=await v0();if(!h.ok){o(r("account.privacy.exportFailed"));return}const g=await h.blob(),x=URL.createObjectURL(g),S=document.createElement("a");S.href=x,S.download="astraid-export.json".replace(" ",""),S.click(),URL.revokeObjectURL(x),o(r("account.privacy.exportDownloaded"))},m=async()=>{const h=await g0({});o(r("account.privacy.deletionRequested").replace("{{time}}",new Date(h.cooldownUntilUtc).toLocaleString()))},f=async()=>{await y0(),o(r("account.privacy.deletionCancelled"))};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(as,{title:r("account.privacy.title"),description:r("account.privacy.description")}),s.jsxs("div",{className:"rounded-xl border border-slate-800 p-4",children:[s.jsx("h3",{className:"font-semibold text-white",children:r("account.privacy.exportTitle")}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:r("account.privacy.exportHelp")}),s.jsx("button",{onClick:()=>{d()},className:"mt-3 rounded-md bg-indigo-500 px-3 py-2 text-sm font-medium text-white",children:r("account.privacy.exportButton")})]}),s.jsxs("div",{className:"rounded-xl border border-slate-800 p-4",children:[s.jsx("h3",{className:"font-semibold text-white",children:r("account.privacy.deleteTitle")}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:r("account.privacy.deleteHelp")}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx("button",{onClick:()=>{m()},className:"rounded-md bg-rose-500 px-3 py-2 text-sm font-medium text-white",children:r("account.privacy.requestDelete")}),s.jsx("button",{onClick:()=>{f()},className:"rounded-md border border-slate-700 px-3 py-2 text-sm font-medium text-slate-200",children:r("account.privacy.cancelDelete")})]})]}),i?s.jsx("p",{className:"text-sm text-slate-300",children:i}):null]})}function R0(){const[r]=Cn(),i=u.useMemo(()=>r.get("userId")??"",[r]),o=u.useMemo(()=>r.get("email")??"",[r]),d=u.useMemo(()=>r.get("token")??"",[r]),[m,f]=u.useState(!1),[h,g]=u.useState(""),[x,S]=u.useState(null),N=async()=>{f(!0),g(""),S(null);try{const b=await d0({userId:i,newEmail:o,token:d});g(b.message??"Your email has been updated.")}catch(b){S(Nn(b,"Unable to confirm email change."))}finally{f(!1)}};return s.jsxs("div",{className:"mx-auto max-w-2xl",children:[s.jsx(as,{title:"Confirm email change",description:"Complete your requested email change."}),h?s.jsx(Nt,{kind:"success",message:h}):null,x?.kind==="problem"?s.jsx(Nt,{kind:"error",message:`${x.detail??"Request failed."}${x.errorId?` (Error ID: ${x.errorId})`:""}`}):null,x?.kind==="validation"?s.jsx(Nt,{kind:"error",message:Object.values(x.fieldErrors).flat()[0]??"Validation failed."}):null,s.jsx("button",{type:"button",onClick:N,disabled:!i||!o||!d||m,className:"mt-4 rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:m?"Confirming...":"Confirm email change"}),s.jsx("div",{className:"mt-4 text-sm",children:s.jsx(ve,{className:"text-indigo-300 hover:text-indigo-200",to:h?"/account/security/email":"/login",children:h?"Back to Account Email":"Back to login"})})]})}const T0=()=>{const{t:r}=De(),[i]=Cn(),o=tt(),d=i.get("token")??"",m=i.get("returnUrl"),[f,h]=u.useState(""),[g,x]=u.useState(!1),[S,N]=u.useState(!1),[b,w]=u.useState(null),[C,A]=u.useState({}),[T,j]=u.useState(!1),I=async v=>{v.preventDefault(),w(null),A({}),j(!0);try{const E=await nx({mfaToken:d,code:f,useRecoveryCode:g,rememberMachine:S}),D=go(E.redirectTo??m??null);D?window.location.href=D:o("/",{replace:!0})}catch(E){if(E&&typeof E=="object"&&"status"in E){const D=E;w(D),A(D.fieldErrors??{})}else w(new Ne({status:500,detail:r("common.requestFailed")}))}finally{j(!1)}};return s.jsx("div",{className:"mx-auto max-w-md",children:s.jsx(rs,{title:r("mfa.title"),description:r("mfa.description"),children:s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:I,children:[b?s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(St,{variant:"error",children:b.detail??b.message}),s.jsx(Ot,{traceId:b.traceId,errorId:b.errorId,debug:b.debug,compact:!0})]}):null,d?null:s.jsx(St,{variant:"error",children:r("mfa.tokenMissing")}),s.jsxs("label",{className:"text-sm text-slate-200",children:[r(g?"mfa.recoveryCode":"mfa.code"),s.jsx("input",{className:"mt-2 w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-white",type:"text",value:f,onChange:v=>h(v.target.value),autoComplete:"one-time-code",required:!0}),s.jsx(wt,{message:C.code?.[0]})]}),s.jsxs("label",{className:"flex items-center gap-3 text-xs text-slate-400",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:v=>x(v.target.checked)}),r("mfa.useRecovery")]}),g?null:s.jsxs("label",{className:"flex items-center gap-3 text-xs text-slate-400",children:[s.jsx("input",{type:"checkbox",checked:S,onChange:v=>N(v.target.checked)}),r("mfa.remember")]}),s.jsx("button",{type:"submit",disabled:T||!d,className:"rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60",children:r(T?"mfa.submitting":"mfa.submit")}),s.jsx("div",{className:"text-xs text-slate-400",children:s.jsx(ve,{className:"hover:text-slate-200",to:"/login",children:"Back to sign in"})})]})})})};function jo({title:r,description:i,hint:o}){const d=gt(),m=new URLSearchParams(d.search),f=m.get("traceId")??void 0,h=m.get("errorId")??void 0;return s.jsx(rs,{title:r,description:i,children:s.jsxs("div",{className:"flex flex-col gap-4 text-sm text-slate-300",children:[o?s.jsx("p",{children:o}):null,s.jsx(Ot,{traceId:f,errorId:h,compact:!0})]})})}function Du(){const{t:r}=De();return s.jsx(jo,{title:"404",description:r("error.404.description"),hint:r("error.404.hint")})}function I0(){const{t:r}=De();return s.jsx(jo,{title:"403",description:r("error.403.description"),hint:r("error.403.hint")})}function D0(){const{t:r}=De();return s.jsx(jo,{title:"500",description:r("error.500.description"),hint:r("error.500.hint")})}const $a="system.admin",Lu={userLifecycleManage:"governance.user-lifecycle.manage",inactivityManage:"governance.inactivity.manage"},Cm=["gdpr.read","gdpr.export","gdpr.erase","gdpr.retention.manage"],Em=r=>r?.includes($a)??!1,Hs=(r,i)=>r.some(o=>i?.includes(o)),L0="/admin",Au="/admin",Pm=r=>r?r.startsWith("/")?r:`/${r}`:"/",he=r=>Pm(r),A0=r=>Pm(r),U0=r=>{const i=A0(r);return i==="/"?Au:`${Au}${i}`},z0="/*",_0=({isActive:r})=>`rounded-md px-3 py-2 text-sm font-medium transition ${r?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-900"}`;function jn({title:r,items:i}){return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"px-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:r}),s.jsx("div",{className:"flex flex-col gap-1",children:i.map(o=>s.jsx(jr,{to:o.to,className:_0,end:o.end,children:o.label},o.to))})]})}function O0({children:r}){const{session:i}=Wt(),o=Hs(Cm,i?.permissions),d=Hs([$a,Lu.userLifecycleManage],i?.permissions),m=Hs([$a,Lu.inactivityManage],i?.permissions);return s.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:s.jsxs("div",{className:"flex min-h-screen",children:[s.jsxs("aside",{className:"w-64 border-r border-slate-900 bg-slate-950/80",children:[s.jsxs("div",{className:"px-6 py-6",children:[s.jsx(ve,{to:he("/"),className:"text-lg font-semibold text-white",children:"AstraId Admin"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Authorization server control panel"})]}),s.jsxs("nav",{className:"flex flex-col gap-6 px-4 pb-6",children:[s.jsx(jn,{title:"OIDC",items:[{to:he("/"),label:"Overview",end:!0},{to:he("/oidc/clients"),label:"Clients"},{to:he("/oidc/scopes"),label:"Scopes"},{to:he("/oidc/resources"),label:"Resources"}]}),s.jsx(jn,{title:"Konfigurace",items:[{to:he("/config/permissions"),label:"Permissions"},{to:he("/config/roles"),label:"Roles"},{to:he("/config/api-resources"),label:"API Endpoints"}]}),s.jsx(jn,{title:"Uivatel",items:[{to:he("/users"),label:"Users"}]}),s.jsx(jn,{title:"Audit",items:[{to:he("/audit"),label:"Audit log"}]}),s.jsx(jn,{title:"Security",items:[{to:he("/security/keys"),label:"Signing Keys"},{to:he("/security/rotation"),label:"Rotation Policy"},{to:he("/security/tokens"),label:"Token Policy"},{to:he("/security/incidents"),label:"Incidents"},{to:he("/security/revocation"),label:"Revocation"},{to:he("/security/dataprotection"),label:"DataProtection"},...d?[{to:he("/security/user-lifecycle"),label:"User Lifecycle"}]:[],...m?[{to:he("/security/inactivity"),label:"Inactivity Policy"}]:[],...o?[{to:he("/security/privacy"),label:"Privacy & GDPR"}]:[]]}),s.jsx(jn,{title:"Diagnostics",items:[{to:he("/diagnostics/errors"),label:"Errors"},{to:he("/diagnostics/email-outbox"),label:"Email Outbox"}]})]})]}),s.jsxs("div",{className:"flex min-h-screen flex-1 flex-col",children:[s.jsx("header",{className:"border-b border-slate-900 bg-slate-950/60 px-8 py-4",children:s.jsxs("div",{className:"text-sm text-slate-400",children:[s.jsx("span",{className:"font-semibold text-slate-200",children:"Admin"}),"  AuthServer"]})}),s.jsx("main",{className:"flex w-full flex-1 flex-col gap-6 px-8 py-8",children:r})]})]})})}const lo=new EventTarget;function ge(r){lo.dispatchEvent(new CustomEvent("toast",{detail:r}))}function M0(r){const i=o=>{r(o.detail)};return lo.addEventListener("toast",i),()=>lo.removeEventListener("toast",i)}const F0={error:"border-red-400/40 bg-red-950/80 text-red-100",success:"border-emerald-400/40 bg-emerald-950/80 text-emerald-100",info:"border-slate-400/40 bg-slate-900/80 text-slate-100"};function $0(){const[r,i]=u.useState([]);return u.useEffect(()=>M0(o=>{const d={...o,tone:o.tone??"info",id:crypto.randomUUID()};i(m=>[...m,d]),setTimeout(()=>{i(m=>m.filter(f=>f.id!==d.id))},4e3)}),[]),r.length===0?null:s.jsx("div",{className:"fixed right-6 top-6 z-50 flex w-full max-w-sm flex-col gap-3",children:r.map(o=>s.jsx("div",{className:`rounded-lg border px-4 py-3 text-sm shadow-lg backdrop-blur ${F0[o.tone??"info"]}`,children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{children:o.message}),o.diagnostics?s.jsx(Ot,{traceId:o.diagnostics.traceId,errorId:o.diagnostics.errorId,debug:o.diagnostics.debug,compact:!0}):null]})},o.id))})}function B0(){return s.jsxs(s.Fragment,{children:[s.jsx(O0,{children:s.jsx(wr,{})}),s.jsx($0,{})]})}function V0({children:r}){const{session:i,isLoading:o}=Wt(),d=gt();if(o)return s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 text-slate-100",children:"Natm..."});if(!i?.isAuthenticated){const m=U0(`${d.pathname}${d.search}${d.hash}`),f=`/login?returnUrl=${encodeURIComponent(m)}`;return s.jsx(Ks,{to:f,replace:!0})}return Em(i.permissions)?s.jsx(s.Fragment,{children:r}):s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 text-slate-100",children:s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-8 text-center",children:[s.jsx("h1",{className:"text-xl font-semibold text-white",children:"Access denied"}),s.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Nemte oprvnn pro administraci systmu."})]})})}const K0=xo,H0=r=>r.startsWith("http")?r:`${K0}${r.startsWith("/")?"":"/"}${r}`;async function J(r,i={}){const{suppressToast:o,...d}=i,m=await fetch(H0(r),{credentials:"include",...d,headers:{"Content-Type":"application/json","Accept-Language":ho(),...d.headers??{}}});if(!m.ok){const h=await um(m);throw o||ge({message:h.message,tone:"error",diagnostics:{traceId:h.traceId,errorId:h.errorId,debug:h.debug}}),h}if(m.status===204)return null;const f=await m.text();return f?JSON.parse(f):null}function W0(){const[r,i]=u.useState(null),[o,d]=u.useState(!0);return u.useEffect(()=>{let m=!0;return(async()=>{try{const h=await J("/admin/api/me");m&&i(h)}finally{m&&d(!1)}})(),()=>{m=!1}},[]),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:"Manage OAuth clients, scopes, users, and audit activity for the AuthServer."})]}),s.jsxs("section",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Session"}),o&&s.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Loading session..."}),!o&&r&&s.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400",children:"Signed in as:"})," ",r.email??r.userName??r.userId]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400",children:"Roles:"})," ",r.roles.length?r.roles.join(", "):"None"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400",children:"Permissions:"})," ",r.permissions.length?r.permissions.join(", "):"None"]})]})]}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Quick links"}),s.jsxs("div",{className:"mt-3 flex flex-col gap-2 text-sm",children:[s.jsx(ve,{className:"text-indigo-300 hover:text-indigo-200",to:he("/oidc/clients"),children:"Manage clients"}),s.jsx(ve,{className:"text-indigo-300 hover:text-indigo-200",to:he("/oidc/scopes"),children:"Manage scopes"}),s.jsx(ve,{className:"text-indigo-300 hover:text-indigo-200",to:he("/users"),children:"Review users"}),s.jsx(ve,{className:"text-indigo-300 hover:text-indigo-200",to:he("/audit"),children:"Audit log"})]})]})]})]})}function q0(){const[r,i]=u.useState(""),[o,d]=u.useState(1),[m,f]=u.useState(10),[h,g]=u.useState(null),[x,S]=u.useState(!1);u.useEffect(()=>{let w=!0;return(async()=>{S(!0);const A=new URLSearchParams;r.trim()&&A.set("search",r.trim()),A.set("page",String(o)),A.set("pageSize",String(m));try{const T=await J(`/admin/api/clients?${A.toString()}`);w&&g(T)}finally{w&&S(!1)}})(),()=>{w=!1}},[o,m,r]);const N=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1,b=async w=>{const C=await J(`/admin/api/clients/${w.id}/toggle`,{method:"POST",body:JSON.stringify({enabled:!w.enabled})});g(A=>A&&{...A,items:A.items.map(T=>T.id===w.id?{...T,enabled:C.enabled}:T)})};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Clients"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage OpenIddict client applications."})]}),s.jsx(ve,{to:he("/oidc/clients/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New client"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("input",{className:"w-full max-w-sm rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search by client ID or display name...",value:r,onChange:w=>{i(w.target.value),d(1)}}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:w=>{f(Number(w.target.value)),d(1)},children:[10,20,30].map(w=>s.jsxs("option",{value:w,children:[w," / page"]},w))})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Client ID"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Type"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[x&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading clients..."})}),!x&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No clients yet  create one."})}),h?.items.map(w=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:w.clientId}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:w.displayName??"-"}),s.jsx("td",{className:"px-4 py-3 capitalize text-slate-300",children:w.clientType}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${w.enabled?"bg-emerald-500/20 text-emerald-200":"bg-rose-500/20 text-rose-200"}`,children:w.enabled?"Enabled":"Disabled"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("button",{type:"button",className:"text-sm font-semibold text-slate-300 hover:text-slate-100",onClick:()=>b(w),children:w.enabled?"Disable":"Enable"}),s.jsx(ve,{to:he(`/oidc/clients/${w.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"})]})})]},w.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",N,"  ",h.totalCount," clients"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(w=>Math.max(1,w-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(w=>Math.min(N,w+1)),disabled:h.page>=N,children:"Next"})]})]})]})}function re({label:r,hint:i,tooltip:o,error:d,required:m,children:f}){return s.jsxs("div",{className:"flex flex-col gap-2 text-sm text-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium text-slate-200",children:[r,m&&s.jsx("span",{className:"ml-1 text-rose-300",children:"*"})]}),o&&s.jsx(Ps,{tooltip:o})]}),f,i&&s.jsx(J0,{children:i}),s.jsx(G0,{message:d})]})}function Ps({tooltip:r}){return s.jsxs("span",{className:"group relative inline-flex",children:[s.jsx("button",{type:"button",className:"flex h-5 w-5 items-center justify-center rounded-full border border-slate-600 text-xs text-slate-300 hover:border-slate-400 hover:text-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-400","aria-label":"Help",children:"?"}),s.jsx("span",{className:"pointer-events-none absolute left-1/2 top-full z-10 mt-2 w-64 -translate-x-1/2 rounded-md border border-slate-700 bg-slate-950 p-2 text-xs text-slate-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 group-focus-within:opacity-100",children:r})]})}function G0({message:r}){return r?s.jsx("p",{className:"text-xs text-rose-300",children:r}):null}function J0({children:r}){return s.jsx("p",{className:"text-xs text-slate-400",children:r})}function Je({message:r,diagnostics:i}){return r?s.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-200",children:[s.jsx("span",{children:r}),i?s.jsx(Ot,{traceId:i.traceId,errorId:i.errorId,debug:i.debug}):null]}):null}function Uu({value:r,onChange:i,onBlur:o,placeholder:d,error:m,lineErrors:f=[],minRows:h=6}){const g=!!m||f.length>0,x=S=>{i(S.target.value)};return s.jsxs("div",{children:[s.jsx("textarea",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${g?"border-rose-400":"border-slate-700"}`,rows:h,value:r,onChange:x,onBlur:o,placeholder:d}),f.length>0&&s.jsx("div",{className:"mt-2 space-y-1 text-xs text-rose-300",children:f.map((S,N)=>s.jsxs("div",{children:[S.line>0?`Line ${S.line}: `:"",S.message]},`${S.line}-${N}`))})]})}const Q0=/^[a-z0-9][a-z0-9:_.-]*$/,Y0=/^[a-z0-9][a-z0-9:_.-]*$/,Z0=/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/,Ba=3,Va=100,zu=3,_u=100,X0=["authorization_code","refresh_token","client_credentials","password"];function Ou(r){const i=r.trim().toLowerCase();return i?i.length<Ba||i.length>Va?{value:i,error:`Scope name must be between ${Ba} and ${Va} characters.`}:Q0.test(i)?{value:i,error:null}:{value:i,error:"Scope name may use lowercase letters, numbers, :, ., _, -."}:{value:i,error:"Scope name is required."}}function Mu(r){const i=r.trim().toLowerCase();return i?i.length<Ba||i.length>Va?{value:i,error:`Resource name must be between ${Ba} and ${Va} characters.`}:Y0.test(i)?{value:i,error:null}:{value:i,error:"Resource name may use lowercase letters, numbers, :, ., _, -."}:{value:i,error:"Resource name is required."}}function Fu(r){const i=r.trim();return i?i.length<zu||i.length>_u?{value:i,error:`Client ID must be between ${zu} and ${_u} characters.`}:Z0.test(i)?{value:i,error:null}:{value:i,error:"Client ID may use letters, numbers, underscores, dots, and dashes."}:{value:i,error:"Client ID is required."}}function $u(r){if(!r||r.length===0)return"Select at least one grant type.";const i=r.filter(o=>!X0.includes(o));return i.length>0?`Unsupported grant types: ${i.join(", ")}.`:null}function Bu(r,i,o){return r==="public"&&i.includes("client_credentials")?"Public clients cannot use client_credentials.":r==="confidential"&&o?"PKCE can only be required for public clients.":o&&!i.includes("authorization_code")?"PKCE requires authorization_code grant type.":null}function Aa(r){return r.split(/\r?\n/).map(i=>i.trim()).filter(Boolean)}function Vu(r,i){const o=r.split(/\r?\n/),d=[],m=o.map(f=>f.trim()).filter(f=>f.length>0);return m.forEach((f,h)=>{if(/\s/.test(f)){d.push({line:h+1,message:"URI must not contain whitespace."});return}try{const g=new URL(f);if(g.hash){d.push({line:h+1,message:"URI must not include a fragment (#)."});return}const x=g.protocol==="https:",S=g.hostname==="localhost"||g.hostname==="127.0.0.1"||g.hostname==="[::1]";!x&&!(S&&g.protocol==="http:")&&d.push({line:h+1,message:"Use HTTPS unless it is a localhost callback."})}catch{d.push({line:h+1,message:"Must be an absolute URL."})}}),i&&m.length===0&&d.push({line:0,message:"At least one redirect URI is required."}),{normalized:m,errors:d}}function Ku(r){return r.length===0?null:r.some(i=>i.line===0)?r.find(i=>i.line===0)?.message??null:"One or more redirect URIs are invalid. Review the list below."}function qe(r){if(r instanceof Ne){const i=r.fieldErrors??{},o=r.generalErrors?.[0]??r.detail??r.message??null;return{fieldErrors:i,generalError:o,diagnostics:{traceId:r.traceId,errorId:r.errorId,debug:r.debug}}}return{fieldErrors:{},generalError:"Unexpected error."}}const eg={clientId:"",displayName:"",clientType:"public",enabled:!0,grantTypes:["authorization_code","refresh_token"],pkceRequired:!0,clientApplicationType:"web",allowIntrospection:!1,allowUserCredentials:!1,allowedScopesForPasswordGrant:[],scopes:[],redirectUrisText:"",postLogoutRedirectUrisText:""};function Rm({mode:r,clientId:i}){const o=tt(),d=gt(),[m,f]=u.useState(eg),[h,g]=u.useState([]),[x,S]=u.useState(r==="edit"),[N,b]=u.useState(!1),[w,C]=u.useState({}),[A,T]=u.useState(null),[j,I]=u.useState(void 0),[v,E]=u.useState([]),[D,M]=u.useState([]),[B,z]=u.useState(()=>d.state?.secret??null),[H,ue]=u.useState(()=>!!B),[Y,Z]=u.useState(null),[ye,Re]=u.useState([]),[Ee,Ke]=u.useState([]),[Te,Pe]=u.useState(""),[Q,ie]=u.useState(null),[$,R]=u.useState("SpaPublic"),F=m.clientType==="confidential",me=u.useMemo(()=>[{value:"authorization_code",label:"Authorization Code"},{value:"refresh_token",label:"Refresh Token"},{value:"client_credentials",label:"Client Credentials"},{value:"password",label:"Password (Integrations only)"}],[]);u.useEffect(()=>{(async()=>{const X=new URLSearchParams({page:"1",pageSize:"200"}),oe=await J(`/admin/api/oidc/scopes?${X.toString()}`);g(oe.items)})(),(async()=>{const X=await J("/admin/api/client-profiles/rules"),oe=await J("/admin/api/client-presets");Re(X.profiles),Ke(oe),oe.length>0&&(Pe(oe[0].id),R(oe[0].profile))})()},[]),u.useEffect(()=>{Te&&J(`/admin/api/client-presets/${Te}`).then(O=>{ie(O),R(O.profile),r==="create"&&f(G=>({...G,clientType:O.defaults.clientType==="confidential"?"confidential":"public",pkceRequired:O.defaults.pkceRequired,grantTypes:O.defaults.grantTypes,clientApplicationType:"web",allowIntrospection:!1,allowUserCredentials:!1,allowedScopesForPasswordGrant:[],redirectUrisText:O.defaults.redirectUris.join(`
`),postLogoutRedirectUrisText:O.defaults.postLogoutRedirectUris.join(`
`),scopes:O.defaults.scopes}))})},[Te,r]),u.useEffect(()=>{if(r!=="edit"||!i)return;let O=!0;return(async()=>{S(!0);try{const X=await J(`/admin/api/clients/${i}`);if(!O)return;f({clientId:X.clientId,displayName:X.displayName??"",clientType:X.clientType.toLowerCase()==="confidential"?"confidential":"public",enabled:X.enabled,grantTypes:X.grantTypes,pkceRequired:X.pkceRequired,clientApplicationType:X.clientApplicationType??"web",allowIntrospection:X.allowIntrospection,allowUserCredentials:X.allowUserCredentials,allowedScopesForPasswordGrant:X.allowedScopesForPasswordGrant,scopes:X.scopes,redirectUrisText:X.redirectUris.join(`
`),postLogoutRedirectUrisText:X.postLogoutRedirectUris.join(`
`)}),R(X.profile??"SpaPublic"),X.presetId&&Pe(X.presetId)}finally{O&&S(!1)}})(),()=>{O=!1}},[i,r]);const xe=O=>{const G={},X=Fu(O.clientId);X.error&&(G.clientId=X.error);const oe=$u(O.grantTypes);oe&&(G.grantTypes=oe);const qt=Bu(O.clientType,O.grantTypes,O.pkceRequired);qt&&(G.pkceRequired=qt);const ls=Vu(O.redirectUrisText,O.grantTypes.includes("authorization_code"));E(ls.errors),ls.errors.length>0&&(G.redirectUris=Ku(ls.errors)??void 0);const Mt=Vu(O.postLogoutRedirectUrisText,!1);return M(Mt.errors),Mt.errors.length>0&&(G.postLogoutRedirectUris=Ku(Mt.errors)??void 0),O.allowUserCredentials&&((O.clientType!=="confidential"||O.clientApplicationType!=="integration")&&(G.allowUserCredentials="Password grant requires confidential integration client."),O.grantTypes.includes("password")||(G.grantTypes="Password grant must be enabled when allowUserCredentials is selected."),O.allowedScopesForPasswordGrant.length===0&&(G.allowedScopesForPasswordGrant="Select at least one allowed scope for password grant.")),C(G),G},we=async O=>{O.preventDefault();const G=xe(m);if(!(Object.keys(G).length>0)){T(null),I(void 0),b(!0);try{const X={clientId:m.clientId.trim(),displayName:m.displayName.trim()||null,clientType:m.clientType,enabled:m.enabled,grantTypes:m.grantTypes,pkceRequired:m.clientType==="public"?m.pkceRequired:!1,clientApplicationType:m.clientApplicationType,allowIntrospection:m.allowIntrospection,allowUserCredentials:m.allowUserCredentials,allowedScopesForPasswordGrant:m.allowedScopesForPasswordGrant,scopes:m.scopes,redirectUris:Aa(m.redirectUrisText),postLogoutRedirectUris:Aa(m.postLogoutRedirectUrisText),profile:$,presetId:Te,presetVersion:Q?.version,overrides:{clientType:m.clientType,pkceRequired:m.pkceRequired,grantTypes:m.grantTypes,clientApplicationType:m.clientApplicationType,allowIntrospection:m.allowIntrospection,allowUserCredentials:m.allowUserCredentials,allowedScopesForPasswordGrant:m.allowedScopesForPasswordGrant,scopes:m.scopes,redirectUris:Aa(m.redirectUrisText),postLogoutRedirectUris:Aa(m.postLogoutRedirectUrisText)}};if(r==="create"){const oe=await J("/admin/api/clients",{method:"POST",body:JSON.stringify(X),suppressToast:!0});oe.clientSecret?(z(oe.clientSecret),ue(!0),Z(null)):(z(null),ue(!1),Z("Client created. Secret was not displayed for security reasons.")),ge({message:"Client created.",tone:"success"}),o(he(`/oidc/clients/${oe.client.id}`),{state:{secret:oe.clientSecret}});return}if(!i)return;await J(`/admin/api/clients/${i}`,{method:"PUT",body:JSON.stringify(X),suppressToast:!0}),ge({message:"Client updated.",tone:"success"})}catch(X){if(X instanceof Ne){const oe=qe(X);C({clientId:oe.fieldErrors.clientId?.[0],grantTypes:oe.fieldErrors.grantTypes?.[0],pkceRequired:oe.fieldErrors.pkceRequired?.[0],redirectUris:oe.fieldErrors.redirectUris?.[0],postLogoutRedirectUris:oe.fieldErrors.postLogoutRedirectUris?.[0],scopes:oe.fieldErrors.scopes?.[0],presetId:oe.fieldErrors.presetId?.[0],clientApplicationType:oe.fieldErrors.clientApplicationType?.[0],allowUserCredentials:oe.fieldErrors.allowUserCredentials?.[0],allowedScopesForPasswordGrant:oe.fieldErrors.allowedScopesForPasswordGrant?.[0]}),T(oe.generalError??"Unable to save client."),I(oe.diagnostics);return}T("Unable to save client."),I(void 0)}finally{b(!1)}}},je=async()=>{if(!i)return;const O=await J(`/admin/api/clients/${i}/rotate-secret`,{method:"POST"});O.clientSecret?(z(O.clientSecret),ue(!0),Z(null)):(z(null),ue(!1),Z("Secret rotated. New secret was not displayed for security reasons."))};return x?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading client..."}):s.jsxs("form",{onSubmit:we,className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:r==="create"?"Create client":"Edit client"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Configure OpenIddict client settings and permissions."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[r==="edit"&&F&&s.jsx("button",{type:"button",onClick:je,className:"rounded-md border border-amber-300/50 px-4 py-2 text-sm font-semibold text-amber-200 hover:bg-amber-400/10",children:"Rotate secret"}),s.jsx("button",{type:"submit",disabled:N,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:N?"Saving...":"Save"})]})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx(Je,{message:A,diagnostics:j}),r==="create"&&s.jsxs("div",{className:"mb-6 grid gap-5 md:grid-cols-2",children:[s.jsx(re,{label:"Client profile",hint:"Server-published profile rules.",children:s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:$,onChange:O=>{const G=O.target.value;R(G);const X=Ee.find(oe=>oe.profile===G);X&&Pe(X.id)},children:ye.map(O=>s.jsx("option",{value:O.profile,children:O.profile},O.profile))})}),s.jsx(re,{label:"Preset",error:w.presetId,hint:"Preset defaults and locked fields are provided by server.",children:s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:Te,onChange:O=>Pe(O.target.value),children:Ee.filter(O=>O.profile===$).map(O=>s.jsxs("option",{value:O.id,children:[O.name," (v",O.version,")"]},O.id))})})]}),s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsx(re,{label:"Client ID",tooltip:"Identifiktor klienta v OIDC. Pouvej 3100 znak bez mezer. Pklad: web-spa, cms-admin.",hint:"Pouvej psmena, sla, _, . nebo -. Lowercase doporueno.",error:w.clientId,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${w.clientId?"border-rose-400":"border-slate-700"}`,value:m.clientId,onChange:O=>f(G=>({...G,clientId:O.target.value})),onBlur:()=>{const O=Fu(m.clientId);C(G=>({...G,clientId:O.error??void 0}))},placeholder:"web-spa",required:!0})}),s.jsx(re,{label:"Display name",tooltip:"Lidsk nzev klienta pro admin pehledy. Neovlivuje protokolov hodnoty.",hint:"Voliteln, doporueno pro lep orientaci.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:m.displayName,onChange:O=>f(G=>({...G,displayName:O.target.value})),placeholder:"CMS Admin SPA"})}),s.jsx(re,{label:"Client type",tooltip:"Public klient je SPA/mobile bez bezpenho loit tajemstv. Confidential klient je server-to-server s uloenm secret.",hint:"Public = SPA/mobile. Confidential = backend.",children:s.jsxs("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:m.clientType,onChange:O=>{const G=O.target.value;f(X=>({...X,clientType:G})),C(X=>({...X,pkceRequired:void 0,grantTypes:void 0}))},disabled:Q?.lockedFields.includes("clientType"),children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"confidential",children:"Confidential"})]})}),s.jsx(re,{label:"Status",tooltip:"Zakzan klienta zastav autorizace i tokeny.",hint:"Vypni, pokud nechce klienta doasn pouvat.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.enabled,onChange:O=>f(G=>({...G,enabled:O.target.checked}))}),"Enabled"]})}),s.jsx(re,{label:"Client application type",error:w.clientApplicationType,children:s.jsxs("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:m.clientApplicationType,onChange:O=>f(G=>({...G,clientApplicationType:O.target.value})),children:[s.jsx("option",{value:"web",children:"Web"}),s.jsx("option",{value:"mobile",children:"Mobile"}),s.jsx("option",{value:"desktop",children:"Desktop"}),s.jsx("option",{value:"integration",children:"Integration"})]})})]})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx(re,{label:"Grant types",tooltip:"Grant types definuj, jak klient zsk token. Pro SPA typicky authorization_code + refresh_token.",hint:"Vyber alespo jeden grant type.",error:w.grantTypes,required:!0,children:s.jsx("div",{className:"flex flex-wrap gap-4",children:me.map(O=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.grantTypes.includes(O.value),onChange:G=>{const X=G.target.checked?[...m.grantTypes,O.value]:m.grantTypes.filter(oe=>oe!==O.value);f(oe=>({...oe,grantTypes:X})),C(oe=>({...oe,grantTypes:$u(X)??void 0}))},disabled:Q?.lockedFields.includes("grantTypes")||m.clientType==="public"&&(O.value==="client_credentials"||O.value==="password")}),O.label]},O.value))})}),m.clientType==="public"&&s.jsx(re,{label:"PKCE",tooltip:"PKCE zvyuje bezpenost Authorization Code flow u public klient. Pokud je zapnuto, mus bt povolen authorization_code.",hint:"Doporueno pro SPA/mobile klienty.",error:w.pkceRequired,children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.pkceRequired,onChange:O=>{f(G=>({...G,pkceRequired:O.target.checked})),C(G=>({...G,pkceRequired:Bu(m.clientType,m.grantTypes,O.target.checked)??void 0}))},disabled:Q?.lockedFields.includes("pkceRequired")}),"Require PKCE"]})}),s.jsxs("div",{className:"mt-5 grid gap-4 md:grid-cols-2",children:[s.jsx(re,{label:"Allow introspection (RFC 7662)",children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.allowIntrospection,onChange:O=>f(G=>({...G,allowIntrospection:O.target.checked}))}),"Allow /connect/introspect"]})}),s.jsx(re,{label:"Allow user credentials (password grant)",error:w.allowUserCredentials,children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.allowUserCredentials,onChange:O=>f(G=>({...G,allowUserCredentials:O.target.checked}))}),"Restricted integration-only password grant"]})})]})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx(re,{label:"Scopes",tooltip:"Vyber scope, kter me klient poadovat. Scopes jsou navzan na API resources.",hint:"Nejprve vytvo scopes v OIDC Scopes.",error:w.scopes,children:s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[h.map(O=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.scopes.includes(O.name),onChange:G=>f(X=>({...X,scopes:G.target.checked?[...X.scopes,O.name]:X.scopes.filter(oe=>oe!==O.name)}))}),s.jsx("span",{className:"font-medium",children:O.name}),O.displayName&&s.jsx("span",{className:"text-xs text-slate-400",children:O.displayName})]},O.name)),h.length===0&&s.jsx("p",{className:"text-sm text-slate-400",children:"No scopes yet  create one."})]})}),m.allowUserCredentials&&s.jsx(re,{label:"Allowed scopes for password grant",hint:"Requested scopes for password grant must be a subset of this list.",error:w.allowedScopesForPasswordGrant,children:s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:h.map(O=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-indigo-500",checked:m.allowedScopesForPasswordGrant.includes(O.name),onChange:G=>f(X=>({...X,allowedScopesForPasswordGrant:G.target.checked?[...X.allowedScopesForPasswordGrant,O.name]:X.allowedScopesForPasswordGrant.filter(oe=>oe!==O.name)}))}),s.jsx("span",{className:"font-medium",children:O.name})]},`pwd-${O.name}`))})})]}),s.jsx("section",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsx(re,{label:"Redirect URIs",tooltip:"URL, kam se vrac uivatel po pihlen. Mus bt absolutn, HTTPS (v dev povol http://localhost).",hint:"1 URI per line. Povinn pro authorization_code.",error:w.redirectUris,required:m.grantTypes.includes("authorization_code"),children:s.jsx(Uu,{value:m.redirectUrisText,onChange:O=>f(G=>({...G,redirectUrisText:O})),onBlur:()=>xe(m),placeholder:"http://localhost:5173/auth/callback",error:w.redirectUris,lineErrors:v,minRows:5})}),s.jsx(re,{label:"Post logout redirect URIs",tooltip:"URL, kam se vrac uivatel po odhlen. Mus bt absolutn a bez fragmentu.",hint:"1 URI per line. Voliteln.",error:w.postLogoutRedirectUris,children:s.jsx(Uu,{value:m.postLogoutRedirectUrisText,onChange:O=>f(G=>({...G,postLogoutRedirectUrisText:O})),onBlur:()=>xe(m),placeholder:"https://app.example.com/logout/callback",error:w.postLogoutRedirectUris,lineErrors:D,minRows:5})})]})}),Y&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:Y}),H&&B&&s.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950/80 px-4",children:s.jsxs("div",{className:"w-full max-w-lg rounded-xl border border-slate-700 bg-slate-900 p-6 text-slate-100 shadow-xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Client secret"}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:"This secret is shown only once. Copy it and store it securely."}),s.jsx("div",{className:"mt-4 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 font-mono text-sm",children:B}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{type:"button",className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",onClick:()=>ue(!1),children:"Close"})})]})})]})}function tg(){return s.jsx(Rm,{mode:"create"})}function sg(){const{id:r}=ns();return r?s.jsx(Rm,{mode:"edit",clientId:r}):null}function qs({title:r,description:i,confirmLabel:o="Confirm",cancelLabel:d="Cancel",isOpen:m,confirmDisabled:f=!1,onConfirm:h,onCancel:g,children:x}){return m?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 px-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-lg border border-slate-800 bg-slate-950 p-6 shadow-lg",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:r}),i&&s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:i}),x&&s.jsx("div",{className:"mt-4 text-sm text-slate-300",children:x}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:g,className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:d}),s.jsx("button",{type:"button",onClick:h,disabled:f,className:"rounded-md bg-rose-500 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-400 disabled:cursor-not-allowed disabled:opacity-50",children:o})]})]})}):null}function ng(){const[r,i]=u.useState(""),[o,d]=u.useState(1),[m,f]=u.useState(10),[h,g]=u.useState(null),[x,S]=u.useState(!1),[N,b]=u.useState(null),[w,C]=u.useState(null),[A,T]=u.useState(!1);u.useEffect(()=>{let v=!0;return(async()=>{S(!0);const D=new URLSearchParams;r.trim()&&D.set("search",r.trim()),D.set("page",String(o)),D.set("pageSize",String(m));try{const M=await J(`/admin/api/oidc/scopes?${D.toString()}`);v&&g(M)}finally{v&&S(!1)}})(),()=>{v=!1}},[o,m,r]),u.useEffect(()=>{if(!N){C(null);return}let v=!0;return(async()=>{T(!0);try{const D=await J(`/admin/api/oidc/scopes/${N.id}/usage`);v&&C(D)}finally{v&&T(!1)}})(),()=>{v=!1}},[N]);const j=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1,I=async()=>{N&&(await J(`/admin/api/oidc/scopes/${N.id}`,{method:"DELETE"}),ge({message:"Scope deleted.",tone:"success"}),b(null),g(v=>v&&{...v,items:v.items.filter(E=>E.id!==N.id),totalCount:Math.max(0,v.totalCount-1)}))};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"OIDC Scopes"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage OpenIddict scopes and their bound resources."})]}),s.jsx(ve,{to:he("/oidc/scopes/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New scope"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("input",{className:"w-full max-w-sm rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search by scope name or display name...",value:r,onChange:v=>{i(v.target.value),d(1)}}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:v=>{f(Number(v.target.value)),d(1)},children:[10,20,30].map(v=>s.jsxs("option",{value:v,children:[v," / page"]},v))})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Resources"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[x&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"Loading scopes..."})}),!x&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"No scopes yet  create one."})}),h?.items.map(v=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:v.name}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:v.displayName??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:v.resources.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:v.resources.map(E=>s.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-1 text-xs text-slate-200",children:E},E))}):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(ve,{to:he(`/oidc/scopes/${v.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>b(v),children:"Delete"})]})})]},v.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",j,"  ",h.totalCount," scopes"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(v=>Math.max(1,v-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(v=>Math.min(j,v+1)),disabled:h.page>=j,children:"Next"})]})]}),s.jsx(qs,{title:"Delete scope?",description:"This will permanently remove the scope from OpenIddict.",confirmLabel:"Delete",confirmDisabled:(w?.clientCount??0)>0||A,isOpen:!!N,onCancel:()=>b(null),onConfirm:I,children:N&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Used by"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:A?"...":w?.clientCount??0})," ","clients."]}),(w?.clientCount??0)>0&&s.jsx("p",{className:"text-rose-300",children:"Remove the scope from clients before deleting."})]})})]})}const rg={name:"",displayName:"",description:"",resources:[],claimsText:""};function Tm({mode:r,scopeId:i}){const o=tt(),[d,m]=u.useState(rg),[f,h]=u.useState([]),[g,x]=u.useState({}),[S,N]=u.useState(null),[b,w]=u.useState(void 0),[C,A]=u.useState(r==="edit"),[T,j]=u.useState(!1);u.useEffect(()=>{(async()=>{const E=new URLSearchParams({page:"1",pageSize:"200",includeInactive:"false"}),D=await J(`/admin/api/oidc/resources?${E.toString()}`);h(D.items)})()},[]),u.useEffect(()=>{if(r!=="edit"||!i)return;let v=!0;return(async()=>{A(!0);try{const D=await J(`/admin/api/oidc/scopes/${i}`);if(!v)return;m({name:D.name,displayName:D.displayName??"",description:D.description??"",resources:D.resources,claimsText:D.claims.join(`
`)})}finally{v&&A(!1)}})(),()=>{v=!1}},[r,i]);const I=async v=>{v.preventDefault();const E=Ou(d.name);if(E.error){x({name:E.error});return}x({}),N(null),w(void 0),j(!0);try{const D={name:E.value,displayName:d.displayName.trim()||null,description:d.description.trim()||null,resources:d.resources,claims:ag(d.claimsText)};if(r==="create"){const M=await J("/admin/api/oidc/scopes",{method:"POST",body:JSON.stringify(D),suppressToast:!0});ge({message:"Scope created.",tone:"success"}),o(he(`/oidc/scopes/${M.id}`));return}if(!i)return;await J(`/admin/api/oidc/scopes/${i}`,{method:"PUT",body:JSON.stringify(D),suppressToast:!0}),ge({message:"Scope updated.",tone:"success"})}catch(D){if(D instanceof Ne){const M=qe(D);x({name:M.fieldErrors.name?.[0],resources:M.fieldErrors.resources?.[0]}),N(M.generalError??"Unable to save scope."),w(M.diagnostics);return}N("Unable to save scope."),w(void 0)}finally{j(!1)}};return C?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading scope..."}):s.jsxs("form",{onSubmit:I,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:r==="create"?"Create scope":"Edit scope"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Define OpenIddict scopes and their resources."})]}),s.jsx(Je,{message:S,diagnostics:b}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(re,{label:"Name",tooltip:"OIDC scope identifiktor. Pouvej lowercase, bez mezer. Pklad: api, api.read, cms:write.",hint:"3100 znak, povoleno: a-z, 0-9, :, ., _, -.",error:g.name,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${g.name?"border-rose-400":"border-slate-700"}`,value:d.name,onChange:v=>m(E=>({...E,name:v.target.value})),onBlur:()=>{const v=Ou(d.name);x(E=>({...E,name:v.error??void 0}))},placeholder:"api.read"})}),s.jsx(re,{label:"Display name",tooltip:"Ptelsk nzev scope pro admin pehledy. Neovlivuje protokol.",hint:"Voliteln.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:d.displayName,onChange:v=>m(E=>({...E,displayName:v.target.value})),placeholder:"API Read"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Description",tooltip:"Intern popis scope pro administrtory.",hint:"Voliteln.",children:s.jsx("textarea",{className:"min-h-[120px] rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:d.description,onChange:v=>m(E=>({...E,description:v.target.value})),placeholder:"Optional description for admins."})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Resources",tooltip:"Resources reprezentuj API/audienci. Scope me mapovat na vce resources.",hint:"Vyber resources, kter tento scope chrn.",error:g.resources,children:s.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[f.length===0&&s.jsx("div",{className:"rounded-md border border-dashed border-slate-700 bg-slate-950/40 p-4 text-sm text-slate-400",children:"No active resources yet  create one."}),f.map(v=>s.jsxs("label",{className:"flex items-center gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3",children:[s.jsx("input",{type:"checkbox",checked:d.resources.includes(v.name),onChange:E=>{const D=new Set(d.resources);E.target.checked?D.add(v.name):D.delete(v.name),m(M=>({...M,resources:Array.from(D)}))},className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-100",children:v.name}),s.jsx("div",{className:"text-xs text-slate-400",children:v.displayName??"No display name"})]})]},v.id))]})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Claims",tooltip:"Voliteln claimy pidvan do tokenu, jeden claim na dek.",hint:"1 claim per line, nap. preferred_username.",children:s.jsx("textarea",{className:"min-h-[120px] rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:d.claimsText,onChange:v=>m(E=>({...E,claimsText:v.target.value})),placeholder:"custom_claim"})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:T,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:T?"Saving...":"Save scope"}),s.jsx("button",{type:"button",onClick:()=>o(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function ag(r){return r.split(`
`).map(i=>i.trim()).filter(Boolean)}function lg(){return s.jsx(Tm,{mode:"create"})}function ig(){const{id:r}=ns();return r?s.jsx(Tm,{mode:"edit",scopeId:r}):null}function og(){const[r,i]=u.useState(""),[o,d]=u.useState(1),[m,f]=u.useState(10),[h,g]=u.useState(null),[x,S]=u.useState(!1),[N,b]=u.useState(null),[w,C]=u.useState(null),[A,T]=u.useState(!1);u.useEffect(()=>{let v=!0;return(async()=>{S(!0);const D=new URLSearchParams;r.trim()&&D.set("search",r.trim()),D.set("page",String(o)),D.set("pageSize",String(m)),D.set("includeInactive","true");try{const M=await J(`/admin/api/oidc/resources?${D.toString()}`);v&&g(M)}finally{v&&S(!1)}})(),()=>{v=!1}},[o,m,r]),u.useEffect(()=>{if(!N){C(null);return}let v=!0;return(async()=>{T(!0);try{const D=await J(`/admin/api/oidc/resources/${N.id}/usage`);v&&C(D)}finally{v&&T(!1)}})(),()=>{v=!1}},[N]);const j=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1,I=async()=>{N&&(await J(`/admin/api/oidc/resources/${N.id}`,{method:"DELETE"}),ge({message:"Resource deactivated.",tone:"success"}),b(null),g(v=>v&&{...v,items:v.items.map(E=>E.id===N.id?{...E,isActive:!1}:E)}))};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"OIDC Resources"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage protected API resources used by OpenIddict scopes."})]}),s.jsx(ve,{to:he("/oidc/resources/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New resource"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("input",{className:"w-full max-w-sm rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search by resource name or description...",value:r,onChange:v=>{i(v.target.value),d(1)}}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:v=>{f(Number(v.target.value)),d(1)},children:[10,20,30].map(v=>s.jsxs("option",{value:v,children:[v," / page"]},v))})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Updated"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[x&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading resources..."})}),!x&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No resources yet  create one."})}),h?.items.map(v=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:v.name}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:v.displayName??"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v.isActive?"bg-emerald-500/20 text-emerald-200":"bg-rose-500/20 text-rose-200"}`,children:v.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:new Date(v.updatedUtc).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(ve,{to:he(`/oidc/resources/${v.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),v.isActive&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>b(v),children:"Deactivate"})]})})]},v.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",j,"  ",h.totalCount," resources"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(v=>Math.max(1,v-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(v=>Math.min(j,v+1)),disabled:h.page>=j,children:"Next"})]})]}),s.jsx(qs,{title:"Deactivate resource?",description:"This resource will be hidden from scope selection. Existing scopes will keep the reference.",confirmLabel:"Deactivate",confirmDisabled:(w?.scopeCount??0)>0||A,isOpen:!!N,onCancel:()=>b(null),onConfirm:I,children:N&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Used by"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:A?"...":w?.scopeCount??0})," ","scopes."]}),(w?.scopeCount??0)>0&&s.jsx("p",{className:"text-rose-300",children:"Remove the resource from scopes before deactivating."})]})})]})}const cg={name:"",displayName:"",description:"",isActive:!0};function Im({mode:r,resourceId:i}){const o=tt(),[d,m]=u.useState(cg),[f,h]=u.useState({}),[g,x]=u.useState(null),[S,N]=u.useState(void 0),[b,w]=u.useState(r==="edit"),[C,A]=u.useState(!1);u.useEffect(()=>{if(r!=="edit"||!i)return;let j=!0;return(async()=>{w(!0);try{const v=await J(`/admin/api/oidc/resources/${i}`);if(!j)return;m({name:v.name,displayName:v.displayName??"",description:v.description??"",isActive:v.isActive})}finally{j&&w(!1)}})(),()=>{j=!1}},[r,i]);const T=async j=>{j.preventDefault();const I=Mu(d.name);if(I.error){h({name:I.error});return}h({}),x(null),N(void 0),A(!0);try{const v={name:I.value,displayName:d.displayName.trim()||null,description:d.description.trim()||null,isActive:d.isActive};if(r==="create"){const E=await J("/admin/api/oidc/resources",{method:"POST",body:JSON.stringify(v),suppressToast:!0});ge({message:"Resource created.",tone:"success"}),o(he(`/oidc/resources/${E.id}`));return}if(!i)return;await J(`/admin/api/oidc/resources/${i}`,{method:"PUT",body:JSON.stringify(v),suppressToast:!0}),ge({message:"Resource updated.",tone:"success"})}catch(v){if(v instanceof Ne){const E=qe(v);h({name:E.fieldErrors.name?.[0]}),x(E.generalError??"Unable to save resource."),N(E.diagnostics);return}x("Unable to save resource."),N(void 0)}finally{A(!1)}};return b?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading resource..."}):s.jsxs("form",{onSubmit:T,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:r==="create"?"Create resource":"Edit resource"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Resources are used as scope targets in OpenIddict."})]}),s.jsx(Je,{message:g,diagnostics:S}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(re,{label:"Name",tooltip:"Resource reprezentuje API/audienci. Pklad: api, cms. Scopes na nj budou ukazovat.",hint:"3100 znak, lowercase bez mezer.",error:f.name,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.name?"border-rose-400":"border-slate-700"}`,value:d.name,onChange:j=>m(I=>({...I,name:j.target.value})),onBlur:()=>{const j=Mu(d.name);h(I=>({...I,name:j.error??void 0}))},placeholder:"api"})}),s.jsx(re,{label:"Display name",tooltip:"Lidsk nzev resource pro admin pehledy.",hint:"Voliteln.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:d.displayName,onChange:j=>m(I=>({...I,displayName:j.target.value})),placeholder:"Core API"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Description",tooltip:"Intern popis resource pro administrtory.",hint:"Voliteln.",children:s.jsx("textarea",{className:"min-h-[120px] rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-slate-100",value:d.description,onChange:j=>m(I=>({...I,description:j.target.value})),placeholder:"Optional description for admins."})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Status",tooltip:"Deaktivovan resource nelze piazovat ke scope, ale existujc vazby zstvaj.",hint:"Vypni, pokud resource doasn nepouv.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:d.isActive,onChange:j=>m(I=>({...I,isActive:j.target.checked})),className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),"Active (available for scope selection)"]})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:C,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:C?"Saving...":"Save resource"}),s.jsx("button",{type:"button",onClick:()=>o(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function dg(){return s.jsx(Im,{mode:"create"})}function ug(){const{id:r}=ns();return r?s.jsx(Im,{mode:"edit",resourceId:r}):null}function mg(){const[r,i]=u.useState([]),[o,d]=u.useState(!0),[m,f]=u.useState(null),[h,g]=u.useState(null),[x,S]=u.useState(!1);u.useEffect(()=>{let b=!0;return(async()=>{try{const C=await J("/admin/api/permissions");b&&i(C)}finally{b&&d(!1)}})(),()=>{b=!1}},[]),u.useEffect(()=>{if(!m){g(null);return}let b=!0;return(async()=>{S(!0);try{const C=await J(`/admin/api/permissions/${m.id}/usage`);b&&g(C)}finally{b&&S(!1)}})(),()=>{b=!1}},[m]);const N=async()=>{m&&(await J(`/admin/api/permissions/${m.id}`,{method:"DELETE"}),ge({message:"Permission deleted.",tone:"success"}),i(b=>b.filter(w=>w.id!==m.id)),f(null))};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Permissions"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage permission definitions and grouping."})]}),s.jsx(ve,{to:he("/config/permissions/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New permission"})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Key"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Description"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Group"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"System"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[o&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading permissions..."})}),!o&&r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No permissions yet  create one."})}),r.map(b=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:b.key}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:b.description}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:b.group||"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:b.isSystem?"Yes":"No"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(ve,{to:he(`/config/permissions/${b.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),!b.isSystem&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>f(b),children:"Delete"})]})})]},b.id))]})]})}),s.jsx(qs,{title:"Delete permission?",description:"This will remove the permission and related mappings.",confirmLabel:"Delete",confirmDisabled:(h?.roleCount??0)>0||(h?.endpointCount??0)>0||x,isOpen:!!m,onCancel:()=>f(null),onConfirm:N,children:m&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Used by"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:x?"...":h?.roleCount??0})," ","roles and"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:x?"...":h?.endpointCount??0})," ","endpoints."]}),((h?.roleCount??0)>0||(h?.endpointCount??0)>0)&&s.jsx("p",{className:"text-rose-300",children:"Remove assignments before deleting."})]})})]})}const pg=/^[a-z0-9]+(\.[a-z0-9]+)*$/,fg=/^[A-Za-z0-9][A-Za-z0-9 _\.-]*$/;function Hu(r){const i=r.trim();return i?i.length<3||i.length>100?{value:i,error:"Permission key must be between 3 and 100 characters."}:pg.test(i)?{value:i,error:null}:{value:i,error:"Use lowercase letters, numbers, and dots only (e.g. system.admin)."}:{value:i,error:"Permission key is required."}}function Wu(r){const i=r.trim();return i?i.length>250?{value:i,error:"Description must be 250 characters or fewer."}:Dm(i)?{value:i,error:"Description must not contain control characters."}:{value:i,error:null}:{value:i,error:"Description is required."}}function qu(r){const i=r.trim();return i?i.length>100?{value:i,error:"Group must be 100 characters or fewer."}:Dm(i)?{value:i,error:"Group must not contain control characters."}:{value:i,error:null}:{value:i,error:null}}function Ua(r){const i=r.trim();return i?i.length<2||i.length>64?{value:i,error:"Role name must be between 2 and 64 characters."}:fg.test(i)?{value:i,error:null}:{value:i,error:"Use letters, numbers, spaces, dots, underscores, or dashes only."}:{value:i,error:"Role name is required."}}function bn(r,i){if(!r||!i)return null;const o=new Date(r),d=new Date(i);return Number.isNaN(o.getTime())||Number.isNaN(d.getTime())?"Date range is invalid.":o>d?"From date must be earlier than to date.":null}function Ka(r){const i=r.trim();return i?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)?{value:i,error:null}:{value:i,error:"Enter a valid email address."}:{value:i,error:"Email is required."}}function Dm(r){return Array.from(r).some(i=>i<=""||i==="")}const hg={key:"",description:"",group:"",isSystem:!1};function Lm({mode:r,permissionId:i}){const o=tt(),[d,m]=u.useState(hg),[f,h]=u.useState({}),[g,x]=u.useState(null),[S,N]=u.useState(void 0),[b,w]=u.useState(r==="edit"),[C,A]=u.useState(!1);u.useEffect(()=>{if(r!=="edit"||!i)return;let j=!0;return(async()=>{w(!0);try{const v=await J(`/admin/api/permissions/${i}`);j&&m({key:v.key,description:v.description,group:v.group,isSystem:v.isSystem})}finally{j&&w(!1)}})(),()=>{j=!1}},[r,i]);const T=async j=>{j.preventDefault();const I=Hu(d.key),v=Wu(d.description),E=qu(d.group),D={key:I.error??void 0,description:v.error??void 0,group:E.error??void 0};if(h(D),x(null),N(void 0),!Object.values(D).some(Boolean)){A(!0);try{const M={key:I.value,description:v.value,group:E.value,isSystem:d.isSystem};if(r==="create"){await J("/admin/api/permissions",{method:"POST",body:JSON.stringify(M),suppressToast:!0}),ge({message:"Permission created.",tone:"success"}),o(he("/config/permissions"));return}if(!i)return;await J(`/admin/api/permissions/${i}`,{method:"PUT",body:JSON.stringify(M),suppressToast:!0}),ge({message:"Permission updated.",tone:"success"})}catch(M){if(M instanceof Ne){const B=qe(M);h({key:B.fieldErrors.key?.[0],description:B.fieldErrors.description?.[0],group:B.fieldErrors.group?.[0]}),x(B.generalError??"Unable to save permission."),N(B.diagnostics);return}x("Unable to save permission."),N(void 0)}finally{A(!1)}}};return b?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading permission..."}):s.jsxs("form",{onSubmit:T,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:r==="create"?"Create permission":"Edit permission"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Configure application permission metadata."})]}),s.jsx(Je,{message:g,diagnostics:S}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(re,{label:"Key",tooltip:"Jednoznan identifiktor permission. Pouvej teky pro hierarchii a lowercase.",hint:"Pklad: system.admin nebo api.read. Pouv se v policy a claimu permission.",error:f.key,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.key?"border-rose-400":"border-slate-700"}`,value:d.key,onChange:j=>m(I=>({...I,key:j.target.value})),onBlur:()=>h(j=>({...j,key:Hu(d.key).error??void 0})),placeholder:"system.admin",disabled:r==="edit"&&d.isSystem})}),s.jsx(re,{label:"Group",tooltip:"Skupina pro vizuln seskupen permission.",hint:"Voliteln, nap. System nebo OIDC.",error:f.group,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.group?"border-rose-400":"border-slate-700"}`,value:d.group,onChange:j=>m(I=>({...I,group:j.target.value})),onBlur:()=>h(j=>({...j,group:qu(d.group).error??void 0})),placeholder:"System"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Description",tooltip:"Krtk popis pro administrtory.",hint:"Povinn.",error:f.description,required:!0,children:s.jsx("textarea",{className:`min-h-[120px] rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${f.description?"border-rose-400":"border-slate-700"}`,value:d.description,onChange:j=>m(I=>({...I,description:j.target.value})),onBlur:()=>h(j=>({...j,description:Wu(d.description).error??void 0})),placeholder:"Allows access to admin features"})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"System permission",tooltip:"System permissiony jsou chrnn proti smazn.",hint:"Zapni pouze pro core oprvnn.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:d.isSystem,onChange:j=>m(I=>({...I,isSystem:j.target.checked})),className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),"Protected from deletion"]})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:C,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:C?"Saving...":"Save permission"}),s.jsx("button",{type:"button",onClick:()=>o(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function xg(){return s.jsx(Lm,{mode:"create"})}function gg(){const{id:r}=ns();return r?s.jsx(Lm,{mode:"edit",permissionId:r}):null}function yg(){const[r,i]=u.useState([]),[o,d]=u.useState(""),[m,f]=u.useState(null),[h,g]=u.useState(null),[x,S]=u.useState(void 0),[N,b]=u.useState(!0),[w,C]=u.useState(null),[A,T]=u.useState(null),[j,I]=u.useState(!1),[v,E]=u.useState(null),[D,M]=u.useState(""),[B,z]=u.useState(null),[H,ue]=u.useState(null),[Y,Z]=u.useState(void 0),[ye,Re]=u.useState(null),Ee=async()=>{const $=await J("/admin/api/roles");i($)};u.useEffect(()=>{let $=!0;return(async()=>{try{await Ee()}finally{$&&b(!1)}})(),()=>{$=!1}},[]),u.useEffect(()=>{if(!w){T(null);return}let $=!0;return(async()=>{I(!0);try{const F=await J(`/admin/api/roles/${w.id}/usage`);$&&T(F)}finally{$&&I(!1)}})(),()=>{$=!1}},[w]);const Ke=async $=>{$.preventDefault();const R=Ua(o);if(R.error){f(R.error);return}f(null),g(null),S(void 0);try{await J("/admin/api/roles",{method:"POST",body:JSON.stringify({name:R.value}),suppressToast:!0}),ge({message:"Role created.",tone:"success"}),d(""),await Ee()}catch(F){if(F instanceof Ne){const me=qe(F);f(me.fieldErrors.name?.[0]??null),g(me.generalError??"Unable to create role."),S(me.diagnostics);return}g("Unable to create role."),S(void 0)}},Te=async()=>{w&&(await J(`/admin/api/roles/${w.id}`,{method:"DELETE"}),ge({message:"Role deleted.",tone:"success"}),i($=>$.filter(R=>R.id!==w.id)),C(null))},Pe=$=>{E($.id),M($.name),z(null)},Q=()=>{E(null),M("")},ie=async()=>{if(!v)return;const $=Ua(D);if($.error){z($.error);return}z(null),ue(null),Z(void 0),Re(v);try{await J(`/admin/api/roles/${v}`,{method:"PUT",body:JSON.stringify({name:$.value}),suppressToast:!0}),ge({message:"Role updated.",tone:"success"}),i(R=>R.map(F=>F.id===v?{...F,name:$.value}:F)),Q()}catch(R){if(R instanceof Ne){const F=qe(R);z(F.fieldErrors.name?.[0]??null),ue(F.generalError??"Unable to update role."),Z(F.diagnostics);return}ue("Unable to update role."),Z(void 0)}finally{Re(null)}};return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Roles"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Assign permissions to roles for admin access control."})]}),s.jsxs("form",{onSubmit:Ke,className:"flex flex-wrap items-end gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"w-full max-w-sm",children:s.jsx(re,{label:"New role",tooltip:"Role je Identity role. Oprvnn se mapuj pes permissiony.",hint:"Pouvej krtk nzvy jako Admin, Support, Editor.",error:m,required:!0,children:s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 ${m?"border-rose-400":"border-slate-700"}`,placeholder:"Admin",value:o,onChange:$=>d($.target.value),onBlur:()=>f(Ua(o).error??null)})})}),s.jsx("button",{type:"submit",className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"Create role"}),s.jsx("div",{className:"w-full",children:s.jsx(Je,{message:h,diagnostics:x})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Role"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"System"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[N&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-400",children:"Loading roles..."})}),!N&&r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-400",children:"No roles found."})}),r.map($=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsxs("td",{className:"px-4 py-3 font-medium",children:[v===$.id?s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 ${B?"border-rose-400":"border-slate-700"}`,value:D,onChange:R=>M(R.target.value),onBlur:()=>z(Ua(D).error??null)}):$.name,v===$.id&&B&&s.jsx("div",{className:"mt-1 text-xs text-rose-300",children:B}),v===$.id&&s.jsx(Je,{message:H,diagnostics:Y})]}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:$.isSystem?"Yes":"No"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(ve,{to:he(`/config/roles/${$.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit permissions"}),!$.isSystem&&v!==$.id&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-slate-300 hover:text-slate-200",onClick:()=>Pe($),children:"Rename"}),!$.isSystem&&v===$.id&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"text-sm font-semibold text-emerald-300 hover:text-emerald-200",onClick:ie,disabled:ye===$.id,children:ye===$.id?"Saving...":"Save"}),s.jsx("button",{type:"button",className:"text-sm font-semibold text-slate-300 hover:text-slate-200",onClick:Q,disabled:ye===$.id,children:"Cancel"})]}),!$.isSystem&&s.jsx("button",{type:"button",className:"text-sm font-semibold text-rose-300 hover:text-rose-200",onClick:()=>C($),children:"Delete"})]})})]},$.id))]})]})}),s.jsx(qs,{title:"Delete role?",description:"This will remove the role and its permission assignments.",confirmLabel:"Delete",confirmDisabled:(A?.userCount??0)>0||j,isOpen:!!w,onCancel:()=>C(null),onConfirm:Te,children:w&&s.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[s.jsxs("p",{children:["Assigned to"," ",s.jsx("span",{className:"font-semibold text-slate-100",children:j?"...":A?.userCount??0})," ","users."]}),(A?.userCount??0)>0&&s.jsx("p",{className:"text-rose-300",children:"Remove users from the role before deleting."})]})})]})}function vg(){const{id:r}=ns(),i=tt(),[o,d]=u.useState(null),[m,f]=u.useState([]),[h,g]=u.useState(new Set),[x,S]=u.useState(!0),[N,b]=u.useState(!1),[w,C]=u.useState(null),[A,T]=u.useState(void 0);u.useEffect(()=>{if(!r)return;let E=!0;return(async()=>{S(!0);try{const[M,B]=await Promise.all([J(`/admin/api/roles/${r}`),J("/admin/api/permissions")]);if(!E)return;d(M),f(B),g(new Set(M.permissionIds))}finally{E&&S(!1)}})(),()=>{E=!1}},[r]);const j=u.useMemo(()=>{const E=new Map;return m.forEach(D=>{const M=D.group||"General";E.has(M)||E.set(M,[]),E.get(M).push(D)}),Array.from(E.entries()).sort(([D],[M])=>D.localeCompare(M)).map(([D,M])=>({group:D,permissions:M.sort((B,z)=>B.key.localeCompare(z.key))}))},[m]),I=E=>{g(D=>{const M=new Set(D);return M.has(E)?M.delete(E):M.add(E),M})},v=async E=>{if(E.preventDefault(),!!r){C(null),T(void 0),b(!0);try{await J(`/admin/api/roles/${r}/permissions`,{method:"PUT",body:JSON.stringify({permissionIds:Array.from(h)}),suppressToast:!0}),ge({message:"Role permissions updated.",tone:"success"})}catch(D){if(D instanceof Ne){const M=qe(D);C(M.generalError??"Unable to update role permissions."),T(M.diagnostics);return}C("Unable to update role permissions."),T(void 0)}finally{b(!1)}}};return r?x?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading role..."}):o?s.jsxs("form",{onSubmit:v,className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h1",{className:"text-2xl font-semibold text-white",children:["Role: ",o.name]}),s.jsx(Ps,{tooltip:"Role jsou Identity role. Oprvnn se mapuj pes permissiony (claim permission). Zmny ovlivn pstup uivatel."})]}),s.jsx("p",{className:"text-sm text-slate-300",children:"Assign permissions to control access."})]}),s.jsx(Je,{message:w,diagnostics:A}),s.jsx("div",{className:"flex flex-col gap-6",children:j.map(E=>s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-400",children:E.group}),s.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:E.permissions.map(D=>s.jsxs("label",{className:"flex items-start gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3",children:[s.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:h.has(D.id),onChange:()=>I(D.id)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-100",children:D.key}),s.jsx("div",{className:"text-xs text-slate-400",children:D.description})]})]},D.id))})]},E.group))}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:N,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:N?"Saving...":"Save permissions"}),s.jsx("button",{type:"button",onClick:()=>i(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]}):s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Role not found."}):null}function jg(){const[r,i]=u.useState([]),[o,d]=u.useState(!0);return u.useEffect(()=>{let m=!0;return(async()=>{try{const h=await J("/admin/api/api-resources");m&&i(h)}finally{m&&d(!1)}})(),()=>{m=!1}},[]),s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Endpoints"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage API resources and endpoint permissions."})]}),s.jsx(ve,{to:he("/config/api-resources/new"),className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"New API resource"})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Display name"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Base URL"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[o&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading API resources..."})}),!o&&r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No API resources defined."})}),r.map(m=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:m.name}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:m.displayName}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:m.baseUrl??"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${m.isActive?"bg-emerald-500/20 text-emerald-200":"bg-rose-500/20 text-rose-200"}`,children:m.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(ve,{to:he(`/config/api-resources/${m.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Edit"}),s.jsx(ve,{to:he(`/config/api-resources/${m.id}/endpoints`),className:"text-sm font-semibold text-slate-300 hover:text-slate-100",children:"Endpoints"})]})})]},m.id))]})]})})]})}const bg={name:"",displayName:"",baseUrl:"",isActive:!0};function Am({mode:r,resourceId:i}){const o=tt(),[d,m]=u.useState(bg),[f,h]=u.useState(r==="edit"),[g,x]=u.useState(!1),[S,N]=u.useState(null),[b,w]=u.useState(null),[C,A]=u.useState({}),[T,j]=u.useState(null),[I,v]=u.useState(void 0);u.useEffect(()=>{if(r!=="edit"||!i)return;let M=!0;return(async()=>{h(!0);try{const z=await J(`/admin/api/api-resources/${i}`);M&&m({name:z.name,displayName:z.displayName,baseUrl:z.baseUrl??"",isActive:z.isActive})}finally{M&&h(!1)}})(),()=>{M=!1}},[r,i]);const E=async M=>{M.preventDefault();const B={};if(d.name.trim()||(B.name="Name is required."),d.displayName.trim()||(B.displayName="Display name is required."),d.baseUrl.trim())try{new URL(d.baseUrl.trim())}catch{B.baseUrl="Base URL must be a valid absolute URL."}if(A(B),j(null),v(void 0),!(Object.keys(B).length>0)){x(!0);try{const z={name:d.name.trim(),displayName:d.displayName.trim(),baseUrl:d.baseUrl.trim()||null,isActive:d.isActive};if(r==="create"){const H=await J("/admin/api/api-resources",{method:"POST",body:JSON.stringify(z),suppressToast:!0});ge({message:"API resource created.",tone:"success"}),o(he(`/config/api-resources/${H.id}`));return}if(!i)return;await J(`/admin/api/api-resources/${i}`,{method:"PUT",body:JSON.stringify(z),suppressToast:!0}),ge({message:"API resource updated.",tone:"success"})}catch(z){if(z instanceof Ne){const H=qe(z);A({name:H.fieldErrors.name?.[0],displayName:H.fieldErrors.displayName?.[0],baseUrl:H.fieldErrors.baseUrl?.[0]}),j(H.generalError??"Unable to save API resource."),v(H.diagnostics);return}j("Unable to save API resource."),v(void 0)}finally{x(!1)}}},D=async()=>{if(!i)return;const M=await J(`/admin/api/api-resources/${i}/rotate-key`,{method:"POST"});M.apiKey?(N(M.apiKey),w(null),ge({message:"API key rotated.",tone:"success"})):(N(null),w("API key rotated. New key was not displayed for security reasons."),ge({message:"API key rotated.",tone:"success"}))};return f?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading API resource..."}):s.jsxs("form",{onSubmit:E,className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:r==="create"?"Create API resource":"Edit API resource"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Configure API metadata and status."})]}),r==="edit"&&s.jsx("button",{type:"button",onClick:D,className:"rounded-md border border-amber-300/50 px-4 py-2 text-sm font-semibold text-amber-200 hover:bg-amber-400/10",children:"Rotate API key"})]}),S&&s.jsxs("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:[s.jsx("p",{className:"font-semibold",children:"New API key"}),s.jsx("code",{className:"mt-2 block break-all rounded bg-amber-900/30 p-2 text-xs text-amber-100",children:S}),s.jsx("p",{className:"mt-2 text-xs text-amber-100",children:"Store this value securely; it will not be shown again."})]}),b&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:b}),s.jsx(Je,{message:T,diagnostics:I}),s.jsxs("div",{className:"grid gap-6 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(re,{label:"Name",tooltip:"Intern identifiktor API resource.",hint:"Povinn, nap. identity-api.",error:C.name,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${C.name?"border-rose-400":"border-slate-700"}`,value:d.name,onChange:M=>m(B=>({...B,name:M.target.value})),placeholder:"identity-api"})}),s.jsx(re,{label:"Display name",tooltip:"Lidsk nzev API pro administrtory.",hint:"Povinn.",error:C.displayName,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${C.displayName?"border-rose-400":"border-slate-700"}`,value:d.displayName,onChange:M=>m(B=>({...B,displayName:M.target.value})),placeholder:"Identity API"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Base URL",tooltip:"Zkladn URL API pro dokumentaci a odkazy.",hint:"Voliteln, mus bt absolutn URL.",error:C.baseUrl,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-slate-100 ${C.baseUrl?"border-rose-400":"border-slate-700"}`,value:d.baseUrl,onChange:M=>m(B=>({...B,baseUrl:M.target.value})),placeholder:"https://api.local.test"})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(re,{label:"Status",tooltip:"Deaktivovan API resource nelze pouvat pro sync endpoint.",hint:"Vypni, pokud je API mimo provoz.",children:s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:d.isActive,onChange:M=>m(B=>({...B,isActive:M.target.checked})),className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400"}),"Active"]})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",disabled:g,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:g?"Saving...":"Save API resource"}),s.jsx("button",{type:"button",onClick:()=>o(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"})]})]})}function wg(){return s.jsx(Am,{mode:"create"})}function Ng(){const{id:r}=ns();return r?s.jsx(Am,{mode:"edit",resourceId:r}):null}function Sg(){const{id:r}=ns(),[i,o]=u.useState([]),[d,m]=u.useState([]),[f,h]=u.useState(!0),[g,x]=u.useState(null),[S,N]=u.useState(!1),[b,w]=u.useState(null),[C,A]=u.useState(void 0);u.useEffect(()=>{if(!r)return;let E=!0;return(async()=>{h(!0);try{const[M,B]=await Promise.all([J(`/admin/api/api-resources/${r}/endpoints`),J("/admin/api/permissions")]);E&&(o(M),m(B))}finally{E&&h(!1)}})(),()=>{E=!1}},[r]);const T=u.useMemo(()=>{const E=new Map;return d.forEach(D=>{const M=D.group||"General";E.has(M)||E.set(M,[]),E.get(M).push(D)}),Array.from(E.entries()).sort(([D],[M])=>D.localeCompare(M))},[d]),j=E=>{x({endpoint:E,selected:new Set(E.permissionIds)})},I=E=>{g&&x(D=>{if(!D)return D;const M=new Set(D.selected);return M.has(E)?M.delete(E):M.add(E),{...D,selected:M}})},v=async()=>{if(!(!g||!r)){N(!0),w(null),A(void 0);try{await J(`/admin/api/api-resources/${r}/endpoints/${g.endpoint.id}/permissions`,{method:"PUT",body:JSON.stringify({permissionIds:Array.from(g.selected)}),suppressToast:!0}),ge({message:"Endpoint permissions updated.",tone:"success"}),o(E=>E.map(D=>D.id===g.endpoint.id?{...D,permissionIds:Array.from(g.selected),permissionKeys:d.filter(M=>g.selected.has(M.id)).map(M=>M.key)}:D)),x(null)}catch(E){if(E instanceof Ne){const D=qe(E);w(D.generalError??"Unable to update endpoint permissions."),A(D.diagnostics);return}w("Unable to update endpoint permissions."),A(void 0)}finally{N(!1)}}};return r?s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Endpoint Permissions"}),s.jsx(Ps,{tooltip:"Vyber permissiony pro konkrtn endpoint. Kombinace method + path mus bt uniktn v rmci API resource. Endpoints se synchronizuj z API sluby."})]}),s.jsx("p",{className:"text-sm text-slate-300",children:"Assign permissions to API endpoints."})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Method"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Path"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Permissions"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[f&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"Loading endpoints..."})}),!f&&i.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-slate-400",children:"No endpoints registered. Sync endpoints from API service."})}),i.map(E=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:E.method}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:E.path}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:E.permissionKeys.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:E.permissionKeys.map(D=>s.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-1 text-xs text-slate-200",children:D},D))}):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("button",{type:"button",className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",onClick:()=>j(E),children:"Edit permissions"})})]},E.id))]})]})}),g&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 px-4",children:s.jsxs("div",{className:"w-full max-w-2xl rounded-lg border border-slate-800 bg-slate-950 p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Edit permissions"}),s.jsxs("p",{className:"text-sm text-slate-300",children:[g.endpoint.method," ",g.endpoint.path]})]}),s.jsx("button",{type:"button",onClick:()=>x(null),className:"text-sm text-slate-400 hover:text-slate-200",children:"Close"})]}),s.jsxs("div",{className:"mt-4 max-h-[60vh] overflow-y-auto",children:[s.jsx("p",{className:"mb-3 text-xs text-slate-400",children:"Choose permissions required for this endpoint. You can leave it empty for public access."}),s.jsx(Je,{message:b,diagnostics:C}),T.map(([E,D])=>s.jsxs("div",{className:"mb-4 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:E}),s.jsx("div",{className:"mt-3 grid gap-2 md:grid-cols-2",children:D.map(M=>s.jsxs("label",{className:"flex items-start gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3",children:[s.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:g.selected.has(M.id),onChange:()=>I(M.id)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-100",children:M.key}),s.jsx("div",{className:"text-xs text-slate-400",children:M.description})]})]},M.id))})]},E))]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>x(null),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Cancel"}),s.jsx("button",{type:"button",onClick:v,disabled:S,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:S?"Saving...":"Save permissions"})]})]})})]}):null}function kg(){const[r,i]=u.useState(""),[o,d]=u.useState(1),[m,f]=u.useState(10),[h,g]=u.useState(null),[x,S]=u.useState(!1),[N,b]=u.useState(0),[w,C]=u.useState(!1),[A,T]=u.useState(null),[j,I]=u.useState(null),[v,E]=u.useState(null),[D,M]=u.useState(void 0),[B,z]=u.useState({email:"",userName:"",phoneNumber:"",password:""});u.useEffect(()=>{let Y=!0;return(async()=>{S(!0);const ye=new URLSearchParams;r.trim()&&ye.set("search",r.trim()),ye.set("page",String(o)),ye.set("pageSize",String(m));try{const Re=await J(`/admin/api/users?${ye.toString()}`);Y&&g(Re)}finally{Y&&S(!1)}})(),()=>{Y=!1}},[o,m,r,N]);const H=async Y=>{Y.preventDefault();const Z=Ka(B.email);if(Z.error){T(Z.error);return}T(null),I(null),E(null),M(void 0),C(!0);try{await J("/admin/api/users",{method:"POST",body:JSON.stringify({email:Z.value,userName:B.userName.trim()||null,phoneNumber:B.phoneNumber.trim()||null,password:B.password.trim()||null}),suppressToast:!0}),ge({message:"User created.",tone:"success"}),z({email:"",userName:"",phoneNumber:"",password:""}),d(1),b(ye=>ye+1)}catch(ye){if(ye instanceof Ne){const Re=qe(ye);T(Re.fieldErrors.email?.[0]??null),I(Re.fieldErrors.password?.[0]??null),E(Re.generalError??"Unable to create user."),M(Re.diagnostics);return}E("Unable to create user."),M(void 0)}finally{C(!1)}},ue=h?Math.max(1,Math.ceil(h.totalCount/h.pageSize)):1;return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Users"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Browse registered users and lock status."})]}),s.jsxs("div",{className:"flex flex-wrap items-end gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"w-full max-w-sm",children:s.jsx(re,{label:"Search",tooltip:"Hled v emailu nebo username.",hint:"Pouij pesn fragment (nap. jana@).",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search email or username",value:r,onChange:Y=>{i(Y.target.value),d(1)}})})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Page size"}),s.jsx("select",{className:"mt-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:Y=>{f(Number(Y.target.value)),d(1)},children:[10,20,30].map(Y=>s.jsxs("option",{value:Y,children:[Y," / page"]},Y))})]})]}),s.jsxs("form",{onSubmit:H,className:"grid gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4 md:grid-cols-2",children:[s.jsx(re,{label:"Email",tooltip:"Primrn pihlaovac email. Aktivace se posl na tuto adresu.",hint:"Povinn.",error:A,required:!0,children:s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 ${A?"border-rose-400":"border-slate-700"}`,placeholder:"name@example.com",value:B.email,onChange:Y=>z(Z=>({...Z,email:Y.target.value})),onBlur:()=>T(Ka(B.email).error??null)})}),s.jsx(re,{label:"Username",tooltip:"Voliteln username pro pihlen.",hint:"Kdy je przdn, pouije se email.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Username",value:B.userName,onChange:Y=>z(Z=>({...Z,userName:Y.target.value}))})}),s.jsx(re,{label:"Phone number",tooltip:"Voliteln telefonn slo uivatele.",hint:"Pouij E.164 formt.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"+420123456789",value:B.phoneNumber,onChange:Y=>z(Z=>({...Z,phoneNumber:Y.target.value}))})}),s.jsx(re,{label:"Temporary password",tooltip:"Pokud nech przdn, systm vygeneruje aktivaci.",hint:"Voliteln. Mus splnit password policy.",error:j,children:s.jsx("input",{className:`w-full rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 ${j?"border-rose-400":"border-slate-700"}`,type:"password",placeholder:"Temporary password",value:B.password,onChange:Y=>z(Z=>({...Z,password:Y.target.value}))})}),s.jsxs("div",{className:"flex items-center gap-3 md:col-span-2",children:[s.jsx("button",{type:"submit",disabled:w,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:w?"Creating...":"Create user"}),s.jsxs("span",{className:"flex items-center gap-2 text-xs text-slate-400",children:[s.jsx(Ps,{tooltip:"Uivatel dostane aktivan email s potvrzovacm linkem."}),"New users will receive an activation email."]})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Je,{message:v,diagnostics:D})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Email"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Username"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Confirmed"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Locked"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Roles"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[x&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"Loading users..."})}),!x&&h?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"No users found. Create the first user above."})}),h?.items.map(Y=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:Y.email??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:Y.userName??"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${Y.emailConfirmed?"bg-emerald-500/20 text-emerald-200":"bg-amber-500/20 text-amber-200"}`,children:Y.emailConfirmed?"Yes":"No"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${Y.isLockedOut?"bg-rose-500/20 text-rose-200":"bg-emerald-500/20 text-emerald-200"}`,children:Y.isLockedOut?"Locked":"Active"})}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:Y.roles.length?Y.roles.join(", "):"-"}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx(ve,{to:he(`/users/${Y.id}`),className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",children:"Manage"})})]},Y.id))]})]})}),h&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",h.page," of ",ue,"  ",h.totalCount," users"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(Y=>Math.max(1,Y-1)),disabled:h.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>d(Y=>Math.min(ue,Y+1)),disabled:h.page>=ue,children:"Next"})]})]})]})}function Cg(){const{id:r}=ns(),i=tt(),{session:o}=Wt(),[d,m]=u.useState(null),[f,h]=u.useState([]),[g,x]=u.useState(new Set),[S,N]=u.useState(""),[b,w]=u.useState({}),[C,A]=u.useState(null),[T,j]=u.useState(null),[I,v]=u.useState(null),[E,D]=u.useState(null),[M,B]=u.useState(null),[z,H]=u.useState(void 0),[ue,Y]=u.useState(void 0),[Z,ye]=u.useState(void 0),[Re,Ee]=u.useState(void 0),[Ke,Te]=u.useState(void 0),[Pe,Q]=u.useState(!0),[ie,$]=u.useState(!1),[R,F]=u.useState(!1),[me,xe]=u.useState(!1),[we,je]=u.useState(!1),[O,G]=u.useState({email:"",userName:"",phoneNumber:"",emailConfirmed:!1,isActive:!0});u.useEffect(()=>{if(!r)return;let fe=!0;return(async()=>{Q(!0);try{const[Fe,Pn]=await Promise.all([J(`/admin/api/users/${r}`),J("/admin/api/roles")]);fe&&(m(Fe),h(Pn),x(new Set(Fe.roles)),G({email:Fe.email??"",userName:Fe.userName??"",phoneNumber:Fe.phoneNumber??"",emailConfirmed:Fe.emailConfirmed,isActive:Fe.isActive}))}finally{fe&&Q(!1)}})(),()=>{fe=!1}},[r]);const X=fe=>{x(ke=>{const Fe=new Set(ke);return Fe.has(fe)?Fe.delete(fe):Fe.add(fe),Fe})},oe=async()=>{if(r){j(null),Y(void 0),$(!0);try{await J(`/admin/api/users/${r}/roles`,{method:"PUT",body:JSON.stringify({roles:Array.from(g)}),suppressToast:!0}),ge({message:"User roles updated.",tone:"success"})}catch(fe){if(fe instanceof Ne){const ke=qe(fe);j(ke.generalError??"Unable to update roles."),Y(ke.diagnostics);return}j("Unable to update roles."),Y(void 0)}finally{$(!1)}}},qt=async()=>{if(!r||!d)return;const fe=Ka(O.email);if(fe.error){w({email:fe.error});return}w({}),A(null),H(void 0),F(!0);try{await J(`/admin/api/users/${r}`,{method:"PUT",body:JSON.stringify({email:fe.value,userName:O.userName.trim()||null,phoneNumber:O.phoneNumber.trim()||null,emailConfirmed:O.emailConfirmed,isActive:O.isActive}),suppressToast:!0}),m({...d,email:fe.value,userName:O.userName.trim()||null,phoneNumber:O.phoneNumber.trim()||null,emailConfirmed:O.emailConfirmed,isActive:O.isActive}),ge({message:"User updated.",tone:"success"})}catch(ke){if(ke instanceof Ne){const Fe=qe(ke);w({email:Fe.fieldErrors.email?.[0]}),A(Fe.generalError??"Unable to update user."),H(Fe.diagnostics);return}A("Unable to update user."),H(void 0)}finally{F(!1)}},ls=async()=>{if(!r||!d)return;v(null),ye(void 0);const fe=!d.isLockedOut;try{await J(`/admin/api/users/${r}/lock`,{method:"POST",body:JSON.stringify({locked:fe}),suppressToast:!0}),m({...d,isLockedOut:fe}),ge({message:fe?"User locked.":"User unlocked.",tone:"success"})}catch(ke){if(ke instanceof Ne){const Fe=qe(ke);v(Fe.generalError??"Unable to update lock status."),ye(Fe.diagnostics);return}v("Unable to update lock status."),ye(void 0)}},Mt=async()=>{if(r){if(!S.trim()){D("New password is required.");return}D(null),Ee(void 0);try{await J(`/admin/api/users/${r}/reset-password`,{method:"POST",body:JSON.stringify({newPassword:S}),suppressToast:!0}),N(""),ge({message:"Password reset.",tone:"success"})}catch(fe){if(fe instanceof Ne){const ke=qe(fe);D(ke.fieldErrors.newPassword?.[0]??ke.generalError),Ee(ke.diagnostics);return}D("Unable to reset password."),Ee(void 0)}}},En=async()=>{if(!(!r||!d)){xe(!0),B(null),Te(void 0);try{await J(`/admin/api/users/${r}/resend-activation`,{method:"POST",suppressToast:!0}),ge({message:"Activation email resent.",tone:"success"})}catch(fe){if(fe instanceof Ne){const ke=qe(fe);B(ke.generalError??"Unable to resend activation email."),Te(ke.diagnostics);return}B("Unable to resend activation email."),Te(void 0)}finally{xe(!1)}}},Nr=async()=>{r&&(je(!1),await J(`/admin/api/users/${r}`,{method:"DELETE"}),ge({message:"User deactivated.",tone:"success"}),i(-1))};return r?Pe?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading user..."}):d?s.jsxs("section",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:d.email??d.userName}),s.jsx("p",{className:"text-sm text-slate-300",children:"Manage user access and security settings."})]}),s.jsx("button",{type:"button",onClick:()=>i(-1),className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900",children:"Back"})]}),s.jsxs("div",{className:"grid gap-4 rounded-lg border border-slate-800 bg-slate-900/40 p-6 md:grid-cols-2",children:[s.jsx(re,{label:"Email",tooltip:"Primrn pihlaovac email. Zmna me vyadovat novou aktivaci.",hint:"Povinn.",error:b.email,required:!0,children:s.jsx("input",{className:`rounded-md border bg-slate-950 px-3 py-2 text-sm text-slate-100 ${b.email?"border-rose-400":"border-slate-700"}`,value:O.email,onChange:fe=>G(ke=>({...ke,email:fe.target.value})),onBlur:()=>w({email:Ka(O.email).error??void 0}),placeholder:"user@example.com"})}),s.jsx(re,{label:"Username",tooltip:"Voliteln username pro pihlen.",hint:"Kdy je przdn, pouije se email.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:O.userName,onChange:fe=>G(ke=>({...ke,userName:fe.target.value})),placeholder:"username"})}),s.jsx(re,{label:"Phone",tooltip:"Voliteln telefonn slo.",hint:"Pouij E.164 formt.",children:s.jsx("input",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:O.phoneNumber,onChange:fe=>G(ke=>({...ke,phoneNumber:fe.target.value})),placeholder:"+420123456789"})}),s.jsxs("div",{className:"flex flex-col gap-2 text-sm text-slate-200",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:"2FA enabled"}),s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/40 px-3 py-2 text-sm text-slate-200",children:d.twoFactorEnabled?"Yes":"No"})]}),s.jsxs("div",{className:"flex flex-col gap-2 text-sm text-slate-200",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Recovery codes left"}),s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/40 px-3 py-2 text-sm text-slate-200",children:d.recoveryCodesLeft})]}),s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:O.emailConfirmed,onChange:fe=>G(ke=>({...ke,emailConfirmed:fe.target.checked}))}),"Email confirmed"]}),s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:O.isActive,onChange:fe=>G(ke=>({...ke,isActive:fe.target.checked}))}),"Account active"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 md:col-span-2",children:[s.jsx("button",{type:"button",onClick:qt,disabled:R,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:R?"Saving...":"Save details"}),!d.emailConfirmed&&s.jsx("button",{type:"button",onClick:En,disabled:me,className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-200 hover:bg-slate-900 disabled:opacity-60",children:me?"Sending...":"Resend activation"}),s.jsx(Ps,{tooltip:"Aktivan email obsahuje token pro potvrzen adresy."})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Je,{message:C,diagnostics:z}),s.jsx(Je,{message:M,diagnostics:Ke})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Roles"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Assign identity roles for access. Roles map to permissions."})]}),s.jsx("button",{type:"button",onClick:oe,disabled:ie,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:ie?"Saving...":"Save roles"})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-400",children:[s.jsx(Ps,{tooltip:"Role != permission. Role mapuje sadu permission, kter se propisuj do claimu permission."}),"Permissions are derived from role mappings."]}),s.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:f.map(fe=>s.jsxs("label",{className:"flex items-center gap-3 rounded-md border border-slate-800 bg-slate-950/40 p-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-indigo-400",checked:g.has(fe.name),onChange:()=>X(fe.name)}),fe.name]},fe.id))}),s.jsx("div",{className:"mt-4",children:s.jsx(Je,{message:T,diagnostics:ue})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Account status"}),s.jsx(Ps,{tooltip:"Lockout blokuje pihlen a do odemen."})]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Lock or unlock this user."}),s.jsx("button",{type:"button",onClick:ls,disabled:o?.userId===d.id&&!d.isLockedOut,className:`mt-4 rounded-md px-4 py-2 text-sm font-semibold ${d.isLockedOut?"bg-emerald-500 text-white hover:bg-emerald-400":"bg-rose-500 text-white hover:bg-rose-400"} disabled:cursor-not-allowed disabled:opacity-60`,children:d.isLockedOut?"Unlock user":"Lock user"}),o?.userId===d.id&&!d.isLockedOut&&s.jsx("p",{className:"mt-2 text-xs text-rose-300",children:"You cannot lock your own account."}),s.jsx(Je,{message:I,diagnostics:Z})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Reset password"}),s.jsx(Ps,{tooltip:"Vygeneruje nov heslo. Uivatel by ho ml zmnit pi dalm pihlen."})]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Set a new password for this user."}),s.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[s.jsx("input",{type:"password",className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:S,onChange:fe=>N(fe.target.value),placeholder:"New password"}),E&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-xs text-rose-300",children:E}),s.jsx(Ot,{traceId:Re?.traceId,errorId:Re?.errorId,debug:Re?.debug,compact:!0})]}),s.jsx("button",{type:"button",onClick:Mt,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400",children:"Reset password"})]})]})]}),s.jsxs("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-rose-100",children:"Deactivate user"}),s.jsx("p",{className:"text-sm text-rose-200/70",children:"Deactivated users cannot log in until reactivated."}),s.jsx("button",{type:"button",onClick:()=>je(!0),className:"mt-4 rounded-md bg-rose-500 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-400",children:"Deactivate user"})]}),s.jsx(qs,{title:"Deactivate user?",description:"This will disable sign-in for the user until reactivated.",confirmLabel:"Deactivate",isOpen:we,onCancel:()=>je(!1),onConfirm:Nr})]}):s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"User not found."}):null}function Eg(){const[r,i]=u.useState(""),[o,d]=u.useState(""),[m,f]=u.useState(""),[h,g]=u.useState(""),[x,S]=u.useState(""),[N,b]=u.useState(""),[w,C]=u.useState(null),[A,T]=u.useState(null),[j,I]=u.useState(void 0),[v,E]=u.useState(1),[D,M]=u.useState(10),[B,z]=u.useState(null),[H,ue]=u.useState(!1);u.useEffect(()=>{const Z=bn(x,N);if(C(Z),Z)return;let ye=!0;return(async()=>{ue(!0);const Ee=new URLSearchParams;r.trim()&&Ee.set("search",r.trim()),o.trim()&&Ee.set("action",o.trim()),m.trim()&&Ee.set("targetType",m.trim()),h.trim()&&Ee.set("targetId",h.trim()),x&&Ee.set("fromUtc",new Date(x).toISOString()),N&&Ee.set("toUtc",new Date(N).toISOString()),Ee.set("page",String(v)),Ee.set("pageSize",String(D));try{const Ke=await J(`/admin/api/audit?${Ee.toString()}`,{suppressToast:!0});ye&&z(Ke),ye&&(T(null),I(void 0))}catch(Ke){if(Ke instanceof Ne){const Te=qe(Ke);ye&&(T(Te.generalError??"Unable to load audit entries."),I(Te.diagnostics))}else ye&&(T("Unable to load audit entries."),I(void 0))}finally{ye&&ue(!1)}})(),()=>{ye=!1}},[o,x,v,D,r,h,m,N]);const Y=B?Math.max(1,Math.ceil(B.totalCount/B.pageSize)):1;return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Audit log"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Review admin actions captured by the server."})]}),s.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4 md:grid-cols-2",children:[s.jsx(re,{label:"Search",tooltip:"Hled v action, target type a target id.",hint:"Pouij voln text pro rychl filtrovn.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Search action, target, or ID",value:r,onChange:Z=>{i(Z.target.value),E(1)}})}),s.jsx(re,{label:"Action",tooltip:"Filtrovat podle action kle (nap. client.updated).",hint:"Pouij pesn prefix.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"client.updated",value:o,onChange:Z=>{d(Z.target.value),E(1)}})}),s.jsx(re,{label:"Target type",tooltip:"Typ entity (nap. User, Permission, ApiEndpoint).",hint:"Voliteln.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"Permission",value:m,onChange:Z=>{f(Z.target.value),E(1)}})}),s.jsx(re,{label:"Target ID",tooltip:"ID clovho objektu.",hint:"Voliteln.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:"GUID / ID",value:h,onChange:Z=>{g(Z.target.value),E(1)}})}),s.jsx(re,{label:"From (local time)",tooltip:"Audit log ukld as v UTC. Zadan as je lokln a pevede se na UTC.",hint:"Voliteln.",error:w,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:x,onChange:Z=>{S(Z.target.value),E(1)},onBlur:()=>C(bn(x,N))})}),s.jsx(re,{label:"To (local time)",tooltip:"Audit log ukld as v UTC. Zadan as je lokln a pevede se na UTC.",hint:"Voliteln.",error:w,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:N,onChange:Z=>{b(Z.target.value),E(1)},onBlur:()=>C(bn(x,N))})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Page size"}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:D,onChange:Z=>{M(Number(Z.target.value)),E(1)},children:[10,20,30].map(Z=>s.jsxs("option",{value:Z,children:[Z," / page"]},Z))})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Je,{message:A,diagnostics:j})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Timestamp"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Action"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Target"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Actor"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Details"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[H&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"Loading audit entries..."})}),!H&&B?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-400",children:"No audit entries found."})}),B?.items.map(Z=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 text-slate-300",children:new Date(Z.timestampUtc).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 font-medium",children:Z.action}),s.jsxs("td",{className:"px-4 py-3 text-slate-300",children:[Z.targetType,Z.targetId?` (${Z.targetId})`:""]}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:Z.actorEmail??Z.actorUserId??"System"}),s.jsx("td",{className:"px-4 py-3 text-slate-400",children:Z.dataJson?s.jsx("code",{className:"rounded bg-slate-900 px-2 py-1 text-xs text-slate-200",children:Z.dataJson}):"-"})]},Z.id))]})]})}),B&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",B.page," of ",Y,"  ",B.totalCount," entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>E(Z=>Math.max(1,Z-1)),disabled:B.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>E(Z=>Math.min(Y,Z+1)),disabled:B.page>=Y,children:"Next"})]})]})]})}function Pg(){const[r,i]=u.useState(""),[o,d]=u.useState(""),[m,f]=u.useState(""),[h,g]=u.useState(""),[x,S]=u.useState(null),[N,b]=u.useState(null),[w,C]=u.useState(void 0),[A,T]=u.useState(1),[j,I]=u.useState(10),[v,E]=u.useState(null),[D,M]=u.useState(!1);u.useEffect(()=>{const z=bn(m,h);if(S(z),z)return;let H=!0;return(async()=>{M(!0);const Y=new URLSearchParams;r.trim()&&Y.set("traceId",r.trim()),o.trim()&&Y.set("status",o.trim()),m&&Y.set("fromUtc",new Date(m).toISOString()),h&&Y.set("toUtc",new Date(h).toISOString()),Y.set("page",String(A)),Y.set("pageSize",String(j));try{const Z=await J(`/admin/api/diagnostics/errors?${Y.toString()}`,{suppressToast:!0});H&&(E(Z),b(null),C(void 0))}catch(Z){if(Z instanceof Ne){const ye=qe(Z);H&&(b(ye.generalError??"Unable to load error logs."),C(ye.diagnostics))}else H&&(b("Unable to load error logs."),C(void 0))}finally{H&&M(!1)}})(),()=>{H=!1}},[m,A,j,o,r,h]);const B=v?Math.max(1,Math.ceil(v.totalCount/v.pageSize)):1;return s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Diagnostics  Errors"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Review server-side error logs captured for 5xx responses."})]}),s.jsxs("div",{className:"grid gap-3 rounded-lg border border-slate-800 bg-slate-900/40 p-4 md:grid-cols-2",children:[s.jsx(re,{label:"Trace ID",hint:"Filter by correlation/trace identifier.",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",placeholder:"trace-id",value:r,onChange:z=>{i(z.target.value),T(1)}})}),s.jsx(re,{label:"Status code",hint:"Filter by HTTP status (e.g. 500).",children:s.jsx("input",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",placeholder:"500",value:o,onChange:z=>{d(z.target.value),T(1)}})}),s.jsx(re,{label:"From (local time)",hint:"Optional range filter.",error:x,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:m,onChange:z=>{f(z.target.value),T(1)},onBlur:()=>S(bn(m,h))})}),s.jsx(re,{label:"To (local time)",hint:"Optional range filter.",error:x,children:s.jsx("input",{type:"datetime-local",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:h,onChange:z=>{g(z.target.value),T(1)},onBlur:()=>S(bn(m,h))})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Page size"}),s.jsx("select",{className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:j,onChange:z=>{I(Number(z.target.value)),T(1)},children:[10,20,30].map(z=>s.jsxs("option",{value:z,children:[z," / page"]},z))})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(Je,{message:N,diagnostics:w})})]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-900 text-slate-300",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Timestamp"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Path"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Trace"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Actor"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Details"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-950/40",children:[D&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"Loading error logs..."})}),!D&&v?.items.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-400",children:"No error logs found."})}),v?.items.map(z=>s.jsxs("tr",{className:"text-slate-100",children:[s.jsx("td",{className:"px-4 py-3 text-slate-300",children:new Date(z.timestampUtc).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 font-medium",children:z.statusCode}),s.jsxs("td",{className:"px-4 py-3 text-slate-300",children:[s.jsx("div",{className:"font-medium text-slate-200",children:z.method}),s.jsx("div",{className:"text-xs text-slate-400",children:z.path})]}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:s.jsx("div",{className:"text-xs",children:z.traceId})}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:z.actorEmail??z.actorUserId??"System"}),s.jsx("td",{className:"px-4 py-3 text-slate-300",children:s.jsx(ve,{className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",to:he(`/diagnostics/errors/${z.id}`),children:"View details"})})]},z.id))]})]})}),v&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[s.jsxs("span",{children:["Page ",v.page," of ",B,"  ",v.totalCount," entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>T(z=>Math.max(1,z-1)),disabled:v.page<=1,children:"Previous"}),s.jsx("button",{className:"rounded-md border border-slate-700 px-3 py-1 text-slate-200 disabled:opacity-40",onClick:()=>T(z=>Math.min(B,z+1)),disabled:v.page>=B,children:"Next"})]})]})]})}function Rg(){const{id:r}=ns(),[i,o]=u.useState(null),[d,m]=u.useState(!0),[f,h]=u.useState(null),[g,x]=u.useState(void 0),[S,N]=u.useState(!1);return u.useEffect(()=>{if(!r)return;let b=!0;return(async()=>{m(!0);try{const C=await J(`/admin/api/diagnostics/errors/${r}`,{suppressToast:!0});b&&(o(C),h(null),x(void 0))}catch(C){if(C instanceof Ne){const A=qe(C);b&&(h(A.generalError??"Unable to load error details."),x(A.diagnostics))}else b&&(h("Unable to load error details."),x(void 0))}finally{b&&m(!1)}})(),()=>{b=!1}},[r]),r?d?s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Loading error log..."}):i?s.jsxs("section",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Error details"}),s.jsxs("p",{className:"text-sm text-slate-300",children:[i.method," ",i.path,"  ",i.statusCode]})]}),s.jsx(ve,{className:"text-sm font-semibold text-indigo-300 hover:text-indigo-200",to:he("/diagnostics/errors"),children:"Back to list"})]}),s.jsx(Je,{message:f,diagnostics:g}),s.jsxs("div",{className:"grid gap-4 rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-sm text-slate-200",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Timestamp"}),s.jsx("div",{className:"mt-1 text-slate-100",children:new Date(i.timestampUtc).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Actor"}),s.jsx("div",{className:"mt-1 text-slate-100",children:i.actorEmail??i.actorUserId??"System"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Trace ID"}),s.jsx("div",{className:"mt-1 text-slate-100",children:i.traceId})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Error ID"}),s.jsx("div",{className:"mt-1 text-slate-100",children:i.id})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Summary"}),s.jsxs("div",{className:"mt-2 rounded-md border border-slate-800 bg-slate-950/60 p-3 text-slate-100",children:[s.jsx("div",{className:"font-semibold",children:i.title}),s.jsx("div",{className:"mt-1 text-slate-300",children:i.detail})]})]}),s.jsx(Ot,{traceId:i.traceId,errorId:i.id,debug:{exceptionType:i.exceptionType??void 0,stackTrace:i.stackTrace??void 0,innerExceptionSummary:i.innerException??void 0,path:i.path,method:i.method}}),i.stackTrace?s.jsx("div",{children:s.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",onClick:async()=>{await navigator.clipboard.writeText(i.stackTrace??""),N(!0),setTimeout(()=>N(!1),2e3)},children:S?"Copied":"Copy stack trace"})}):null,i.userAgent&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"User agent"}),s.jsx("div",{className:"mt-1 text-slate-100",children:i.userAgent})]}),i.remoteIp&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Remote IP"}),s.jsx("div",{className:"mt-1 text-slate-100",children:i.remoteIp})]}),i.dataJson&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Data"}),s.jsx("pre",{className:"mt-2 max-h-64 overflow-auto rounded-md bg-slate-950/60 p-3 text-xs text-slate-200",children:i.dataJson})]})]})]}):s.jsx("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 p-6 text-slate-300",children:"Error log not found."}):null}const Tg={Active:"bg-emerald-500/20 text-emerald-200",Previous:"bg-indigo-500/20 text-indigo-200",Retired:"bg-slate-700/40 text-slate-200",Revoked:"bg-rose-500/20 text-rose-200"},Cs=r=>r?new Date(r).toLocaleString():"";function Ig(){const[r,i]=u.useState(null),[o,d]=u.useState(!0),[m,f]=u.useState(!1),[h,g]=u.useState(!1),[x,S]=u.useState(null),[N,b]=u.useState(null),[w,C]=u.useState(!1),A=async()=>{d(!0);const z=await J("/admin/api/security/keys/signing");i(z),d(!1)},T=async()=>{C(!0);try{const z=await J("/admin/api/security/keys/signing/jwks");b(z.jwksJson)}finally{C(!1)}};u.useEffect(()=>{A(),T()},[]);const j=r?.keys.filter(z=>z.isPublished)??[],I=r?.keys.find(z=>z.status==="Active"),v=I?.notAfterUtc?new Date(I.notAfterUtc):null,E=v&&v.getTime()-Date.now()<1e3*60*60*24*30,D=async()=>{f(!0);try{const z=await J("/admin/api/security/keys/signing/rotate",{method:"POST"});ge({tone:"success",message:`Signing key rotated. Active kid: ${z.newActiveKid}.`}),await A()}finally{f(!1),g(!1)}},M=async z=>{f(!0);try{await J(`/admin/api/security/keys/signing/${z}/retire`,{method:"POST"}),ge({tone:"success",message:"Signing key retired."}),await A()}finally{f(!1),S(null)}},B=async z=>{f(!0);try{await J(`/admin/api/security/keys/signing/${z}/revoke`,{method:"POST"}),ge({tone:"warning",message:"Signing key revoked."}),await A()}finally{f(!1),S(null)}};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Signing Keys"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Manage the signing key ring used for token issuance and JWKS publication."})]}),s.jsx("button",{type:"button",onClick:()=>g(!0),className:"rounded-md bg-rose-500 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-400 disabled:opacity-60",disabled:o||m,children:"Rotate now"})]}),r&&!r.rotationEnabled&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:"Automatic rotation is disabled. Ensure manual rotations are scheduled."}),r&&j.length<=1&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:"Only one signing key is currently published in JWKS. Add a previous key during rotations to avoid validation gaps."}),r&&E&&s.jsx("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-200",children:"The active signing key expires within 30 days. Rotate keys or update certificates."}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Current key ring"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Active keys sign new tokens. Previous keys remain published for validation."}),s.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-800 text-sm",children:[s.jsx("thead",{className:"bg-slate-950",children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-slate-500",children:[s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Status"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Key ID"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Created"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Activated"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Retire after"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Retired"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Revoked"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Algorithm"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Published"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 text-slate-200",children:[o&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:10,children:"Loading signing keys"})}),!o&&r?.keys.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:10,children:"No signing keys found."})}),r?.keys.map(z=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${Tg[z.status]??"bg-slate-700/40 text-slate-200"}`,children:z.status})}),s.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-300",children:z.kid}),s.jsx("td",{className:"px-4 py-3",children:Cs(z.createdUtc)}),s.jsx("td",{className:"px-4 py-3",children:Cs(z.activatedUtc)}),s.jsx("td",{className:"px-4 py-3",children:Cs(z.retireAfterUtc)}),s.jsx("td",{className:"px-4 py-3",children:Cs(z.retiredUtc)}),s.jsx("td",{className:"px-4 py-3",children:Cs(z.revokedUtc)}),s.jsxs("td",{className:"px-4 py-3",children:[z.algorithm,"  ",z.keyType]}),s.jsx("td",{className:"px-4 py-3",children:z.isPublished?"Yes":"No"}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-2 py-1 text-xs text-slate-200 hover:border-slate-500 disabled:opacity-50",disabled:m||z.status!=="Previous",onClick:()=>S({type:"retire",key:z}),children:"Retire"}),s.jsx("button",{type:"button",className:"rounded-md border border-rose-500/60 px-2 py-1 text-xs text-rose-200 hover:border-rose-400 disabled:opacity-50",disabled:m||z.status==="Revoked"||z.status==="Retired",onClick:()=>S({type:"revoke",key:z}),children:"Revoke"})]})})]},z.kid))]})]})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Auto-rotation status"}),s.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Enabled"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?r.rotationEnabled?"Yes":"No":""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Next rotation due"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?.nextRotationDueUtc?Cs(r.nextRotationDueUtc):"Not scheduled"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Last rotation"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?.lastRotationUtc?Cs(r.lastRotationUtc):""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Grace period"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?`${r.gracePeriodDays} days`:""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Rotation interval"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?`${r.rotationIntervalDays} days`:""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Check period"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?`${r.checkPeriodMinutes} minutes`:""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Next rotation check"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?.nextRotationCheckUtc?Cs(r.nextRotationCheckUtc):""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4 md:col-span-3",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"JWKS exposure"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:"Active + previous keys are published for validation."})]})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"JWKS preview"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Public keys currently exposed via the JWKS endpoint."})]}),s.jsx("button",{type:"button",onClick:T,disabled:w,className:"rounded-md border border-slate-700 px-3 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 disabled:opacity-60",children:"Refresh JWKS"})]}),s.jsx("pre",{className:"mt-4 max-h-80 overflow-auto rounded-lg border border-slate-800 bg-slate-950 p-4 text-xs text-slate-200",children:w?"Loading JWKS":N??"JWKS not available."})]}),s.jsx(qs,{title:"Rotate signing keys?",description:"A new active key will be generated and the previous key will remain published until it ages out. Existing tokens stay valid until expiry.",confirmLabel:"Rotate",isOpen:h,confirmDisabled:m,onCancel:()=>g(!1),onConfirm:D}),s.jsx(qs,{title:x?.type==="revoke"?"Revoke signing key?":"Retire signing key?",description:x?.type==="revoke"?"Revoking a key immediately removes it from JWKS and invalidates tokens signed with it.":"Retiring a previous key stops publishing it in JWKS.",confirmLabel:x?.type==="revoke"?"Revoke":"Retire",isOpen:!!x,confirmDisabled:m,onCancel:()=>S(null),onConfirm:()=>{if(!x?.key){S(null);return}if(x.type==="revoke"){B(x.key.kid);return}M(x.key.kid)}})]})}const Dg={accessTokenMinutes:30,identityTokenMinutes:15,authorizationCodeMinutes:5,refreshTokenDays:30,refreshRotationEnabled:!0,refreshReuseDetectionEnabled:!0,refreshReuseLeewaySeconds:30,clockSkewSeconds:60};function Lg(){const[r,i]=u.useState(Dg),[o,d]=u.useState(null),[m,f]=u.useState(!0),[h,g]=u.useState(!1),[x,S]=u.useState(null),[N,b]=u.useState(void 0),[w,C]=u.useState({});u.useEffect(()=>{(async()=>{f(!0);try{const I=await J("/admin/api/security/token-policy");i(I.policy),d(I.guardrails)}finally{f(!1)}})()},[]);const A=async()=>{g(!0),S(null),b(void 0),C({});try{const j=await J("/admin/api/security/token-policy",{method:"PUT",body:JSON.stringify(r),suppressToast:!0});i(j.policy),d(j.guardrails),ge({tone:"success",message:"Token policy updated."})}catch(j){const I=qe(j);S(I.generalError),b(I.diagnostics),C(I.fieldErrors??{}),j instanceof Ne||ge({tone:"error",message:"Failed to update token policy."})}finally{g(!1)}};if(m)return s.jsx("div",{className:"text-sm text-slate-400",children:"Loading token policy"});const T=o?`Guardrails: ${o.minAccessTokenMinutes}-${o.maxAccessTokenMinutes} min access tokens, ${o.minRefreshTokenDays}-${o.maxRefreshTokenDays} day refresh.`:void 0;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Token Policies"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Set global token lifetimes and refresh token safeguards for OpenID Connect flows."})]}),!r.refreshReuseDetectionEnabled&&s.jsx("div",{className:"rounded-lg border border-amber-500/40 bg-amber-500/10 p-4 text-sm text-amber-200",children:"Refresh token reuse detection is disabled. Enable it to detect replayed refresh tokens."}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Token lifetimes"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:T??"Adjust lifetimes with care."}),s.jsxs("div",{className:"mt-4 grid gap-4",children:[s.jsx(re,{label:"Access token (minutes)",tooltip:"Recommended 560 minutes. Shorter values reduce exposure for leaked tokens.",error:w?.accessTokenMinutes?.[0],children:s.jsx("input",{type:"number",min:1,value:r.accessTokenMinutes,onChange:j=>i(I=>({...I,accessTokenMinutes:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(re,{label:"ID token (minutes)",tooltip:"Keep short, usually aligned with access token lifetime.",error:w?.identityTokenMinutes?.[0],children:s.jsx("input",{type:"number",min:1,value:r.identityTokenMinutes,onChange:j=>i(I=>({...I,identityTokenMinutes:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(re,{label:"Authorization code (minutes)",tooltip:"Short lifetimes reduce replay risk for authorization codes.",error:w?.authorizationCodeMinutes?.[0],children:s.jsx("input",{type:"number",min:1,value:r.authorizationCodeMinutes,onChange:j=>i(I=>({...I,authorizationCodeMinutes:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(re,{label:"Refresh token lifetime (days)",tooltip:"Total lifetime for refresh tokens before re-authentication is required.",error:w?.refreshTokenDays?.[0],children:s.jsx("input",{type:"number",min:1,value:r.refreshTokenDays,onChange:j=>i(I=>({...I,refreshTokenDays:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(re,{label:"Clock skew (seconds)",tooltip:"Allowed clock drift when validating tokens.",error:w?.clockSkewSeconds?.[0],children:s.jsx("input",{type:"number",min:0,value:r.clockSkewSeconds,onChange:j=>i(I=>({...I,clockSkewSeconds:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Refresh token protection"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Rotation and reuse detection reduce the impact of stolen refresh tokens."}),s.jsxs("div",{className:"mt-4 grid gap-4",children:[s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:r.refreshRotationEnabled,onChange:j=>i(I=>({...I,refreshRotationEnabled:j.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-indigo-400"}),"Enable refresh token rotation"]}),s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:r.refreshReuseDetectionEnabled,onChange:j=>i(I=>({...I,refreshReuseDetectionEnabled:j.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-indigo-400"}),"Enable reuse detection"]}),s.jsx(re,{label:"Reuse leeway (seconds)",tooltip:"Allows short overlap during parallel refresh calls before marking a token as reused.",error:w?.refreshReuseLeewaySeconds?.[0],children:s.jsx("input",{type:"number",min:0,value:r.refreshReuseLeewaySeconds,onChange:j=>i(I=>({...I,refreshReuseLeewaySeconds:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]})]})]}),s.jsx(Je,{message:x,diagnostics:N}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:A,disabled:h,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:"Save policy"})})]})}const Ag={enabled:!0,rotationIntervalDays:30,gracePeriodDays:14,jwksCacheMarginMinutes:60,breakGlass:!1,reason:""};function Ug(){const[r,i]=u.useState(null),[o,d]=u.useState(Ag),[m,f]=u.useState(!0),[h,g]=u.useState(!1),[x,S]=u.useState(null),[N,b]=u.useState(void 0),[w,C]=u.useState({});u.useEffect(()=>{(async()=>{f(!0);try{const I=await J("/admin/api/security/key-rotation-policy");i(I),d({enabled:I.policy.enabled,rotationIntervalDays:I.policy.rotationIntervalDays,gracePeriodDays:I.policy.gracePeriodDays,jwksCacheMarginMinutes:I.policy.jwksCacheMarginMinutes,breakGlass:!1,reason:""})}finally{f(!1)}})()},[]);const A=async()=>{g(!0),S(null),b(void 0),C({});try{const j=await J("/admin/api/security/key-rotation-policy",{method:"PUT",body:JSON.stringify(o),suppressToast:!0});i(j),d(I=>({...I,breakGlass:!1,reason:""})),ge({tone:"success",message:"Key rotation policy updated."})}catch(j){const I=qe(j);S(I.generalError),b(I.diagnostics),C(I.fieldErrors??{}),j instanceof Ne||ge({tone:"error",message:"Failed to update key rotation policy."})}finally{g(!1)}};if(m)return s.jsx("div",{className:"text-sm text-slate-400",children:"Loading key rotation policy"});const T=r?.guardrails;return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Rotation Policy"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Control automatic signing key rotation schedule and grace period."})]}),!o.enabled&&s.jsx("div",{className:"rounded-lg border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-200",children:"Rotation is disabled. Only use break-glass mode when necessary."}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(re,{label:"Rotation interval (days)",tooltip:T?`Guardrails: ${T.minRotationIntervalDays}${T.maxRotationIntervalDays} days.`:"Rotation cadence in days.",error:w?.rotationIntervalDays?.[0],children:s.jsx("input",{type:"number",min:1,value:o.rotationIntervalDays,onChange:j=>d(I=>({...I,rotationIntervalDays:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(re,{label:"Grace period (days)",tooltip:T?`Guardrails: ${T.minGracePeriodDays}${T.maxGracePeriodDays} days.`:"How long previous keys remain published.",error:w?.gracePeriodDays?.[0],children:s.jsx("input",{type:"number",min:0,value:o.gracePeriodDays,onChange:j=>d(I=>({...I,gracePeriodDays:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(re,{label:"JWKS cache margin (minutes)",tooltip:T?`Guardrails: ${T.minJwksCacheMarginMinutes}${T.maxJwksCacheMarginMinutes} minutes.`:"Extra time added to the safe rollover window for JWKS caches.",error:w?.jwksCacheMarginMinutes?.[0],children:s.jsx("input",{type:"number",min:0,value:o.jwksCacheMarginMinutes,onChange:j=>d(I=>({...I,jwksCacheMarginMinutes:Number(j.target.value)})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]}),s.jsxs("label",{className:"mt-4 flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:o.enabled,onChange:j=>d(I=>({...I,enabled:j.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-indigo-400"}),"Enable automatic rotation"]}),!o.enabled&&s.jsxs("div",{className:"mt-4 grid gap-4",children:[s.jsxs("label",{className:"flex items-center gap-3 text-sm text-slate-200",children:[s.jsx("input",{type:"checkbox",checked:o.breakGlass,onChange:j=>d(I=>({...I,breakGlass:j.target.checked})),className:"h-4 w-4 rounded border-slate-700 bg-slate-950 text-rose-400"}),"Break-glass confirmation"]}),s.jsx(re,{label:"Reason",tooltip:"Provide a reason when disabling rotation in production.",error:w?.reason?.[0],children:s.jsx("input",{type:"text",value:o.reason??"",onChange:j=>d(I=>({...I,reason:j.target.value})),className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]})]}),s.jsx(Je,{message:x,diagnostics:N}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:A,disabled:h,className:"rounded-md bg-indigo-500 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-60",children:"Save policy"})})]})}const zg={low:"bg-slate-700/40 text-slate-200",medium:"bg-indigo-500/20 text-indigo-200",high:"bg-rose-500/20 text-rose-200",critical:"bg-rose-500/40 text-rose-100"},Gu=r=>r?new Date(r).toLocaleString():"";function _g(){const[r,i]=u.useState([]),[o,d]=u.useState(null),[m,f]=u.useState(!0),h=async()=>{f(!0);try{const x=await J("/admin/api/security/token-incidents?page=1&pageSize=50");i(x.items)}finally{f(!1)}},g=async x=>{const S=await J(`/admin/api/security/token-incidents/${x}`);d(S)};return u.useEffect(()=>{h()},[]),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Incidents"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Review security incidents such as refresh token reuse or key events."})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent incidents"}),s.jsx("div",{className:"mt-4 overflow-hidden rounded-lg border border-slate-800",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-800 text-sm",children:[s.jsx("thead",{className:"bg-slate-950",children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-slate-500",children:[s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Timestamp"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Severity"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Client"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800 text-slate-200",children:[m&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:4,children:"Loading incidents"})}),!m&&r.length===0&&s.jsx("tr",{children:s.jsx("td",{className:"px-4 py-4 text-sm text-slate-400",colSpan:4,children:"No incidents recorded."})}),r.map(x=>s.jsxs("tr",{className:"cursor-pointer hover:bg-slate-900/40",onClick:()=>g(x.id),children:[s.jsx("td",{className:"px-4 py-3",children:Gu(x.timestampUtc)}),s.jsx("td",{className:"px-4 py-3",children:x.type}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${zg[x.severity]??"bg-slate-700/40 text-slate-200"}`,children:x.severity})}),s.jsx("td",{className:"px-4 py-3",children:x.clientId??""})]},x.id))]})]})})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Incident detail"}),o?s.jsxs("div",{className:"mt-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Type"}),s.jsx("div",{children:o.type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Severity"}),s.jsx("div",{children:o.severity})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Timestamp"}),s.jsx("div",{children:Gu(o.timestampUtc)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Client"}),s.jsx("div",{children:o.clientId??""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"User"}),s.jsx("div",{children:o.userId??""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Trace"}),s.jsx("div",{children:o.traceId??""})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Detail"}),s.jsx("pre",{className:"mt-2 max-h-64 overflow-auto rounded-md border border-slate-800 bg-slate-950 p-3 text-xs text-slate-200",children:o.detailJson??"{}"})]})]}):s.jsx("p",{className:"mt-4 text-sm text-slate-400",children:"Select an incident to view details."})]})]})]})}function Og(){const[r,i]=u.useState(""),[o,d]=u.useState(""),[m,f]=u.useState(null),[h,g]=u.useState(null),[x,S]=u.useState(void 0),[N,b]=u.useState({}),w=async j=>{g(null),S(void 0),b({});try{const I=await J(j,{method:"POST",suppressToast:!0});f(I),ge({tone:"success",message:"Revocation executed."})}catch(I){const v=qe(I);g(v.generalError),S(v.diagnostics),b(v.fieldErrors??{}),I instanceof Ne||ge({tone:"error",message:"Failed to revoke grants."})}},C=async()=>{await w(`/admin/api/security/revoke/user/${r}`)},A=async()=>{await w(`/admin/api/security/revoke/client/${o}`)},T=async()=>{await w(`/admin/api/security/revoke/user/${r}/client/${o}`)};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Revocation"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Revoke tokens and authorizations by user, client, or both."})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(re,{label:"User ID",error:N?.userId?.[0],children:s.jsx("input",{type:"text",value:r,onChange:j=>i(j.target.value),placeholder:"GUID",className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})}),s.jsx(re,{label:"Client ID",error:N?.clientId?.[0],children:s.jsx("input",{type:"text",value:o,onChange:j=>d(j.target.value),placeholder:"client-id",className:"rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-white"})})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[s.jsx("button",{type:"button",onClick:C,disabled:!r,className:"rounded-md border border-slate-700 px-3 py-2 text-sm text-slate-200 hover:border-slate-500 disabled:opacity-50",children:"Revoke user grants"}),s.jsx("button",{type:"button",onClick:A,disabled:!o,className:"rounded-md border border-slate-700 px-3 py-2 text-sm text-slate-200 hover:border-slate-500 disabled:opacity-50",children:"Revoke client grants"}),s.jsx("button",{type:"button",onClick:T,disabled:!r||!o,className:"rounded-md border border-rose-500/70 px-3 py-2 text-sm text-rose-200 hover:border-rose-400 disabled:opacity-50",children:"Revoke user + client"})]}),m&&s.jsxs("div",{className:"mt-4 rounded-md border border-slate-800 bg-slate-950/70 p-4 text-sm text-slate-200",children:["Revoked ",m.tokensRevoked," tokens and ",m.authorizationsRevoked," authorizations."]})]}),s.jsx(Je,{message:h,diagnostics:x})]})}const za=r=>r?new Date(r).toLocaleString():"";function Mg(){const[r,i]=u.useState(null),[o,d]=u.useState(null),[m,f]=u.useState(!0);return u.useEffect(()=>{(async()=>{f(!0);try{const g=await J("/admin/api/security/dataprotection/status");i(g);const x=await J("/admin/api/security/encryption/status");d(x)}finally{f(!1)}})()},[]),m?s.jsx("div",{className:"text-sm text-slate-400",children:"Loading DataProtection status"}):s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Data Protection"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Monitor ASP.NET Core DataProtection key storage and read-only mode."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Persisted"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?.keysPersisted?"Yes":"No"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Read-only"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?.readOnly?"Yes":"No"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Key count"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?.keyCount??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4 md:col-span-2",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Key path"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:r?.keyPath||"Default platform storage"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Latest activation"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:za(r?.latestKeyActivationUtc)})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Latest expiration"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:za(r?.latestKeyExpirationUtc)})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-5",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Encryption key status"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"OpenIddict encryption certificate metadata (no private material shown)."}),s.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Enabled"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:o?.enabled?"Yes":"No"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Source"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:o?.source??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Thumbprint"}),s.jsx("div",{className:"mt-2 break-all text-sm text-slate-200",children:o?.thumbprint??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4 md:col-span-2",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Subject"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:o?.subject??""})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Not before"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:za(o?.notBeforeUtc)})]}),s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/80 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Not after"}),s.jsx("div",{className:"mt-2 text-sm text-slate-200",children:za(o?.notAfterUtc)})]})]})]})]})}const Fg={id:"",enabled:!0,deactivateAfterDays:90,deleteAfterDays:365,hardDeleteAfterDays:null,hardDeleteEnabled:!1,warnBeforeLogoutMinutes:5,idleLogoutMinutes:30,updatedUtc:new Date().toISOString()};function $g(){const[r,i]=u.useState(Fg),[o,d]=u.useState(null),[m,f]=u.useState(90),[h,g]=u.useState(""),[x,S]=u.useState(null);u.useEffect(()=>{J("/admin/api/security/user-lifecycle-policy").then(i).catch(C=>{if(C instanceof Ne&&C.status===403){S("Insufficient permissions to manage user lifecycle policy.");return}throw C})},[]);const N=async()=>{const C=await J("/admin/api/security/user-lifecycle-policy",{method:"PUT",body:JSON.stringify(r)});i(C),ge({tone:"success",message:"User lifecycle policy updated."})},b=async C=>{if(!h)return;await J(`/admin/api/security/users/${h}/${C}${C==="hard-delete"?"?confirm=true":""}`,{method:"POST"}),ge({tone:"success",message:`User ${C} executed.`})},w=async()=>{const C=await J(`/admin/api/security/user-lifecycle/preview?days=${m}`);d(C)};return x?s.jsx("div",{className:"rounded-xl border border-rose-800 bg-rose-950/30 px-4 py-3 text-sm text-rose-200",children:x}):s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"User Lifecycle"}),s.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Manage inactivity deactivation, anonymization, and optional hard delete."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("label",{className:"text-sm text-slate-300",children:["Deactivate after days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.deactivateAfterDays,onChange:C=>i(A=>({...A,deactivateAfterDays:Number(C.target.value)}))})]}),s.jsxs("label",{className:"text-sm text-slate-300",children:["Anonymize after days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.deleteAfterDays,onChange:C=>i(A=>({...A,deleteAfterDays:Number(C.target.value)}))})]}),s.jsxs("label",{className:"text-sm text-slate-300",children:["Hard delete enabled",s.jsx("input",{type:"checkbox",className:"ml-3",checked:r.hardDeleteEnabled,onChange:C=>i(A=>({...A,hardDeleteEnabled:C.target.checked}))})]}),s.jsxs("label",{className:"text-sm text-slate-300",children:["Hard delete after days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.hardDeleteAfterDays??0,onChange:C=>i(A=>({...A,hardDeleteAfterDays:Number(C.target.value)}))})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"rounded bg-indigo-600 px-4 py-2 text-sm",onClick:N,children:"Save policy"}),s.jsx("input",{type:"number",className:"w-28 rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm",value:m,onChange:C=>f(Number(C.target.value))}),s.jsx("button",{className:"rounded border border-slate-700 px-4 py-2 text-sm",onClick:w,children:"Preview"})]}),o?s.jsxs("div",{className:"rounded border border-slate-800 p-4 text-sm text-slate-300",children:["Would deactivate: ",o.wouldDeactivate,"  Would anonymize: ",o.wouldAnonymize,"  Would hard delete: ",o.wouldHardDelete]}):null,s.jsxs("div",{className:"rounded border border-slate-800 p-4",children:[s.jsx("h2",{className:"mb-3 text-sm font-semibold text-white",children:"Manual user lifecycle actions"}),s.jsx("input",{className:"mb-3 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm",placeholder:"User ID (GUID)",value:h,onChange:C=>g(C.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded border border-slate-700 px-3 py-2 text-sm",onClick:()=>b("deactivate"),children:"Deactivate"}),s.jsx("button",{className:"rounded border border-slate-700 px-3 py-2 text-sm",onClick:()=>b("anonymize"),children:"Anonymize"}),s.jsx("button",{className:"rounded border border-rose-500/50 px-3 py-2 text-sm text-rose-200",onClick:()=>b("hard-delete"),children:"Hard Delete"})]})]})]})}const Bg={id:"",enabled:!0,warningAfterDays:60,deactivateAfterDays:90,deleteAfterDays:365,warningRepeatDays:14,deleteMode:0,protectAdmins:!0,protectedRoles:"Admin",updatedUtc:new Date().toISOString()};function Vg(){const[r,i]=u.useState(Bg),[o,d]=u.useState(null);u.useEffect(()=>{J("/admin/api/security/inactivity-policy").then(i).catch(f=>{if(f instanceof Ne&&f.status===403){d("Insufficient permissions to manage inactivity policy.");return}throw f})},[]);const m=async()=>{const f=await J("/admin/api/security/inactivity-policy",{method:"PUT",body:JSON.stringify(r)});i(f),ge({tone:"success",message:"Inactivity policy updated."})};return o?s.jsx("div",{className:"rounded-xl border border-rose-800 bg-rose-950/30 px-4 py-3 text-sm text-rose-200",children:o}):s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Inactivity Policy"}),s.jsxs("label",{className:"text-sm",children:["Warning after days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.warningAfterDays,onChange:f=>i(h=>({...h,warningAfterDays:Number(f.target.value)}))})]}),s.jsxs("label",{className:"text-sm",children:["Deactivate after days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.deactivateAfterDays,onChange:f=>i(h=>({...h,deactivateAfterDays:Number(f.target.value)}))})]}),s.jsxs("label",{className:"text-sm",children:["Delete after days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.deleteAfterDays,onChange:f=>i(h=>({...h,deleteAfterDays:Number(f.target.value)}))})]}),s.jsxs("label",{className:"text-sm",children:["Warning repeat days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.warningRepeatDays??0,onChange:f=>i(h=>({...h,warningRepeatDays:Number(f.target.value)}))})]}),s.jsxs("label",{className:"text-sm",children:["Protected roles (comma separated)",s.jsx("input",{type:"text",className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.protectedRoles,onChange:f=>i(h=>({...h,protectedRoles:f.target.value}))})]}),s.jsxs("label",{className:"text-sm",children:["Delete mode",s.jsxs("select",{className:"mt-1 w-full rounded border border-slate-700 bg-slate-950 px-3 py-2",value:r.deleteMode,onChange:f=>i(h=>({...h,deleteMode:Number(f.target.value)})),children:[s.jsx("option",{value:0,children:"Anonymize"}),s.jsx("option",{value:1,children:"HardDelete"})]})]}),s.jsx("button",{className:"rounded bg-indigo-600 px-4 py-2 text-sm",onClick:m,children:"Save"})]})}function Kg(){const[r,i]=u.useState({items:[],totalCount:0,page:1,pageSize:25}),o=async()=>{const f=await J("/admin/api/diagnostics/email-outbox?page=1&pageSize=50");i(f)};u.useEffect(()=>{o()},[]);const d=async f=>{await J(`/admin/api/diagnostics/email-outbox/${f}/retry`,{method:"POST"}),ge({tone:"success",message:"Message queued for retry."}),await o()},m=async f=>{await J(`/admin/api/diagnostics/email-outbox/${f}/cancel`,{method:"POST"}),ge({tone:"success",message:"Message cancelled."}),await o()};return s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Email Outbox"}),s.jsxs("div",{className:"rounded border border-slate-800 p-4 text-sm text-slate-300",children:["Total: ",r.totalCount]}),s.jsx("div",{className:"overflow-auto rounded border border-slate-800",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-slate-400",children:[s.jsx("th",{className:"px-3 py-2",children:"Created"}),s.jsx("th",{className:"px-3 py-2",children:"Type"}),s.jsx("th",{className:"px-3 py-2",children:"To"}),s.jsx("th",{className:"px-3 py-2",children:"Status"}),s.jsx("th",{className:"px-3 py-2",children:"Attempts"}),s.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),s.jsx("tbody",{children:r.items.map(f=>s.jsxs("tr",{className:"border-t border-slate-900",children:[s.jsx("td",{className:"px-3 py-2",children:new Date(f.createdUtc).toLocaleString()}),s.jsx("td",{className:"px-3 py-2",children:f.type}),s.jsx("td",{className:"px-3 py-2",children:f.toEmail}),s.jsx("td",{className:"px-3 py-2",children:f.status}),s.jsxs("td",{className:"px-3 py-2",children:[f.attempts,"/",f.maxAttempts]}),s.jsxs("td",{className:"px-3 py-2 flex gap-2",children:[s.jsx("button",{className:"rounded border border-slate-700 px-2 py-1",onClick:()=>d(f.id),children:"Retry"}),s.jsx("button",{className:"rounded border border-rose-500/40 px-2 py-1 text-rose-200",onClick:()=>m(f.id),children:"Cancel"})]})]},f.id))})]})})]})}function Hg(){const{session:r}=Wt(),[i,o]=u.useState(null),[d,m]=u.useState([]),[f,h]=u.useState(null),g=u.useMemo(()=>Hs(["gdpr.read",$a],r?.permissions),[r?.permissions]),x=u.useMemo(()=>Hs(["gdpr.retention.manage"],r?.permissions),[r?.permissions]),S=u.useMemo(()=>Hs(["gdpr.erase"],r?.permissions),[r?.permissions]),N=async()=>{h(null);try{const[C,A]=await Promise.all([J("/admin/api/security/privacy-policy"),J("/admin/api/security/deletion-requests")]);o(C),m(A)}catch(C){if(C instanceof Ne&&C.status===403){h("You dont have permission to view GDPR administration data."),o(null),m([]);return}throw h("Unable to load GDPR administration data."),C}};u.useEffect(()=>{if(!Hs(Cm,r?.permissions)){h("You dont have permission to view GDPR administration data.");return}if(!g){h("Missing gdpr.read permission.");return}N()},[g,r?.permissions]);const b=async()=>{if(!i||!x)return;const C=await J("/admin/api/security/privacy-policy",{method:"PUT",body:JSON.stringify(i)});o(C)},w=async(C,A)=>{S&&(await J(`/admin/api/security/deletion-requests/${C}/${A}`,{method:"POST"}),await N())};return f?s.jsx("div",{className:"rounded-xl border border-rose-800 bg-rose-950/30 px-4 py-3 text-sm text-rose-200",children:f}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{className:"rounded-xl border border-slate-800 p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Privacy policy"}),i?s.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[s.jsxs("label",{className:"text-sm text-slate-300",children:["Login history days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-900 px-2 py-1",value:i.loginHistoryRetentionDays,onChange:C=>o({...i,loginHistoryRetentionDays:Number(C.target.value)}),disabled:!x})]}),s.jsxs("label",{className:"text-sm text-slate-300",children:["Error log days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-900 px-2 py-1",value:i.errorLogRetentionDays,onChange:C=>o({...i,errorLogRetentionDays:Number(C.target.value)}),disabled:!x})]}),s.jsxs("label",{className:"text-sm text-slate-300",children:["Audit log days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-900 px-2 py-1",value:i.auditLogRetentionDays,onChange:C=>o({...i,auditLogRetentionDays:Number(C.target.value)}),disabled:!x})]}),s.jsxs("label",{className:"text-sm text-slate-300",children:["Deletion cooldown days",s.jsx("input",{type:"number",className:"mt-1 w-full rounded border border-slate-700 bg-slate-900 px-2 py-1",value:i.deletionCooldownDays,onChange:C=>o({...i,deletionCooldownDays:Number(C.target.value)}),disabled:!x})]})]}):null,s.jsx("button",{onClick:()=>{b()},className:"mt-4 rounded bg-indigo-600 px-3 py-2 text-sm text-white disabled:cursor-not-allowed disabled:opacity-40",disabled:!x,children:"Save policy"})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Deletion requests"}),s.jsxs("table",{className:"mt-3 min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-slate-400",children:[s.jsx("th",{className:"px-2 py-1 text-left",children:"User"}),s.jsx("th",{className:"px-2 py-1 text-left",children:"Status"}),s.jsx("th",{className:"px-2 py-1 text-left",children:"Requested"}),s.jsx("th",{className:"px-2 py-1 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:d.map(C=>s.jsxs("tr",{className:"border-t border-slate-800",children:[s.jsx("td",{className:"px-2 py-1",children:C.email??C.userName}),s.jsx("td",{className:"px-2 py-1",children:C.status}),s.jsx("td",{className:"px-2 py-1",children:new Date(C.requestedUtc).toLocaleString()}),s.jsxs("td",{className:"px-2 py-1 space-x-2",children:[s.jsx("button",{className:"text-emerald-300 disabled:cursor-not-allowed disabled:opacity-40",disabled:!S,onClick:()=>{w(C.id,"approve")},children:"Approve"}),s.jsx("button",{className:"text-amber-300 disabled:cursor-not-allowed disabled:opacity-40",disabled:!S,onClick:()=>{w(C.id,"execute")},children:"Execute"}),s.jsx("button",{className:"text-rose-300 disabled:cursor-not-allowed disabled:opacity-40",disabled:!S,onClick:()=>{w(C.id,"cancel")},children:"Cancel"})]})]},C.id))})]})]})]})}const Wg="/account",qg=r=>!!r&&r.startsWith("/")&&!r.startsWith("//");function Qi({children:r}){const{status:i}=Wt(),o=gt();if(i==="loading")return s.jsx("div",{className:"py-10 text-sm text-slate-400",children:"Loading"});if(i==="authenticated"){const m=new URLSearchParams(o.search).get("returnUrl"),f=qg(m)?m:Wg;return s.jsx(Ks,{to:f,replace:!0})}return s.jsx(s.Fragment,{children:r})}const Gg=()=>{const{t:r}=De();return Ga({title:r("auth.metaTitle"),description:r("auth.metaDescription")}),s.jsxs("div",{className:"auth-space-bg relative min-h-screen overflow-hidden bg-slate-950 text-slate-100",children:[s.jsx("div",{className:"auth-space-stars","aria-hidden":"true"}),s.jsx("div",{className:"auth-space-stars auth-space-stars--slow","aria-hidden":"true"}),s.jsx("div",{className:"auth-space-glow","aria-hidden":"true"}),s.jsxs("main",{className:"relative z-10 mx-auto flex min-h-screen w-full max-w-6xl items-center justify-center px-4 py-10 sm:px-6","aria-labelledby":"auth-layout-title",children:[s.jsx("h1",{id:"auth-layout-title",className:"sr-only",children:r("auth.layoutTitle")}),s.jsx("section",{"aria-label":r("auth.layoutSection"),className:"w-full max-w-md",children:s.jsx(wr,{})})]})]})},io=({children:r})=>s.jsx("div",{className:"mx-auto w-full max-w-6xl px-6",children:r}),Jg=(r,i)=>r==="authenticated"&&!!i?.isAuthenticated,Qg=r=>(r.userName??r.email??"?").charAt(0).toUpperCase(),Yg=({className:r})=>s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,"aria-hidden":"true",children:s.jsx("path",{d:"m6 9 6 6 6-6"})});function Zg({session:r,onLogout:i}){const[o,d]=u.useState(!1),{t:m}=De(),[f,h]=u.useState(!1),g=u.useRef(null),x=u.useRef(null),S=u.useRef(null),N=gt(),b=yo(),w=u.useMemo(()=>{const T=r0.map(j=>({...j,Icon:j.icon}));return Em(r.permissions)&&T.push({key:"admin",labelKey:"common.admin",to:b,external:vo(b),Icon:Be.admin}),T.push({key:"logout",labelKey:"common.logout",action:i,danger:!0,Icon:Be.logout}),T},[b,i,r.permissions]);u.useEffect(()=>{if(!o)return;const T=I=>!g.current?.contains(I.target)&&d(!1),j=I=>{I.key==="Escape"&&(d(!1),S.current?.focus())};return document.addEventListener("mousedown",T),document.addEventListener("keydown",j),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("keydown",j)}},[o]);const C=T=>{if(T.key==="Tab"&&d(!1),T.key!=="ArrowDown"&&T.key!=="ArrowUp")return;T.preventDefault();const j=x.current?.querySelectorAll("[data-menu-item='true']");if(!j?.length)return;const I=Array.from(j).indexOf(document.activeElement),v=T.key==="ArrowDown"?(I+1+j.length)%j.length:(I-1+j.length)%j.length;j[v].focus()},A=async T=>{h(!0);try{await T(),d(!1)}finally{h(!1)}};return s.jsxs("div",{className:"relative",ref:g,children:[s.jsxs("button",{ref:S,type:"button",className:"flex max-w-[260px] items-center gap-2 rounded-full border border-slate-700 px-3 py-2 text-sm text-slate-100 transition hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":m("account.dropdown.aria"),"aria-haspopup":"menu","aria-expanded":o,onClick:()=>d(T=>!T),children:[s.jsx("span",{className:"inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-slate-800 text-xs font-semibold text-slate-200",children:Qg(r)}),s.jsx("span",{className:"truncate",children:r.userName??r.email??m("common.account")}),s.jsx(Yg,{className:"h-4 w-4 text-slate-400"})]}),o&&s.jsx("div",{ref:x,role:"menu",onKeyDown:C,className:"absolute right-0 z-30 mt-2 w-64 rounded-xl border border-slate-700 bg-slate-900 p-2 shadow-2xl",children:w.map(T=>{const j=T.Icon;if(T.action)return s.jsxs("button",{role:"menuitem","data-menu-item":"true",disabled:f,onClick:()=>A(T.action),className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm text-rose-200 transition hover:bg-rose-900/30 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx(j,{className:Ji}),m(f?"account.sessions.submitting":T.labelKey)]},T.key);if(T.external&&T.to)return s.jsxs("a",{role:"menuitem","data-menu-item":"true",href:T.to,onClick:()=>d(!1),className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-slate-100 transition hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx(j,{className:Ji}),m(T.labelKey)]},T.key);const I=T.to==="/account"?N.pathname==="/account":!!T.to&&N.pathname.startsWith(T.to);return s.jsxs(ve,{to:T.to??"#",role:"menuitem","data-menu-item":"true",onClick:()=>d(!1),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-slate-100 transition hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 ${I?"bg-slate-800/80":""}`,children:[s.jsx(j,{className:Ji}),m(T.labelKey)]},T.key)})})]})}const Xg={en:"English",cs:"etina",de:"Deutsch",pl:"Polski",sk:"Slovenina"};function Ju({authenticated:r=!1,compact:i=!1}){const{locale:o,setLocale:d,t:m}=De(),f=u.useId(),h=async g=>{if(d(g),r)try{await dx(g)}catch{}};return s.jsxs("div",{className:`flex flex-col gap-1 ${i?"":"mt-2"}`,children:[s.jsxs("label",{htmlFor:f,className:"inline-flex items-center gap-2 text-xs text-slate-300",children:[s.jsx(jm,{className:"h-3.5 w-3.5","aria-hidden":"true"}),s.jsx("span",{children:m("language.label")})]}),s.jsx("select",{id:f,className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 outline-none transition focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/40","aria-label":m("language.label"),value:o,onChange:g=>{h(g.target.value)},children:po.map(g=>s.jsx("option",{value:g,children:Xg[g]},g))})]})}const Qu=({isActive:r})=>`rounded-full px-3 py-1 text-sm transition ${r?"bg-indigo-500/20 text-indigo-200":"text-slate-300 hover:text-white"}`,ey=()=>{const r=tt(),{t:i}=De(),{session:o,status:d,refresh:m}=Wt(),f=Jg(d,o),h=o?.permissions?.includes("system.admin")??!1,g=yo(),x=vo(g),S=async()=>{await ox(),await m(),r("/",{replace:!0})};return s.jsx("div",{className:"border-b border-slate-800 bg-slate-950/70 backdrop-blur",children:s.jsx(io,{children:s.jsxs("div",{className:"flex flex-col gap-4 py-5 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"AstraId"}),s.jsx("h1",{className:"text-xl font-semibold text-white",children:"AstraId"})]}),s.jsxs("nav",{className:"flex flex-wrap items-center gap-2","aria-label":i("common.primaryNavigation"),children:[s.jsx(jr,{to:"/",className:Qu,children:i("common.home")}),d==="loading"?s.jsx("span",{className:"rounded-full border border-slate-800 px-3 py-1 text-sm text-slate-500",children:i("common.loadingSession")}):null,f&&h?x?s.jsx("a",{href:g,className:"rounded-full px-3 py-1 text-sm text-amber-200 transition hover:text-amber-50",children:i("common.admin")}):s.jsx(jr,{to:g,className:Qu,children:i("common.admin")}):null]}),s.jsx("div",{className:"flex flex-wrap items-center gap-3",children:d==="loading"?s.jsx("span",{className:"text-sm text-slate-500",children:i("common.loadingSession")}):f&&o?s.jsxs(s.Fragment,{children:[s.jsx(Ju,{authenticated:!0,compact:!0}),s.jsx(Zg,{session:o,onLogout:S})]}):s.jsx(Ju,{compact:!0})})]})})})},ty=()=>{const{t:r}=De();return Ga({title:r("common.metaTitle"),description:r("common.metaDescription")}),s.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[s.jsx("header",{children:s.jsx(ey,{})}),s.jsx("main",{"aria-label":r("common.main"),children:s.jsx(io,{children:s.jsx("div",{className:"py-10",children:s.jsx(wr,{})})})}),s.jsx("footer",{className:"border-t border-slate-800/80 bg-slate-950/60 py-4",children:s.jsx(io,{children:s.jsx("p",{className:"text-xs text-slate-500",children:r("footer.copyright").replace("{{year}}",String(new Date().getFullYear()))})})})]})},sy="/",ny=()=>s.jsxs(Ah,{children:[s.jsxs(ne,{element:s.jsx(ty,{}),children:[s.jsx(ne,{path:"/",element:s.jsx(xx,{})}),s.jsxs(ne,{path:"/account",element:s.jsx(Yx,{children:s.jsx(l0,{})}),children:[s.jsx(ne,{index:!0,element:s.jsx(j0,{})}),s.jsx(ne,{path:"profile",element:s.jsx(Ks,{to:"/account",replace:!0})}),s.jsxs(ne,{path:"security",element:s.jsx(E0,{}),children:[s.jsx(ne,{path:"mfa",element:s.jsx(k0,{})}),s.jsx(ne,{path:"email",element:s.jsx(w0,{})}),s.jsx(ne,{path:"password",element:s.jsx(b0,{})}),s.jsx(ne,{path:"sessions",element:s.jsx(N0,{})}),s.jsx(ne,{path:"activity",element:s.jsx(C0,{})})]}),s.jsx(ne,{path:"privacy",element:s.jsx(P0,{})})]}),s.jsx(ne,{path:"/account/email/confirm",element:s.jsx(R0,{})}),s.jsx(ne,{path:"/error/403",element:s.jsx(I0,{})}),s.jsx(ne,{path:"/error/404",element:s.jsx(Du,{})}),s.jsx(ne,{path:"/error/500",element:s.jsx(D0,{})}),s.jsx(ne,{path:"*",element:s.jsx(Du,{})})]}),s.jsxs(ne,{element:s.jsx(Gg,{}),children:[s.jsx(ne,{path:"/mfa",element:s.jsx(T0,{})}),s.jsx(ne,{path:"/forgot-password",element:s.jsx(Qi,{children:s.jsx(Gx,{})})}),s.jsx(ne,{path:"/reset-password",element:s.jsx(Jx,{})}),s.jsx(ne,{path:"/activate",element:s.jsx(Qx,{})}),s.jsx(ne,{path:"/login",element:s.jsx(Qi,{children:s.jsx(Wx,{})})}),s.jsx(ne,{path:"/register",element:s.jsx(Qi,{children:s.jsx(qx,{})})})]}),s.jsxs(ne,{path:z0,element:s.jsx(V0,{children:s.jsx(B0,{})}),children:[s.jsx(ne,{index:!0,element:s.jsx(W0,{})}),s.jsx(ne,{path:"oidc/clients",element:s.jsx(q0,{})}),s.jsx(ne,{path:"oidc/clients/new",element:s.jsx(tg,{})}),s.jsx(ne,{path:"oidc/clients/:id",element:s.jsx(sg,{})}),s.jsx(ne,{path:"oidc/scopes",element:s.jsx(ng,{})}),s.jsx(ne,{path:"oidc/scopes/new",element:s.jsx(lg,{})}),s.jsx(ne,{path:"oidc/scopes/:id",element:s.jsx(ig,{})}),s.jsx(ne,{path:"oidc/resources",element:s.jsx(og,{})}),s.jsx(ne,{path:"oidc/resources/new",element:s.jsx(dg,{})}),s.jsx(ne,{path:"oidc/resources/:id",element:s.jsx(ug,{})}),s.jsx(ne,{path:"config/permissions",element:s.jsx(mg,{})}),s.jsx(ne,{path:"config/permissions/new",element:s.jsx(xg,{})}),s.jsx(ne,{path:"config/permissions/:id",element:s.jsx(gg,{})}),s.jsx(ne,{path:"config/roles",element:s.jsx(yg,{})}),s.jsx(ne,{path:"config/roles/:id",element:s.jsx(vg,{})}),s.jsx(ne,{path:"config/api-resources",element:s.jsx(jg,{})}),s.jsx(ne,{path:"config/api-resources/new",element:s.jsx(wg,{})}),s.jsx(ne,{path:"config/api-resources/:id",element:s.jsx(Ng,{})}),s.jsx(ne,{path:"config/api-resources/:id/endpoints",element:s.jsx(Sg,{})}),s.jsx(ne,{path:"users",element:s.jsx(kg,{})}),s.jsx(ne,{path:"users/:id",element:s.jsx(Cg,{})}),s.jsx(ne,{path:"audit",element:s.jsx(Eg,{})}),s.jsx(ne,{path:"diagnostics/errors",element:s.jsx(Pg,{})}),s.jsx(ne,{path:"diagnostics/errors/:id",element:s.jsx(Rg,{})}),s.jsx(ne,{path:"diagnostics/email-outbox",element:s.jsx(Kg,{})}),s.jsx(ne,{path:"security/keys",element:s.jsx(Ig,{})}),s.jsx(ne,{path:"security/rotation",element:s.jsx(Ug,{})}),s.jsx(ne,{path:"security/tokens",element:s.jsx(Lg,{})}),s.jsx(ne,{path:"security/incidents",element:s.jsx(_g,{})}),s.jsx(ne,{path:"security/revocation",element:s.jsx(Og,{})}),s.jsx(ne,{path:"security/dataprotection",element:s.jsx(Mg,{})}),s.jsx(ne,{path:"security/user-lifecycle",element:s.jsx($g,{})}),s.jsx(ne,{path:"security/inactivity",element:s.jsx(Vg,{})}),s.jsx(ne,{path:"security/privacy",element:s.jsx(Hg,{})}),s.jsx(ne,{path:"security/signing-keys",element:s.jsx(Ks,{to:"security/keys",replace:!0})}),s.jsx(ne,{path:"security/token-policies",element:s.jsx(Ks,{to:"security/tokens",replace:!0})}),s.jsx(ne,{path:"*",element:s.jsx(Ks,{to:sy,replace:!0})})]})]});Bf.createRoot(document.getElementById("root")).render(s.jsx(Zu.StrictMode,{children:s.jsx(hx,{children:s.jsx(px,{children:s.jsx(Vh,{basename:L0,children:s.jsx(ny,{})})})})}));
