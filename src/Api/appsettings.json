{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Auth": {
    "ValidationMode": "Jwt",
    "Issuer": "https://localhost:7001/",
    "Audience": "api",
    "Scopes": [
      "api"
    ],
    "ClockSkewSeconds": 0,
    "Introspection": {
      "ClientId": "resource-api",
      "ClientSecret": "<set-in-environment-or-user-secrets>",
      "Scope": "api"
    },
    "RequiredScope": "api"
  },
  "InternalTokens": {
    "Issuer": "astraid-api",
    "Audience": "astraid-app",
    "TokenTtlSeconds": 120,
    "AllowedServices": [
      "api"
    ],
    "Signing": {
      "Algorithm": "RS256",
      "RotationEnabled": true,
      "RotationIntervalDays": 30,
      "PreviousKeyRetentionDays": 60,
      "KeySize": 2048
    },
    "Jwks": {
      "Enabled": true,
      "Path": "/internal/.well-known/jwks.json",
      "RequireInternalApiKey": true,
      "InternalApiKeyHeaderName": "X-Internal-Api-Key",
      "InternalApiKey": "__REPLACE_ME__"
    }
  },
  "Api": {
    "AuthServer": {
      "BaseUrl": "https://localhost:7001",
      "ApiName": "api",
      "ApiKey": "",
      "RefreshMinutes": 5
    }
  },
  "Services": {
    "AuthServer": {
      "BaseUrl": "https://localhost:7001",
      "ApiKey": "",
      "HealthCheckPath": ".well-known/openid-configuration",
      "Enabled": true
    },
    "Cms": {
      "BaseUrl": "https://localhost:7003",
      "ApiKey": "",
      "HealthCheckPath": "health",
      "Enabled": true
    },
    "AppServer": {
      "BaseUrl": "https://localhost:7003",
      "ApiKey": "",
      "HealthCheckPath": "health",
      "Enabled": true
    }
  },
  "Http": {
    "TimeoutSeconds": 30,
    "RetryCount": 3,
    "RetryBaseDelaySeconds": 1
  },
  "Swagger": {
    "OAuthClientId": "web-spa",
    "EnableInProduction": false
  },
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:5173"
    ]
  },
  "Redis": {
    "ConnectionString": "localhost:6379,abortConnect=false",
    "EnableSignalRBackplane": true
  },
  "AllowedHosts": "*",
  "SecurityHeaders": {
    "Enabled": true,
    "EnableHsts": true,
    "CspMode": "Off",
    "AllowedFrameAncestors": [
      "'none'"
    ],
    "AdditionalScriptSources": []
  },
  "AppServer": {
    "BaseUrl": "https://localhost:7003",
    "Mtls": {
      "Enabled": false,
      "ClientCertificate": {
        "Source": "File",
        "Path": "__REPLACE_ME__",
        "Password": "__REPLACE_ME__",
        "Thumbprint": "__REPLACE_ME__"
      },
      "ServerCertificate": {
        "ValidationMode": "System",
        "PinnedThumbprints": [
          "__REPLACE_ME__"
        ]
      }
    }
  },
  "SecurityHardening": {
    "Enabled": true,
    "RateLimiting": {
      "Enabled": true
    },
    "Headers": {
      "Enabled": true
    },
    "Cors": {
      "StrictMode": true
    }
  }
}
