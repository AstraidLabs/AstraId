@page "/admin/{*path}"
@attribute [Authorize(Policy = "AdminOnly")]
@model AuthServer.Areas.Admin.Pages.IndexModel
@inject AuthServer.Services.AdminUiManifestService AdminUiManifest
@{
    Layout = null;
    var entry = AdminUiManifest.GetEntry("index.html");
    var cssFiles = entry?.Css ?? Array.Empty<string>();
    var scriptFile = entry?.File;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin</title>
    @foreach (var css in cssFiles)
    {
        <link rel="stylesheet" href="@AdminUiManifest.GetAssetPath(css)" />
    }
</head>
<body class="bg-slate-950 text-slate-100">
<div id="root"></div>

@if (!string.IsNullOrWhiteSpace(scriptFile))
{
    <script type="module" src="@AdminUiManifest.GetAssetPath(scriptFile)"></script>
}
else
{
    <div class="p-6 text-red-200">
        Admin UI bundle was not found. Run the admin UI build to generate assets.
    </div>
}
</body>
</html>
